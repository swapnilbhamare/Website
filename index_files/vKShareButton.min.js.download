define("vKShareButton/SantaTypes/vkSantaTypes",["lodash","prop-types","santaProps"],function(e,t,s){"use strict";var a={Button:{w:100,h:21},ButtonWithoutCounter:{w:64,h:21},Link:{w:50,h:21},LinkWithoutIcon:{w:30,h:21},Icon:{w:36,h:36}};return{size:s.createSantaType(t.shape({width:t.number}),function(t,r){var n=t.fetchSantaType(s.Types.Component.compData,t,r);return function(e,t){var s=a[t]||a.Button;return{width:e||s.w,height:s.h}}(e.get(t.siteAPI.getAspectComponentData("vkPostMessage",r.structure.id),"width"),n.style)},!0)}}),define("vKShareButton/aspect/vkPostMessageAspect",[],function(){"use strict";function e(e){this._siteAspectsSiteAPI=e,e.registerToMessage(function(e){var s=void 0;try{s=JSON.parse(e.data)}catch(e){return}s.id&&s.width&&this._siteAspectsSiteAPI.updateAspectComponentData(t,s.id,s)}.bind(this))}var t="vkPostMessage";return{ctor:e,name:t}}),define("vKShareButton/component/vKShareButton",["react-dom-factories","lodash","core","santaProps","utils","socialCommon","vKShareButton/SantaTypes/vkSantaTypes","vKShareButton/aspect/vkPostMessageAspect"],function(e,t,s,a,r,n,i){"use strict";var o=function(e,t){var s=e.compData,a={id:e.id,url:t,style:s.style,text:s.text||"Share"};return e.santaBase+"/static/external/VKShare.html?"+r.urlUtils.toQueryString(a)};return{displayName:"VKShareButton",mixins:[s.compMixins.skinBasedComp,n.socialCompMixin],statics:{useSantaTypes:!0},propTypes:{compData:a.Types.Component.compData.isRequired,id:a.Types.Component.id.isRequired,santaBase:a.Types.santaBase.isRequired,currentUrlPageId:a.Types.currentUrlPageId.isRequired,size:i.size.isRequired},getSkinProperties:function(){var s=this.getSocialUrl(),a=function(e,s,a){return{allowTransparency:"true",key:"VKShareButton-"+e.currentUrlPageId,frameBorder:"0","data-src":o(e,a),scrolling:"no",style:t.clone(s),title:"VK Share","aria-label":"VK Share"}}(this.props,this.props.size,s);return{"":{style:this.props.size,tabIndex:0,title:"VK Share","aria-label":"VK Share"},iframe:e.iframe(a)}}}}),define("vKShareButton/skins/skins.json",[],function(){"use strict";var e={};return e["skins.viewer.vkshare.VKShareSkin"]={react:[["iframe","iframe",[],{}]],css:{"%iframe":"display:block;width:100%;height:100%;overflow:hidden;"}},e}),define("vKShareButton",["core","vKShareButton/component/vKShareButton","vKShareButton/aspect/vkPostMessageAspect","skins","vKShareButton/skins/skins.json"],function(e,t,s,a,r){"use strict";return e.siteAspectsRegistry.registerSiteAspect(s.name,s.ctor),e.compRegistrar.register("wysiwyg.viewer.components.VKShareButton",t,!0),a.skinsMap.addBatch(r),t});
//# sourceMappingURL=vKShareButton.min.js.map