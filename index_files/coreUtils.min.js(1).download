function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("coreUtils/core/ajaxLibrary",["lodash"],function(e){"use strict";var t=function(){throw"must register ajax function: zepto $.ajax for clientSide, or request() for serverSide"};return{register:function(e){if("function"!=typeof e)throw"ajaxMethod must be a function";t=e},ajax:function(n){return n.asForm?n.contentType="application/x-www-form-urlencoded":"POST"===n.type&&"json"===n.dataType&&e.isObject(n.data)&&!n.asForm&&e.assign(n,{data:JSON.stringify(n.data),contentType:n.contentType||"application/json; charset=utf-8",processData:!1}),t(n)},get:function(e,n,r,i){if("object"===(void 0===e?"undefined":_typeof(e)))return t(e);var a={url:e};return n&&(a.data=n),r&&(a.success=r),i&&(a.dataType=i),t(a)}}}),define("coreUtils/core/imageClientApi",["imageClientLib"],function(e){"use strict";return e.populateGlobalFeatureSupport(),e}),define("coreUtils/core/imageAnalyzer",["lodash"],function(e){"use strict";function t(){e.forEach(l,function(e){this[e]={}}.bind(this))}function n(e){for(var t=0,n=e.length/4,r=0;r<e.length;r+=4){var i=e[r]/255,a=e[r+1]/255,o=e[r+2]/255;t+=100*Math.max(i,a,o)/n}return t}function r(e){var t=n(e.data);postMessage(JSON.stringify(t))}function i(t,i,a){window.Worker||a("Browser does not support Web Workers");var o=new window.Blob([String(n)+"onmessage = "+String(r)+";"]),s=window.URL.createObjectURL(o),c=new window.Worker(s);c.onmessage=function(t){c.terminate();var n=JSON.parse(t.data);e.isFinite(n)?i(n):a()},c.onerror=a,c.postMessage(t)}function a(e,t,n,r){!function(e,t,n){var r=new window.Image;r.crossOrigin="Anonymous",r.onload=function(){t(r)},r.onerror=n,r.src=e}(e,function(a){p.setReqStatus(l.BRIGHTNESS,e,u.PENDING);i(function(e,t){var n=window.document.createElement("canvas").getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,t.width,t.height).data}(a,t),n,r)},r)}function o(t){var n=p.getResultErrorCallbacks(l.BRIGHTNESS,t);p.remove(l.BRIGHTNESS,t),e.forEach(n,function(e){e()})}function s(t,n){var r=p.getResultSuccessCallbacks(l.BRIGHTNESS,t);p.setReqStatus(l.BRIGHTNESS,t,u.COMPLETE),p.setReqResult(l.BRIGHTNESS,t,n),e.forEach(r,function(e){e(n)}),p.clearResultCallbacks(l.BRIGHTNESS,t)}function c(t,n,r,i){i=i||e.noop,r=r||e.noop,function(){var e=window.document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}()||i("HTML5 <canvas> is not supported in this browser");switch(p.getReqStatus(l.BRIGHTNESS,t)){case u.COMPLETE:r(p.getReqResult(l.BRIGHTNESS,t));break;case null:p.setReqStatus(l.BRIGHTNESS,t,u.INIT),p.registerCallbacksForResult(l.BRIGHTNESS,t,r,i),a(t,n,e.partial(s,t),e.partial(o,t));break;default:p.registerCallbacksForResult(l.BRIGHTNESS,t,r,i)}}var l={BRIGHTNESS:"brightness"},u={INIT:"init",PENDING:"pending",COMPLETE:"complete"};t.prototype={getReqResult:function(e,t){var n=this[e][t];return n&&n.status===u.COMPLETE?n.result:null},setReqResult:function(e,t,n){this[e][t]=this[e][t]||{},this[e][t].result=n},getReqStatus:function(e,t){var n=this[e][t];return n&&n.status||null},setReqStatus:function(e,t,n){this[e][t]=this[e][t]||{},this[e][t].status=n},remove:function(e,t){delete this[e][t]},registerCallbacksForResult:function(e,t,n,r){this[e][t]=this[e][t]||{};var i=this[e][t];i.callbacks=i.callbacks||{onSuccess:[],onError:[]},i.callbacks.onSuccess.push(n),i.callbacks.onError.push(r)},clearResultCallbacks:function(e,t){delete this[e][t].callbacks},getResultSuccessCallbacks:function(e,t){var n=this[e][t];return n&&n.callbacks&&n.callbacks.onSuccess||[]},getResultErrorCallbacks:function(e,t){var n=this[e][t];return n&&n.callbacks&&n.callbacks.onError||[]}};var p=new t;return{getImageMeanBrightness:c}}),define("coreUtils/core/imageUtils",["lodash","coreUtils/core/imageClientApi","coreUtils/core/imageAnalyzer"],function(e,t,n){"use strict";function r(n,r,i,a,o){if(!n.containerWidth||!n.containerHeight||!n.imageData.uri)return{uri:"",css:{}};var s=n.imageData,c=n.displayMode||t.fittingTypes.SCALE_TO_FILL,l=e.defaults(n.quality||{},s.quality);a=function(t,n){var r=e.get(t,"query",{}),i=e(r).keys().find(function(t){return e.includes(["devicepixelratio"],t.toLowerCase())});return Number(r[i])||n||1}(i,a);var u=e.assign(e.pick(s,["width","height","crop"]),{id:s.uri}),p={width:n.containerWidth,height:n.containerHeight,htmlTag:o||"img",pixelAspectRatio:a,alignment:n.alignType||t.alignTypes.CENTER},g=t.getData(c,u,p,l);return g.uri=r(g.uri),(s.itemProp||n.addItemProp)&&(g.itemProp=s.itemProp||"image"),e.has(n,"labelledById")&&(g["aria-labelledby"]=n.labelledById),e.has(n,"describedById")&&(g["aria-describedby"]=n.describedById),g}function i(e,t){return{width:Math.ceil(e),exactWidth:e,height:Math.ceil(t),exactHeight:t}}return{getContainerSize:function(n,r,a){var o=r.width/r.height,s=void 0,c=void 0,l=a===t.fittingTypes.LEGACY_FIT_WIDTH,u=a===t.fittingTypes.LEGACY_FIT_HEIGHT;return l?(c=n.width/o,s=i(n.width,c)):s=u?i(n.height*o,n.height):e.clone(n),s},getImageComputedProperties:r,getImageMeanBrightness:n.getImageMeanBrightness,alignTypes:t.alignTypes,fittingTypes:t.fittingTypes}}),define("coreUtils/core/languages",[],function(){"use strict";return["de","en","es","fr","it","ja","ko","pl","ru","nl","tr","sv","pt","no","da","hi","zh","cs","th"]}),define("coreUtils/core/SiteDataPrivates",["lodash"],function(e){"use strict";function t(){this.name="_privates_"+n,n++}if("undefined"!=typeof WeakMap)return WeakMap;var n=0;return t.prototype.set=function(e,t){e[this.name]=t},t.prototype.get=function(e){return e[this.name]},t.prototype.delete=function(e){delete e[this.name]},t.prototype.has=function(t){return e.has(t,this.name)},t}),define("coreUtils/core/pathValidationUtil",["lodash","coreUtils/core/SiteDataPrivates"],function(e,t){"use strict";function n(t,n,i){if(!n||!e.isArray(n))return!1;var a=n[n.length-1],o=r(t,n,i?n.length:n.length-1);return!e.isUndefined(o)&&(!!i||function(t,n){if(e.isArray(n))return/^\d+$/.test(t);if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(n))return e.isString(t);return!1}(a,o))}function r(t,n,r){var a=e.take(n,r);if(n&&"pagesData"===n[0]&&!e.isEmpty(t.pagesDataRaw))return 0===a.length?t.pagesDataRaw:e.get(t.pagesDataRaw,a);var o=i.get(t);return e.get(o,"mobxDataHandlers.getObservableByPath")?o.mobxDataHandlers.getObservableByPath(t,a):function(t,n,r){for(var i=t,a=0;a<n&&(i=i[r[a]],!e.isUndefined(i));a++);return i}(t,r,n)}var i=new t;return{setMobxDataHandlers:function(t,n){var r=i.get(t);i.set(t,e.assign(r,{mobxDataHandlers:n}))},validatePath:function(t,r,i){if(!e.isArray(t))throw new Error("path type is not an array - "+t);if(!n(r,t,i))throw new Error("path does not exist - "+t);return!0},validatePathExist:n,validatePathExistsAndCorrect:function(t,n,i){if(!n)return!1;var a=r(t,n,n.length);return!e.isUndefined(a)&&(!i||i(a))}}}),define("coreUtils/dal/DisplayedJsonDal",["lodash","coreUtilsLib","coreUtils/core/pathValidationUtil"],function(e,t,n){"use strict";function r(e,t,r){return n.validatePathExist(e,t,r)}var i=t.objectUtils.cloneDeep,a=function(e,t,n){this.pointersCache=t,this.jsonData=e,this.jsonData.pagesDataRaw={},this.mobxDataHandlers=n||{}};return a.prototype={get:function(e,t){var n=this.pointersCache.getPath(e);return this.getByPath(n,t)},getByPath:function(t,n){if(t)return this.mobxDataHandlers.getByPath?this.mobxDataHandlers.getByPath(this.jsonData,t,n):i(e.get(this.jsonData,t))},set:function(e,t){var n=this.pointersCache.getPath(e,!0);this.setByPath(n,t)},setByPath:function(t,n){if(!e.isArray(t))throw new Error("path type is not an array - "+t);this.mobxDataHandlers.setByPath?this.mobxDataHandlers.setByPath(this.jsonData,t,n):e.set(this.jsonData,t,i(n)),this.pointersCache.resetValidations()},isExist:function(e){return!!this.pointersCache.getPath(e)},isPathExist:function(e){return this.mobxDataHandlers.getObservableByPath&&this.mobxDataHandlers.getObservableByPath(this.jsonData,e),r(this.jsonData,e,!0)},merge:function(e,t){if(this.isExist(e)){var n=this.pointersCache.getPath(e);this.mergeByPath(n,t)}},mergeByPath:function(t,n){if(r(this.jsonData,t,!0)&&e.isPlainObject(n))this.mobxDataHandlers.mergeByPath?this.mobxDataHandlers.mergeByPath(this.jsonData,t,n):function(t,n){var r=this.getByPath(t),i=e.assign({},r,n);this.setByPath(t,i)}.call(this,t,n),this.pointersCache.resetValidations();else if(!e.isPlainObject(n))throw new Error(n+" is not an object")},push:function(t,n,r,i){if(!this.isExist(t))throw new Error(JSON.stringify(t)+" path does not exist");var a=this.pointersCache.getPath(t);if(!e.isUndefined(i)&&!e.isNumber(i))throw new Error("push index arguments should be a number");if(this.pushByPath(a,n,i),r){var o=a.concat(i);this.pointersCache.setPath(r,o)}},pushByPath:function(t,n,r){var i=void 0;if(i=this.mobxDataHandlers.getObservableByPath?this.mobxDataHandlers.getObservableByPath(this.jsonData,t):this.getByPath(t),(r=e.isNumber(r)?r:i.length)>i.length||r<0)throw new Error("Index out of bound");this.mobxDataHandlers.pushByPath?this.mobxDataHandlers.pushByPath(this.jsonData,r,i,n,t):function(e,t,n,r){0===e?t.unshift(n):t.splice(e,0,n),this.setByPath(r,t)}.call(this,r,i,n,t),this.pointersCache.resetValidations()},remove:function(e){var t=this.pointersCache.getPath(e);if(!t)throw new Error(e+" pointer does not exist");this.removeByPath(t)},removeByPath:function(t){if(!t)throw new Error("path is not valid");this.mobxDataHandlers.removeByPath?this.mobxDataHandlers.removeByPath(this.jsonData,t):function(t,n){var r=[].concat(n),i=r.pop(),a=e.get(t,r,t);e.isArray(a)?a.splice(i,1):delete a[i]}(this.jsonData,t),this.pointersCache.resetValidations()},getKeys:function(e,t){var n=this.pointersCache.getPath(e);if(n)return this.getKeysByPath(n,t)},getKeysByPath:function(t,r){return n.validatePath(t,this.jsonData),this.mobxDataHandlers.getKeysByPath?this.mobxDataHandlers.getKeysByPath(this.jsonData,t,r):function(t,n){var r=e.get(t,n);if(!e.isPlainObject(r))throw new Error("Can not get keys of an element that isn't a plain object");return e.keys(r)}(this.jsonData,t)},getStructureProperty:function(t){var n=this.pointersCache.getPath(t,!0);return e.has(this.jsonData.pagesDataRaw,n)||e.get(this.jsonData,e.slice(n,0,3),{}).isStructureNode||this.setByPath(n,void 0),this.getByPath(n)}},a}),define("coreUtils/core/displayedOnlyStructureUtil",["lodash"],function(e){"use strict";function t(e,t){return e+o+t}function n(r,i,a){var o=e.cloneDeep(e.omit(r,["components"]));a=a||e.noop;var c=r.components,l=e.map(c,function(e){return n(e,i,a)}),u=t(o.id,i),p=e.reduce(s,function(e,n){return o[n]&&(e[n]=t(o[n],i)),e},{id:u});return function(e,n,r){var i=e.id;r(i,t(i,n))}(o,i,a),e.defaults(p,c&&{components:l},o)}function r(t){var n=t.components,i=e.map(n,function(e){return r(e)}),o=e.reduce(s,function(e,n){return t[n]&&(e[n]=a(t[n])),e},{});return t.id&&(o.id=a(t.id)),e.defaults(o,n&&{components:i},t)}function i(e){if(e)return e.split(o)[1]}function a(e){if(e)return e.split(o)[0]}var o="__",s=["dataQuery","designQuery"];return{getUniqueStructure:n,getOriginalStructure:r,isDisplayedComponent:function(e){return!!i(e)},getItemId:i,getUniqueDisplayedId:t,getOriginalId:a}}),define("coreUtils/core/SessionFreezer",["lodash"],function(e){"use strict";var t=[];return{freeze:function(e){t.push(e)},start:function(){e.forEach(t,Object.freeze)}}}),define("coreUtils/pointers/pointerGeneratorsRegistry",["coreUtils/core/SessionFreezer"],function(e){"use strict";var t={},n={},r={},i={};return e.freeze(t),e.freeze(n),e.freeze(r),e.freeze(i),{registerDataAccessPointersGenerator:function(e,i,a){a?n[e]=i:t[e]=i,r[e]=i},registerPointerType:function(e,t,n,r,a,o){i[e]={findItemFunction:t,identityCheckFunction:n,isUsingDifferentNameSpaceForFull:r,isExistInFullJson:a,supportDisplayedOnlySplit:o}},getRegularJsonGenerators:function(){return t},getBothRegularAndFullJsonGenerators:function(){return n},getAllTypes:function(){return i}}}),define("coreUtils/core/multilingual",["lodash"],function(e){"use strict";var t=null,n=null,r={PointerOperation:{GET:"get",SET:"set"},init:function(e){t=e.siteData,n=e},EMPTY_TRANSLATION_DATA:{data:{document_data:{}}},setCurrentLanguage:function(e){t.multilingual.currentLanguage=e,n.createDisplayedPages()},getCurrentLanguage:function(){return t.multilingual.currentLanguage},getOriginalLanguage:function(){return t.rendererModel.siteMetaData.multilingual.siteOriginalLanguage},getTranslationLanguages:function(){return t.rendererModel.siteMetaData.multilingual.siteLanguages},getTranslationPath:function(t,n){var i=r.getCurrentLanguage();return r.getOriginalLanguage()===i||e.isNull(i)?t:e.concat(e.take(t,n),"translations",i,e.drop(t,n))}};return r}),define("coreUtils/pointers/pointersCache",["lodash","coreUtils/core/pathValidationUtil","coreUtils/core/displayedOnlyStructureUtil","coreUtils/pointers/pointerGeneratorsRegistry","coreUtils/core/multilingual","experiment"],function(e,t,n,r,i,a){"use strict";function o(t,n){var r=t;return e.forEach(n,function(t){if(e.isUndefined(r))return!1;r=r[t]}),r}function s(t,n,i,s){this.initMyState(),this.json=n,this.fullJson=i,this.siteData=t;var c=e.get(s,"getItemInPath",o);this.getItemInPath=c.bind(null,n),this.fullJsonGetItemInPath=c.bind(null,i),this.validated={},this.pointersMap={},this.hasMultilingualExperiment=a.isOpen("sv_multilingual",this.siteData);var l=r.getAllTypes();e.forOwn(l,function(e,t){this.cache[t]={},this.itemFinders[t]=e.findItemFunction,this.identityCheckers[t]=e.identityCheckFunction,this.identityCheckersCache[t]={},e.isUsingDifferentNameSpaceForFull&&(this.fullJsonCache[t]={}),e.isExistInFullJson&&(this.typesExistingInFullJson[t]=!0),this.supportDisplayedOnlySplit[t]=e.supportDisplayedOnlySplit}.bind(this))}function c(e,t){var n=t?"|":",";return e.id+n+e.type}function l(n,r,a){var o=n&&this.fullJsonCache.hasOwnProperty(r.type),s=o?this.fullJsonCache:this.cache,l=n&&this.typesExistingInFullJson.hasOwnProperty(r.type),d=l?this.fullJson:this.json,m=l?this.fullJsonGetItemInPath:this.getItemInPath,h=s[r.type];if(!h)return null;var f=h[r.id],y=a&&e.isEmpty(r.innerPath),v=c(r,o),P=function(e,n,r,i,a){var o=this.validated[e]||u;if(i)return o||(t.validatePathExist(a,r,!1)?p:u);if(o!==g){var s=n.id,c=this.identityCheckersCache[n.type],l=c[s];l||(l=this.identityCheckers[n.type].bind(this,s),c[s]=l),o=t.validatePathExistsAndCorrect(a,r,l)?g:u}return o}.call(this,v,r,f,y,d,o);if(P===u&&(P=(f=y?null:function(e,t,n,r){var i=null,a=this.itemFinders[e.type];return a&&(i=a(this.siteData.getAllPossiblyRenderedRoots(),r,e),t[e.id]=i||n),i}.call(this,r,h,f,m))?g:this.validated[v]||u),this.validated[v]=P,f&&r.innerPath&&(f=f.concat(r.innerPath),!t.validatePathExist(d,f,!a)))return null;if(this.hasMultilingualExperiment&&e.has(r,"multilingual")&&e.includes(f,"pagesData")){var w=i.getTranslationPath(f,e.indexOf(f,"data")),I=r.multilingual===i.PointerOperation.GET;if(t.validatePathExist(d,f,!0)&&t.validatePathExist(d,w,I))return w}return f}var u=0,p=1,g=2;return s.prototype={initMyState:function(){this.cache={general:{}},this.fullJsonCache={},this.itemFinders={general:function(){return null}},this.identityCheckers={general:function(){return!0}},this.identityCheckersCache={},this.typesExistingInFullJson={},this.supportDisplayedOnlySplit={}},getBoundCacheInstance:function(e){return{getAllPointers:this.getAllPointers.bind(this),registerDisplayedOnlyComponent:this.registerDisplayedOnlyComponent.bind(this),clearDisplayedOnlyComponents:this.clearDisplayedOnlyComponents.bind(this),getPath:this.getPath.bind(this,e),getPointer:this.getPointer.bind(this,e),setPath:this.setPath.bind(this,e),resolveId:this.resolveId.bind(this,e),resetValidations:this.resetValidations.bind(this)}},setPath:function(e,t,n){n&&(e?this.fullJsonCache[t.type][this.resolveId(e,t.id,t.type)]=n:this.cache[t.type][this.resolveId(e,t.id,t.type)]=n)},getPath:function(t,n,r){if(!n)return null;var i={type:n.type,id:this.resolveId(t,n.id,n.type)};return n.hasOwnProperty("innerPath")&&(i.innerPath=n.innerPath),this.hasMultilingualExperiment&&e.has(n,"multilingual")&&(i.multilingual=n.multilingual),l.call(this,t,i,!!r)},getPointer:function(e,t,n,r,i){var a=e&&this.fullJsonCache[n],o=a?this.fullJsonCache[n]:this.cache[n],s={type:n,id:t};return r&&(function(e,t){if(!e)return!t;if(!t||t.length!==e.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(o[t],r)||(this.validated[c(s,a)]=u,o[t]=r)),o[t]?(i&&(s.component=i),s):null},getAllPointers:function(t){var n=this.resolveId(!0,t.id,t.type),r=e.get(this.pointersMap,n);if(!r)return[t];var i=e(r).map(function(e){return{id:e,path:this.getPath(!1,{id:e,type:t.type})}}.bind(this)).filter("path").map(function(e){var n=this.getPointer(!1,e.id,t.type,e.path);return t.innerPath&&t.innerPath.length&&(n.innerPath=t.innerPath),n}.bind(this)).value();return n===t.id&&e.isEmpty(i)?(delete this.pointersMap[n],[t]):i},registerDisplayedOnlyComponent:function(t,n){var r=e.get(this.pointersMap,t,{});r[n]=n,this.pointersMap[t]=r},clearDisplayedOnlyComponents:function(e){delete this.pointersMap[e]},resolveId:function(e,t,r){return e&&this.supportDisplayedOnlySplit[r]&&n.getOriginalId(t)||t},resetValidations:function(){this.validated={}}},s}),define("coreUtils/pointers/DataAccessPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";function n(n){this.full={};var r=n.getBoundCacheInstance(!1),i=n.getBoundCacheInstance(!0);!function(n,r,i){var a=t.getRegularJsonGenerators();e.forEach(a,function(t,a){n[a]=e.mapValues(t,function(e){return e.bind(t,r.getItemInPath,i)})})}(this,n,r),function(n,r){var i=t.getBothRegularAndFullJsonGenerators();e.forEach(i,function(t,i){n[i]=e.mapValues(t,function(e){return r(e,!1,t)}),n.full[i]=e.mapValues(t,function(e){return r(e,!0,t)})})}(this,function(t,a,o){return function(){var s=e.toArray(arguments),c=[n.getItemInPath,r].concat(s),l=[n.fullJsonGetItemInPath,i].concat(s),u=t.apply(o,c),p=t.apply(o,l);return a?p:u}})}function r(e){e&&n.call(this,e)}function i(t){if(t)return e(t).pick("type","id","fullId").omit(e.isUndefined).value()}return r.prototype={getGeneralTheme:function(){},getInnerPointer:function(t,n){var r=i(t);if(r){var a=e.isString(n)?n.split("."):n;r.innerPath=t.innerPath?t.innerPath.concat(a):a}return r},isSamePointer:function(e,t){return e&&t&&e.type===t.type&&e.id===t.id},getInnerPointerPathRoot:function(e){return e.innerPath?e.innerPath[0]:null},getOriginalPointerFromInner:i,getPointerType:function(t){switch(t.type){case"DESKTOP":case"MOBILE":return e.isEmpty(t.innerPath)?"component":"componentStructure";default:return t.type}}},r}),define("coreUtils/dal/DALFactory",["lodash","coreUtils/core/SiteDataPrivates","coreUtils/dal/DisplayedJsonDal","coreUtils/pointers/pointersCache","coreUtils/pointers/DataAccessPointers"],function(e,t,n,r,i){"use strict";function a(t,n){var i=s.get(t);if(i&&i.pointersCache)return i.pointersCache;var a=o(t,n||e.pick(t,"pagesData")),c=new r(t,t,a,e.get(i,"mobxDataHandlers"));return s.set(t,e.assign(s.get(t),{pointersCache:c})),c}function o(t,n){var r=s.get(t);return r&&r.fullJson?r.fullJson:(s.set(t,e.assign(s.get(t),{fullJson:n})),n)}var s=new t;return{setMobxDataHandlers:function(t,n){var r=s.get(t);s.set(t,e.assign(r,{mobxDataHandlers:n}))},getInstance:function(t,r){var i=s.get(t);if(i&&i.displayedJsonDal)return i.displayedJsonDal;var o=a(t,r),c=new n(t,o.getBoundCacheInstance(!1),e.get(i,"mobxDataHandlers"));return s.set(t,e.assign(s.get(t),{displayedJsonDal:c})),c},getCacheInstance:a,getPointersInstance:function(e,t){var n=a(e,t);return new i(n)},getFullPagesData:o}}),define("coreUtils/dal/siteDataUtils",["lodash","coreUtils/dal/DALFactory"],function(e,t){"use strict";function n(n,r,i){i=i||"general";var a=t.getInstance(n),o=["wixappsRenderCounters",r,i];a.isPathExist(o)||(!function(t,n){if(t.isPathExist(["wixappsRenderCounters"]))t.isPathExist(["wixappsRenderCounters",n])||t.setByPath(["wixappsRenderCounters",n],{});else{var r=e.set({},n,{});t.setByPath(["wixappsRenderCounters"],r)}}(a,r),a.setByPath(o,0));var s=a.getByPath(o);a.setByPath(o,s+1)}return{incrementWixappsRenderCounter:n,setRootNavigationInfo:function(e,n,r){var i=t.getInstance(e),a=["dynamicPages","routersRendererIndex"],o=n.pageId,s=e.isPopupPage(o),c={},l={};if(r&&(s||(c.primaryPage=null),c.popupPage=null),l[o]=n,e.isDynamicPage(o)){var u=i.getByPath(a);l[o].routersRendererIndex=n.pageAdditionalData+u,i.setByPath([a],u+1)}s?c.popupPage=n.pageId:(l[e.MASTER_PAGE_ID]=n,c.primaryPage=n.pageId),i.mergeByPath(["_currentRootInfos"],l),i.mergeByPath(["_currentPageIds"],c)},isMobileStructureExists:function(e){var n=t.getInstance(e);return n.isPathExist(["resolvedDataMaps","masterPage"]),n.isPathExist(["pagesData","masterPage","structure","mobileComponents"])},getBrowserFlag:function(e,n){return t.getInstance(e).getByPath(["_browserFlags",n])},setSvgString:function(e,n,r){t.getInstance(e).setByPath(["svgShapes",n,"content"],r)},getSvgString:function(e,n){return t.getInstance(e).getByPath(["svgShapes",n,"content"])},setSvgInfo:function(e,n,r){t.getInstance(e).setByPath(["svgShapes",n,"info"],r)},getSvgInfo:function(e,n){return t.getInstance(e).getByPath(["svgShapes",n,"info"])},setSvgBoxBoundaries:function(e,n,r){t.getInstance(e).setByPath(["svgShapes",n,"boxBoundaries"],r)},getSvgBoxBoundaries:function(e,n){return t.getInstance(e).getByPath(["svgShapes",n,"boxBoundaries"])},setSvgViewbox:function(e,n,r){t.getInstance(e).setByPath(["svgShapes",n,"viewbox"],r)},getSvgViewbox:function(e,n){return t.getInstance(e).getByPath(["svgShapes",n,"viewbox"])},getMediaStore:function(e,n){return t.getInstance(e).getByPath(["mediaStore",n])},isEditingMode:function(e){return"editor"===t.getInstance(e).getByPath(["renderFlags","componentViewMode"])},isWixAdsAllowed:function(e){return t.getInstance(e).getByPath(["renderFlags","isWixAdsAllowed"])},isHeaderFixedPosition:function(e){var n=e.getViewMode(),r=t.getPointersInstance(e),i=r.components.getPage(e.MASTER_PAGE_ID,n),a=r.components.getComponent("SITE_HEADER",i),o=r.getInnerPointer(a,["layout","fixedPosition"]);return t.getInstance(e).get(o)},getMapFromPageUriSeoToPageId:function(e){return t.getInstance(e).getByPath(["mapFromPageUriSeoToPageId"])},getRequestModel:function(e,n){var r=t.getInstance(e);return n?r.getByPath(["requestModel",n]):r.getByPath(["requestModel"])},getRendererModel:function(e,n){var r=t.getInstance(e);return n?r.getByPath(["rendererModel",n]):r.getByPath(["rendererModel"])},setCustomUrlMapping:function(e,n,r){t.getInstance(e).setByPath(["customUrlMapping",n],r)},getAllPageIds:function(n){var r=t.getInstance(n),i=["pagesData","masterPage","data","document_data"],a=r.getKeysByPath(i);return e.filter(a,function(e){var t=r.getByPath(i.concat([e,"type"]));return"Page"===t||"AppPage"===t})},updateScreenSize:function(n,r){var i=t.getInstance(n),a=n.getScreenSize();e.isEqual(a,r)||i.mergeByPath(["screenSize"],r)},isPageLoaded:function(t,n){return e.invoke(t.resolvedDataMaps,"has",n)}}}),define("coreUtils/core/wixUserApi",["lodash","coreUtils/core/languages","coreUtilsLib","coreUtils/dal/siteDataUtils"],function(e,t,n,r){"use strict";function i(e){var t=a.parseCookieString(e)[s];if(t){var n=t.split("|");return{userName:n[0],email:n[1],mailStatus:n[2],permissions:n[3],isSessionNew:n[4],isSessionValid:n[5],userID:n[6]}}return null}var a=n.cookieUtils,o="wixLanguage",s="wixClient";return{getUsername:function(e){var t=i(r.getRequestModel(e,"cookie"));return t?t.userName:null},getLanguage:function(n,r,i){var s=function(e){return a.parseCookieString(e)[o]}(n||""),c=r.query&&r.query.lang||function(){var e=r.host.split(".");return 2===e[0].length?e[0]:null}()||s||("undefined"==typeof window||void 0===window.navigator?null:(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)||i;return c&&(c=c.substring(0,2).toLowerCase()),e.includes(t,c)?c:"en"},isSessionValid:function(e){return!!i(e)},logout:function(e){var t=window.document?window.document.location.host:"";t=t.substring(t.indexOf(".")+1),a.deleteCookie(s,t),"undefined"!=typeof document&&(e.requestModel.cookie=window.document.cookie)},getLanguages:function(){return t}}}),define("coreUtils/wixUrlParser/utils/urlParserUtils",["lodash","coreUtilsLib","coreUtils/dal/siteDataUtils"],function(e,t,n){"use strict";return{getResolvedSiteData:function(r){if(r.isResolvedSiteData)return r;var i=r.getCurrentUrlPageId(),a=e.keyBy(r.getPagesDataItems(),"id");a.masterPage=r.getDataByQuery("masterPage");var o={primaryPageId:r.getPrimaryPageId(),urlFormat:r.getUrlFormat(),mainPageId:r.getMainPageId(),externalBaseUrl:r.getExternalBaseUrl(),unicodeExternalBaseUrl:r.getUnicodeExternalBaseUrl(),publicBaseUrl:r.getPublicBaseUrl(),currentUrl:r.currentUrl,currentUrlPageId:i,isFeedbackEndpoint:r.isFeedbackEndpoint(),isSiteHistoryEndpoint:r.isSiteHistoryEndpoint(),isViewerMode:r.isViewerMode(),isWixSite:r.isWixSite(),languageCode:r.getLanguageCode(),isTemplate:r.isTemplate(),isUsingSlashUrlFormat:r.isUsingUrlFormat(t.siteConstants.URL_FORMATS.SLASH),isPremiumDomain:r.isPremiumDomain(),allPageIds:r.getAllPageIds(),routersConfigMap:e.get(r,"routers.configMap"),cookie:n.getRequestModel(r,"cookie"),rendererModel:{runningExperiments:n.getRendererModel(r,"runningExperiments")},serviceTopology:{basePublicUrl:r.getServiceTopologyProperty("basePublicUrl"),baseDomain:r.getServiceTopologyProperty("baseDomain"),staticDocsUrl:r.getServiceTopologyProperty("staticDocsUrl")},pagesDataItemsMap:a,isPermalink:r.isPermalink,mapFromPageUriSeoToPageId:n.getMapFromPageUriSeoToPageId(r),pageResponseForUrl:r.pageResponseForUrl,rootNavigationInfo:r.getRootNavigationInfo()};return o.isResolvedSiteData=!0,o}}}),define("coreUtils/core/routerUtils",["lodash"],function(e){"use strict";return{isDynamicPage:function(t,n){return e.some(t,function(t){return e.includes(e.values(t.pages),n)})}}}),define("coreUtils/wixUrlParser/parsers/slashUrlParser",["lodash","coreUtilsLib","coreUtils/wixUrlParser/utils/urlParserUtils","coreUtils/dal/siteDataUtils","coreUtils/core/routerUtils"],function(e,t,n,r,i){"use strict";function a(n){return n.isPremiumDomain&&!function(n){var r=t.urlUtils.parseUrl(n.externalBaseUrl).host;return e.endsWith(r,"."+t.siteConstants.FREE_DOMAIN.WIXSITE)||e.endsWith(r,"."+n.serviceTopology.baseDomain)}(n)}function o(n){return"object"===("undefined"==typeof window?"undefined":_typeof(window))&&window.karmaIntegration?U.BEAKER:n.isFeedbackEndpoint?U.REVIEW:n.isSiteHistoryEndpoint?U.SITE_HISTORY:n.isViewerMode?a(n)?U.PREMIUM:n.isWixSite||function(n){var r=e.isObject(n.currentUrl)?n.currentUrl.full:t.urlUtils.parseUrl(n.currentUrl).full;return n.isTemplate&&e.startsWith(r,n.serviceTopology.basePublicUrl)}(n)?U.WIX_INTERNAL:U.FREE_SITE:U.PREVIEW}function s(n,a){var o=r.getMapFromPageUriSeoToPageId(n),s=e.get(o,a)||function(t,n){var r=e.find(t.pagesDataItemsMap,{pageUriSEO:n});return r&&r.id}(n,a)||t.errorPages.IDS.NOT_FOUND;return i.isDynamicPage(n.routersConfigMap,s)&&(s=t.errorPages.IDS.NOT_FOUND),s}function c(e){return e===S}function l(e,t){var n=e.pagesDataItemsMap[t];return n&&"Page"===n.type&&n.tpaApplicationId>0}function u(e,t){var n=e.pagesDataItemsMap[t];return n&&"AppPage"===n.type&&"AppBuilderPage"===n.appPageType}function p(e,t){return function(e,t){var n=e.pagesDataItemsMap[t];return n&&"AppPage"===n.type&&"AppPage"===n.appPageType&&n.appPageId===I}(e,t)||function(e,t){var n=e.pagesDataItemsMap[t];return n&&"AppPage"===n.type&&"AppPage"===n.appPageType&&n.appPageId===w}(e,t)}function g(e){return e&&e.replace(/^https?:\/\//,"")}function d(e,n){var r=g(t.urlUtils.getBaseUrlWithPath(n,o(e)));return t.urlUtils.isSame(r,g(e.externalBaseUrl))||t.urlUtils.isSame(r,g(e.unicodeExternalBaseUrl))||t.urlUtils.isHostnameYandexWebvisor(r)||/^s3\.amazonaws\.com\/wix\-/.test(r)}function m(n,r){var i=e.isObject(r)?r:t.urlUtils.parseUrl(r);if(i.hostname===D&&(i=function(e){var n=e.query.q,r=/\:([^\:]+)\+$/.exec(n);return r&&r[1]&&t.urlUtils.parseUrl(r[1])||e}(i)),!d(n,i))return null;var a=function(n,r){var i=t.urlUtils.parseUrl(n.externalBaseUrl).path.replace(/\/$/,"").split("/").length;return r?e.drop(r.split("/"),i):[]}(n,i.path),o=e.head(a),p=e.drop(a,1),g={format:t.siteConstants.URL_FORMATS.SLASH},m=function(t,n){if(n){var r=e.find(t.routersConfigMap,{prefix:n});if(r)return e.assign(r,{routerId:e.findKey(t.routersConfigMap,{prefix:n})})}}(n,o);if(m&&(g.routerDefinition=m,g.pageAdditionalData=o+"/"+p.join("/")),g.routerDefinition){g.innerRoute=p.join("/")||"/";var f=n.pageResponseForUrl;f&&f.pageId&&(g.pageId=f.pageId,g.title=f.title)}else o?c(o)?(g.pageItemId=e.head(p),g.pageId=n.currentUrlPageId||n.mainPageId):(g.pageId=s(n,o),u(n,g.pageId)?g.title=a[2]:g.title=o):(g.pageId=n.mainPageId,g.title=h(n,g.pageId));i.query[v]&&(g.pageItemId=i.query[v],g.imageZoom=!0);var y=e.omit(i.query,P);return i.query&&!e.isEmpty(y)&&(g.queryParams=y),a.length>1&&!g.routerDefinition&&(u(n,g.pageId)?g.pageAdditionalData=e.head(p):c(o)?g.pageAdditionalData=e.drop(p,1).join("/"):l(n,g.pageId)?g.tpaInnerRoute=function(t){return e.map(t,decodeURIComponent)}(p).join("/"):g.pageAdditionalData=p.join("/")),g}function h(n,r){var i=n.pagesDataItemsMap[r];return e.get(i,"pageUriSEO")||t.siteConstants.DEFAULT_PAGE_URI_SEO}function f(e){return e.routerId||e.routerDefinition}function y(n,r,i,a,o,s){var c=function(t){return e.omit(t.currentUrl.query,P)}(n),g=e.assign({},c,r.queryParams||{}),d=o||n.externalBaseUrl;d=d.replace(/\/$/,"");var m=n.isPermalink(r.pageItemId);if(f(r)){"CURRENT_INNER_ROUTE"===r.innerRoute&&(r.innerRoute=function(t){var n=e.get(t,"rootNavigationInfo.pageAdditionalData");if(n){var r=n.split("/");return e.drop(r,1).join("/")}}(n)||r.innerRoute);d+="/"+(r.routerId?e.get(n.routersConfigMap,r.routerId+".prefix"):r.routerDefinition.prefix),r.innerRoute&&"/"!==r.innerRoute&&(d+="/"+r.innerRoute)}else r.pageId&&!m&&(r.pageId!==n.mainPageId||i||r.pageAdditionalData||r.tpaInnerRoute)&&(d+="/"+h(n,r.pageId));if(u(n,r.pageId)&&r.pageAdditionalData)d+="/"+r.pageAdditionalData+(r.title?"/"+r.title:"");else if(l(n,r.pageId)&&r.tpaInnerRoute&&!f(r))d+="/"+function(t){return e.map(t,encodeURIComponent)}(r.tpaInnerRoute.split("/")).join("/");else if(p(n,r.pageId)&&r.pageAdditionalData){var y=s&&s.getCustomUrlMapping?s.getCustomUrlMapping():void 0,w=e.findKey(y,{id:r.pageAdditionalData});d+=w?"/"+w:"/"+r.pageAdditionalData}return r.pageItemId&&(m?r.pageAdditionalData&&(d+="/"+S+"/"+r.pageItemId+"/"+r.pageAdditionalData):r.imageZoom&&(g[v]=r.pageItemId)),a||e.isEmpty(g)||n.currentUrl.hostname===D||(d+="?"+t.urlUtils.toQueryString(g)),d}var v="lightbox",P=[v],w="7326bfbb-4b10-4a8e-84c1-73f776051e10",I="79f391eb-7dfc-4adf-be6e-64434c4838d9",S="_p",U={PREVIEW:7,SITE_HISTORY:8,WIX_INTERNAL:2,FREE_SITE:1,PREMIUM:0,REVIEW:3,BEAKER:3},D="webcache.googleusercontent.com";return{parseUrl:function(e,t){return m(n.getResolvedSiteData(e),t)},getUrl:function(e,t,r,i,a,o,s){return y(n.getResolvedSiteData(e),t,r,i,a,s)},isUrlToCurrentSite:function(e,r){var i=t.urlUtils.parseUrl(r);return d(n.getResolvedSiteData(e),i)}}}),define("coreUtils/log/log",["lodash","coreUtilsLib"],function(e,t){"use strict";return{init:function(n){var r=(n=n||console).log.bind(console),i=n.warn.bind(console),a=n.error.bind(console),o="undefined"==typeof window||"all"===t.urlUtils.parseUrl(e.get(window,["location","href"],"")).query.debug,s=o?r:e.noop;return{warnVerbose:o?i:e.noop,verbose:s,info:r,warn:i,error:a,warnDeprecation:function(e){o&&console.error("DocumentServices|Deprecated|"+e)}}}}}),define("coreUtils/wixUrlParser/parsers/hashBangUrlParser",["coreUtilsLib","lodash","coreUtils/wixUrlParser/utils/urlParserUtils","coreUtils/log/log"],function(e,t,n,r){"use strict";function i(t){var n=void 0;return"string"==typeof t?n=e.urlUtils.parseUrl(t):t.full?n=t:r.error("url to parse has to be either a string or an object"),n}function a(e,n){var r={},i=e.match(/#!(.*?)\/zoom[\/\|](.+?)\/([^\/]+)$/i);if(!i){var a=e.match(/#!(.*?)[\/\|]([^\/]+)\/?(.*$)/i);if(a){var o=a[1],s=a[2],c=a[3];return o&&(r.title=o),!function(e,n){return t.includes(e.allPageIds,n)}(n,s)?(r.pageId=n.primaryPageId||n.mainPageId,r.pageItemId=s):r.pageId=s,c&&(r.tpaInnerRoute=c,r.pageAdditionalData=c),r}return{pageId:n.mainPageId}}return i[1]&&(r.title=i[1]),r.pageId=i[2],r.pageItemId=i[3],r.imageZoom=!0,r}function o(n,r){if(!r)return null;var o=i("#"===r?n.currentUrl:r),s="localhost"===o.hostname;return function(t,n){return!(e.urlUtils.isHostnameYandexWebvisor(n.hostname)||c(t,n))}(n,o)&&!s?n.currentUrl.full!==o.full||t.includes(o.full,"#")?null:{pageId:n.mainPageId}:(t.isString(r)&&0===r.indexOf("#!")&&((o=t.clone(n.currentUrl)).hash=r),a(o.hash,n))}function s(e){return e&&e.replace(/^https?:\/\//,"")}function c(t,n){var r=n.hostname+n.path;return e.urlUtils.isSame(r,s(t.externalBaseUrl))||e.urlUtils.isSame(r,s(t.unicodeExternalBaseUrl))}function l(n,r,i,a,o,s){var c={title:r.title||e.siteConstants.DEFAULT_PAGE_URI_SEO};if(r.pageItemId&&!r.pageAdditionalData&&r.imageZoom?(c.id="zoom",c.additionalData=r.pageId+"/"+r.pageItemId):(r.pageId!==n.mainPageId||r.pageAdditionalData||r.tpaInnerRoute||i)&&(c.id=r.pageItemId||r.pageId,c.additionalData=r.tpaInnerRoute||r.pageAdditionalData),function(e,t){var n=e.pagesDataItemsMap[t];return n&&"AppPage"===n.type&&"AppPage"===n.appPageType&&n.appPageId===u}(n,r.pageId)&&s){var l=r.pageAdditionalData||"",p=s[l]||s[decodeURIComponent(l)]||{};c.id=r.pageId,c.title=p.title,c.additionalData=p.id}return function(n,r,i,a){var o=n.currentUrl,s=a||n.externalBaseUrl;s=s.replace("."+e.siteConstants.FREE_DOMAIN.WIXSITE+"/","."+e.siteConstants.FREE_DOMAIN.WIX+"/");var c=o.query;return i||t.isEmpty(c)||(s+="?"+e.urlUtils.toQueryString(c)),o.url=s,r.id&&(s+="#!"+r.title+"/"+r.id),r.additionalData&&(s+="/"+r.additionalData),s}(n,c,a,o)}var u="7326bfbb-4b10-4a8e-84c1-73f776051e10";return{parseUrl:function(e,t){return o(n.getResolvedSiteData(e),t)},getUrl:function(e,t,r,i,a,o){return l(n.getResolvedSiteData(e),t,r,i,a,o)},isUrlToCurrentSite:function(t,r){if("#"===r)return!0;var i=e.urlUtils.parseUrl(r);return c(n.getResolvedSiteData(t),i)}}}),define("coreUtils/wixUrlParser/wixUrlParser",["lodash","coreUtilsLib","coreUtils/wixUrlParser/parsers/slashUrlParser","coreUtils/wixUrlParser/parsers/hashBangUrlParser","coreUtils/wixUrlParser/utils/urlParserUtils"],function(e,t,n,r,i){"use strict";function a(n,r){var i=e.isObject(r)?r:t.urlUtils.parseUrl(r);return!t.stringUtils.startsWith(i.hash,"#!")&&n.isUsingSlashUrlFormat}function o(e,t){var s=i.getResolvedSiteData(e);return!t||function(e,t){return t===e.replace(/\/$/,"")+"/app"}(s.externalBaseUrl,t)?null:"#"===t?o(s,s.currentUrl.full):a(s,t)?n.parseUrl(s,t):r.parseUrl(s,t)}function s(e,t,n,r,a,o){var s=i.getResolvedSiteData(e);return function(e,t){return l[t||e.urlFormat]||l[e.urlFormat]}(s,t.format).getUrl(s,t,n,r,a,o,e)}function c(e,t){if(function(e,t){var o=i.getResolvedSiteData(e);return a(o,t)?n.isUrlToCurrentSite(o,t):r.isUrlToCurrentSite(o,t)}(e,t)){var o=e.currentUrl.protocol;return t.replace(/^https?:/,o)}return t}var l={slash:n,hashBang:r};return{getUrl:s,parseUrl:o,utils:i,normalizeProtocolForSameSite:c}}),define("coreUtils/core/linkUtils",["lodash","coreUtilsLib","coreUtils/wixUrlParser/wixUrlParser"],function(e,t,n){"use strict";function r(e){var t="mailto:"+(e.recipient&&e.recipient.trim()||""),n=[];return e.subject&&n.push("subject="+e.subject),e.body&&n.push("body="+e.body),n.length>0&&(t+="?"+n.join("&")),t}function i(n,r){var i=n.docId,a=/\.pdf$/i.test(i),o=r.serviceTopology.staticDocsUrl,s=void 0;return e.includes(i,"ugd/")&&e.includes(o,"/ugd")&&(i=i.substr(i.indexOf("ugd")+4)),s=o+"/"+i,a?!0===n.indexable&&(s+="?index=true"):s+="?"+t.urlUtils.toQueryString({dn:n.name}),s}function a(e){return"tel:"+e.phoneNumber}function o(t,o,c){if(o)switch(o.type){case"PageLink":if(o.pageId){s(t,o.pageId.replace("#",""),t.getSiteData().getAllPageIds(),!1,void 0,e.noop,c)}else c&&c({error:{message:"missing pageId property for PageLink"}});break;case"AnchorLink":!function(t,n,r){if(n.pageId){var i=n.pageId.replace("#","");if(t.getSiteData().getPrimaryPageId()===i||t.getSiteData().MASTER_PAGE_ID===i)t.scrollToAnchor(n.anchorDataId);else{var a=t.getSiteData().getAllPageIds();s(t,i,a,!1,n.anchorDataId,e.noop,r)}}else r&&r({error:{message:"missing pageId property for AnchorLink"}})}(t,o,c);break;case"ExternalLink":break;case"EmailLink":window.location.href=r(o);break;case"PhoneLink":window.location.href=a(o);break;case"DocumentLink":var l=i(o,t.getSiteData());window.open(l,"_self");break;case"DynamicPageLink":!function(e,t,r){var i=n.getUrl(e.getSiteData(),t),a=n.parseUrl(e.getSiteData(),i);r&&(a.anchorData=r);e.navigateToPage(a,!1,!1)}(t,o,o.anchorDataId)}}function s(t,n,r,i,a,o,s){if(e.includes(r,n)){t.getSiteAspect("actionsAspect").registerNavigationComplete(o);var c={pageId:n};i&&(c.transition="none"),a&&(c.anchorData=a),t.navigateToPage(c)}else s&&s({error:{message:'Page id "'+n+'" was not found.'}})}var c={PageLink:["type","pageId"],AnchorLink:["type","anchorName","anchorDataId","pageId"],ExternalLink:["type","target","url"],EmailLink:["type","recipient","subject"],PhoneLink:["type","phoneNumber"],DocumentLink:["type","docId","name"],DynamicPageLink:["type","routerId","innerRoute","anchorDataId"]};return{getEmailLink:r,getDocumentLink:i,getPhoneLink:a,navigateToLink:o,navigateToPage:s,getRelevantLinkDataFromMenuItem:function(t){var n={};return t.link&&(n=e.pick(t.link,c[t.link.type]),e.isObject(n.pageId)&&(n.pageId="#"+n.pageId.id),e.isObject(n.anchorDataId)&&(n.anchorDataId="#"+n.anchorDataId.id)),n}}}),define("coreUtils/core/linkRenderer",["lodash","coreUtilsLib","coreUtils/core/linkUtils","coreUtils/core/wixUserApi","coreUtils/wixUrlParser/wixUrlParser"],function(e,t,n,r,i){"use strict";function a(t,n,r){var a=n.pageId;if(!a)return{};var o=r||{pageId:a.id,title:a.pageUriSEO};n.queryParams&&e.assign(o,{queryParams:n.queryParams});var c=i.getUrl(t,o),u={href:c,target:l};return s(t,a.id)&&e.assign(u,{href:g,"data-no-physical-url":c}),u}function o(e,t){return a(e,t)}function s(e,t){var n=e.pagesDataItemsMap[t];return n&&n.isPopup}function c(e){return!!e&&0===e.indexOf("mailto")}var l="_self",u="_blank",p="https://users.wix.com/signin?",g="javascript:void()",d={sendEmail:"sendMail",welcomeEmailTemplate:"mailTemplate",userColor:"userColor",loginCompName:"loginCompName",referralInfo:"loginCompName"};return{renderLink:function(c,g,m){if(!c||function(e){return"PageLink"===e.type&&!e.pageId||"AnchorLink"===e.type&&!e.pageId||"AnchorLink"===e.type&&!e.anchorDataId||"DocumentLink"===e.type&&!e.docId||"DynamicPageLink"===e.type&&!e.routerId}(c)||!m)return{};var h=i.utils.getResolvedSiteData(g);switch(c.type){case"PageLink":return o(h,c);case"ExternalLink":return function(e,n){var r="/"===n.url?e.publicBaseUrl:n.url;return t.validationUtils.isValidUrl(r)?(r=i.normalizeProtocolForSameSite(e,r),{href:r,target:n.target||u,"data-content":r,"data-type":"external",rel:e.isPremiumDomain?void 0:"nofollow"}):{}}(h,c);case"AnchorLink":return function(n,r,i){var c="masterPage"===r.pageId.id,l=e.clone(r),u=e.has(r.anchorDataId,"id")?r.anchorDataId.id:r.anchorDataId,p=e.includes(t.siteConstants.SAME_PAGE_SCROLL_ANCHORS,u)||c,g=i.imageZoom,d=s(n,i.pageId),m=void 0;m=p?g||d?a(n,{pageId:n.pagesDataItemsMap[n.primaryPageId]}):a(n,l,i):o(n,l);return d||(m["data-keep-roots"]=!0),m["data-anchor"]=u,m}(h,c,m);case"LoginToWixLink":return function(n,i){var a=i.postLoginUrl||"",o=i.postSignupUrl||"",s=i.dialog||"showLogin",c="",u=void 0,g=void 0,m=void 0;return e.includes(o,"ifcontext")&&(m=t.urlUtils.parseUrl(o).query,e.forOwn(m,function(e,t){"ifcontext"===t.toLowerCase()&&(c=e.replace("#",""),o=/^[a-zA-Z0-9]+$/.test(c)?o.replace("{ifcontext}",c):o.replace("{ifcontext}","illegalContextValue"))})),r.isSessionValid(n.cookie)?g=a:("createUser"===s&&(s="sign-up"),u={originUrl:n.currentUrl.full,postLogin:a,postSignUp:o,view:s,overrideLocale:n.languageCode},e.forEach(d,function(t,n){var r=i[t];e.isUndefined(r)||""===r||(u[n]=r)}),g=p+t.urlUtils.toQueryString(u)),{href:g,target:l}}(h,c);case"EmailLink":return function(e){return{href:n.getEmailLink(e),target:l,"data-content":e.recipient,"data-type":"mail"}}(c);case"PhoneLink":return function(e){return{href:n.getPhoneLink(e),"data-content":e.phoneNumber,"data-type":"phone"}}(c);case"DocumentLink":return function(e,t){return{href:n.getDocumentLink(t,e),target:u,"data-type":"document"}}(h,c);case"SwitchMobileViewMode":return function(e,t){return{href:e.currentUrl.full,target:"_self","data-mobile":t.dataMobile}}(h,c);case"DynamicPageLink":return function(t,n){if(!n.routerId)return{};var r={routerId:n.routerId,innerRoute:n.innerRoute};n.queryParams&&e.assign(r,{queryParams:n.queryParams});var a={href:i.getUrl(t,r),target:l};return n.anchorDataId&&(a["data-anchor"]=n.anchorDataId),a}(h,c);default:return{}}},renderImageZoomLink:function(t,n,r,a,o,c){var u=e.defaults({pageItemId:r.id,title:r.title,imageZoom:!0},n),p=i.utils.getResolvedSiteData(t),d=i.getUrl(p,u),m={href:d,target:l};s(p,u.pageId)&&(m.href=g,m["data-no-physical-url"]=d);var h=function(e,t,n){var r=[];return e&&r.push("galleryId:"+e),t&&r.push("propertyQuery:"+t),n&&r.push("galleryCompId:"+n),r.join(" ")}(a,o,c);return h&&(m["data-page-item-context"]=h),m},renderPageLink:function(e,t){return o(i.utils.getResolvedSiteData(t),{pageId:e})},isExternalLink:function(e,t){if(!t)return!1;var n=i.utils.getResolvedSiteData(e),r=!!i.parseUrl(n,t),a=0===t.indexOf(n.serviceTopology.staticDocsUrl),o=t===g;return!(r||c(t)||a||o)},isRelativeUrl:function(e){return!!e&&"/"===e.charAt(0)},isEmailLink:c,getLinkUrlFromLinkProps:function(e){return e.href===g?e["data-no-physical-url"]:e.href},CONSTS:{LOGIN_TO_WIX_URL:p}}}),define("coreUtils/core/scrollAnchorsUtils",["lodash","coreUtilsLib","experiment"],function(e,t,n){"use strict";function r(e){var t=parseInt(e,10);return isNaN(t)?0:t}function i(e){return r(e.height.WIX_ADStop)+r(e.top.WIX_ADStop)}function a(e){if(!e.measureMap)return 1/0;var t=e.measureMap,r=i(t),a=void 0;if(n.isOpen("displayWixAdsNewVersion",e))a=t.height.masterPage+r+e.renderFlags.extraSiteHeight;else{var o=t.height.WIX_ADSbottom||0;a=t.height.masterPage+o+r+e.renderFlags.extraSiteHeight}var s=t.height.screen;return Math.max(a-s,0)}function o(e,t){return Math.min(e,a(t))}function s(n,r,i){var a=i.getPageData(r,["structure"]),o=t.dataUtils.getAllCompsInStructure(a);return e.find(o,function(t){var a=t.connectionQuery,o=a&&i.getDataByQuery(a,r,i.dataTypes.CONNECTIONS);return o&&e.find(o.items,{role:n})})}function c(t,n){var r=n.getSiteData(),i=l(function(t,n){var r=void 0;if(!e.startsWith(t,"dataItem")&&n){var i=n.getSiteData(),a=s(t,i.getPrimaryPageId(),i);a&&(r=a.dataQuery)}return r||t}(t,n),r);return i.y=o(i.y,r),i}function l(t,n){var a=0;if(t===y.PAGE_ANCHORS.TOP_ANCHOR_ID)a=P;else if(t===y.PAGE_ANCHORS.BOTTOM_ANCHOR_ID)a=r(e.get(n.measureMap,["height","masterPage"]));else if(t){a=function(t,n){var r=0,a=n.measureMap;if(a&&t){var o=t.compId,s=e.get(a,"custom.SITE_HEADER.isFixedPosition"),c=a.top[o],l=a.absoluteTop[o],u=s?c:l,p=n.isMobileView()?i(a):0;r=e.isFinite(u)?u+p:0}return r}(n.getDataByQuery(t,n.getPrimaryPageId()),n)}return{x:0,y:a,anchorQuery:t}}function u(t,n,r){var i=t.getPageDataMap(n,t.dataTypes.DATA);if(!i)return[];var a=e.filter(i,{type:"Anchor"});a.push(p(t.getPrimaryPageId(),r));var o=t.getPageData(n,["structure","components"]);return e.sortBy(a,function(t){var n=function(t,n){var r=e.find(t,{id:n});return r&&r.layout}(o,t.compId);return n?n.y:v})}function p(e,t){return{compId:y.PAGE_ANCHORS.TOP_ANCHOR_COMP_ID,id:y.PAGE_ANCHORS.TOP_ANCHOR_ID,name:t||"",type:"Anchor",pageId:e}}function g(t,n){n=n||[];var r=u(t,t.getPrimaryPageId());if(!r.length)return r;var i=e.reject(r,function(t){return e.includes(n,t.compId)});return e.size(i)?i:[r[0]]}function d(t,n){return e(n).map(function(n){var r=l(n.id,t),i=n.id,a=n.compId;return e.assign(r,{id:i,compId:a})}).sortBy("y").value()}function m(e,t,n){return{activeAnchorComp:e,index:t,total:n}}function h(t,n){if(!t.measureMap)return[];return function(t,n){return e.map(t,function(e,r){var i=m(e,r,t.length);return i.isActive=e.y<=Math.ceil(n),i})}(d(t,g(t)),n)}function f(t,n,r){if(!t.measureMap)return null;var i=d(t,g(t,r)),o=function(t,n){if(e.every(t,{y:0}))return null;for(var r=null,i=0;i<t.length;i++){var a=t[i];if(!(n>=a.y))break;r=a}return r?m(r,i-1,t.length):null}(i,n);return o&&a(t)<=n?m(e.last(i),i.length-1,i.length):o}var y=t.siteConstants,v=-99999,P=0;return{getPageTopAnchor:p,calcAnchorScrollToPosition:c,getPageAnchors:u,getActiveAnchor:f,getAnchorsDataSortedByY:h,getAnchor:s,normalizeYOffset:o,isSpecialAnchor:function(e){return e===y.PAGE_ANCHORS.BOTTOM_ANCHOR_ID||e===y.PAGE_ANCHORS.TOP_ANCHOR_ID},getSortedAnchorsByY:d,SCROLL_PAGE_TOP_Y_POS:v}}),define("coreUtils/core/anchorTagsGenerator",["lodash","coreUtilsLib"],function(e,t){"use strict";function n(e){var t=o.document.createDocumentFragment().appendChild(o.document.createElement("div"));t.innerHTML=e;return{container:t,textNodes:r(t)}}function r(e,t){if(t=t||[],function(e){return e.nodeType===o.Node.TEXT_NODE}(e)&&t.push(e),function(e){return e.nodeType===o.Node.ELEMENT_NODE&&"a"===e.tagName.toLowerCase()}(e))return t;for(e=e.firstChild;e;)r(e,t),e=e.nextSibling;return t}function i(t,n){var r=[],i=t.parentNode,c=t.data,l=s.findAll(c,n);0!==l.length&&(e(l).orderBy("index","desc").forEach(function(t){r.push(o.document.createTextNode(c.slice(t.index+t.key.length))),r.push(function(t){var n=a(t),r=o.document.createElement("a");r.innerHTML=t.key,r.classList.add(n.className),e.forEach(e.omit(n,["className"]),function(e,t){r.setAttribute(t,e)});var i=o.document.createElement("object");return i.appendChild(r),i.setAttribute("height",0),i}(t)),c=c.slice(0,t.index)}),r.push(o.document.createTextNode(c)),e.forEach(r.reverse(),function(e){i.insertBefore(e,t)}),i.removeChild(t))}function a(t){var n={"data-auto-recognition":"true","data-content":t.key,className:"auto-generated-link"};switch(t.pattern){case s.Pattern.PHONE:return e.assign(n,{href:"tel:"+t.value,"data-type":"phone"});case s.Pattern.MAIL:return e.assign(n,{href:"mailto:"+t.value,"data-type":"mail"});case s.Pattern.URL:return e.assign(n,{href:t.value,target:"_blank","data-type":"external"});default:throw"Unknown Pattern: "+t.pattern}}var o=t.fragment,s=t.textPatternRecognizer,c=t.textPatternRecognizer.Pattern;return{generateAnchorsInHtml:function(t,r){if(!e.some(r))return t;var a=n(t);return e.forEach(a.textNodes,e.partial(i,e,r)),a.container.innerHTML},findDataForAnchors:function(t,r){if(!e.some(r))return[];var i=n(t);return e(i.textNodes).map("data").flatMap(e.partial(s.findAll,e,r)).map(a).value()},getIncludedPatterns:function(e,t){var n={};return n[c.PHONE]=t,n[c.MAIL]=!0,n[c.URL]=!0,n}}}),define("coreUtils/core/vectorImageConversionUtils",["lodash"],function(e){"use strict";function t(t,n,i){var a=e.get(n,["style","properties"]);if(!e.isEmpty(a)){var o=e.reduce(a,function(t,n,i){return t[r[i]]=function(t,n){switch(n){case"strokewidth":return parseInt(t,10);case"alpha-fillcolor":case"alpha-stroke":case"opacity":return parseFloat(t);case"enablestroke":return e.isString(t)?"false"!==t:t;default:return t}}(n,i),t},{});i&&(n.componentClassName=i.comp,n.skin=i.skin,n.style.properties={},n.style.propertiesSource={}),o.color1&&(t.overrideColors=e.pick(o,"color1")),t.shapeStyle=e.omit(o,"color1"),t.type="VectorImageDesignData"}}function n(t,r,o){if("RepeatedData"===t.type)return n(t.original,r,o),void e.forEach(t.overrides,function(e){return n(e,r,o)});t.type!==r.dataType&&(t.type=r.dataType,t.svgId=o===i?a:function(e){var t=e.replace(/^.*\//,"").split("."),n="v1"===t[1]?1:2,r=t[2].replace(/svg_/i,""),i=t[3];return r+(1===n?"_svgshape.v1."+i:"")+".svg"}(o))}var r={"alpha-fillcolor":"opacity","alpha-stroke":"strokeOpacity",enablestroke:"enableStroke",fillcolor:"color1",stroke:"stroke",strokewidth:"strokeWidth",opacity:"opacity"},i="skins.viewer.svgshape.SvgShapeDefaultSkin",a="08e9266742a9484b90115d29bbfa9360.svg";return{convertStyle:function(t,n){var r=e.get(t,["style","properties"]),i=parseInt(e.get(r,"strokewidth",0),10),a=e.get(t,["style","propertiesSource"]);t.componentClassName=n.comp,t.skin=n.skin,e.isEmpty(r)||(r.enablestroke=r.enablestroke||!!i,r.strokewidth=Math.max(1,i),e.forEach(r,function(e,t){a[t]=/^(color|font)_\d+$/.test(e)?"theme":"value"}))},convertStyleToDesignData:t,convertProperties:function(t,n){t.type!==n.propertyType&&(t.type=n.propertyType,t.displayMode=t.maintainAspectRatio?"legacyFit":"stretch",e.unset(t,"maintainAspectRatio"))},convertData:n,convertStructure:function(e,t){e.componentType=t.comp,e.skin=t.skin},vectorImageDefaults:{comp:"wysiwyg.viewer.components.VectorImage",skin:"skins.viewer.VectorImageSkin",propertyType:"VectorImageProperties",dataType:"VectorImage",style:{fillcolor:"#242323","stroke-width":1,"alpha-fillcolor":1,stroke:"#5E97FF","alpha-stroke":1,enablestroke:!1}}}}),define("coreUtils/pointers/aspectsPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";var n=["siteAspectsData"];t.registerPointerType("siteAspects",e.constant(null),e.constant(!0));var r={getAspectGlobalData:function(e,t,r){return t.getPointer(r+"_globalData","siteAspects",n.concat([r,"globalData"]))},getAspectAllComponentsData:function(e,t,r){return t.getPointer(r+"_allCompsData","siteAspects",n.concat([r,"dataByCompId"]))},getAspectComponentData:function(e,t,r,i){return t.getPointer(r+"_compData_"+i,"siteAspects",n.concat([r,"dataByCompId",i]))}};t.registerDataAccessPointersGenerator("siteAspects",r)}),define("coreUtils/core/constants",["lodash"],function(e){"use strict";return{VIEW_MODES:{DESKTOP:"DESKTOP",MOBILE:"MOBILE"},DATA_TYPES:{data:"data",prop:"props",design:"design",theme:"style",behaviors:"behaviors",connections:"connections",mobileHints:"mobileHints"},COMP_DATA_QUERY_KEYS:{data:"dataQuery",props:"propertyQuery",design:"designQuery",behaviors:"behaviorQuery",connections:"connectionQuery",mobileHints:"mobileHintsQuery"},COMP_DATA_QUERY_KEYS_WITH_STYLE:e.assign({},{data:"dataQuery",props:"propertyQuery",design:"designQuery",behaviors:"behaviorQuery",connections:"connectionQuery",mobileHints:"mobileHintsQuery"},{style:"styleId"}),PAGE_DATA_DATA_TYPES:{props:"component_properties",data:"document_data",design:"design_data",behaviors:"behaviors_data",connections:"connections_data",style:"theme_data",mobileHints:"mobile_hints"},ACTION_TYPES:{CLICK:"click",DBL_CLICK:"dblClick",MOUSE_IN:"mouseenter",MOUSE_OUT:"mouseleave",CHANGE:"change",BLUR:"blur",FOCUS:"focus",IMAGE_CHANGED:"imageChanged",IMAGE_EXPANDED:"imageExpanded",ITEM_CLICKED:"itemClicked",CELL_SELECT:"cellSelect",CELL_EDIT:"cellEdit",ROW_SELECT:"rowSelect",FETCH_DATA:"fetchData",DATA_CHANGE:"dataChange",AUTOPLAY_OFF:"autoplayOff",AUTOPLAY_ON:"autoplayOn",KEY_PRESS:"keyPress",SCREEN_IN:"screenIn",VIEWPORT_ENTER:"viewportEnter",VIEWPORT_LEAVE:"viewportLeave",SCROLL:"scroll",VALIDATE:"validate",SET_CUSTOM_VALIDITY:"setCustomValidity",SYNC_VALIDATION_DATA:"syncValidationData",UPDATE_VALIDITY_INDICATION:"updateValidityIndication",MESSAGE:"message",UPLOAD_COMPLETE:"uploadComplete",ITEM_READY:"itemReady",ITEM_REMOVED:"itemRemoved"},BASE_PROPS_SCHEMA_TYPE:"DefaultProperties",COMP_IDS:{PAGE_GROUP:"SITE_PAGES",PAGES_CONTAINER:"PAGES_CONTAINER",HEADER:"SITE_HEADER",FOOTER:"SITE_FOOTER",BACKGROUND:"SITE_BACKGROUND",QUICK_ACTION_BAR:"QUICK_ACTION_BAR",WIX_ADS:"WIX_ADS"},POPUP:{POPUP_OVERLAY_CONTAINER:{STYLE_ID:"strc1",SKINPART_ID:"popupOverlayContainer",COMPONENT_TYPE:"wysiwyg.viewer.components.StripContainer",SKIN:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",TYPE:"StripContainer"},POPUP_CONTAINER:{COMPONENT_TYPE:"wysiwyg.viewer.components.PopupContainer"}},ACTIVE_ANCHOR:{DELAY_TO_END_SCROLL:50},CURRENT_CONTEXT:"CURRENT_CONTEXT",LAYOUT_MECHANISMS:{ANCHORS:"anchors",MESH:"mesh"},ANCHORS:{LOCK_THRESHOLD:70,LOCK_CONDITION:{ALWAYS:"always",NEVER:"never",THRESHOLD:"threshold"}},SUPPORTED_DYNAMIC_ACTIONS:{chat:{appId:"14517e1a-3ff0-af98-408e-2bd6953c36a2",icon:"55ef598f51c14f36ba4f0690cf28626f",color:"#2D41A9",text:"Chat",itemType:"chat"}},LANDING_PAGES_COMP_IDS:{PAGES_CONTAINER:"PAGES_CONTAINER",QUICK_ACTION_BAR:"QUICK_ACTION_BAR"},COMP_LAYOUT_OPTIONS:{REPEATER:{ALIGNMENTS:{LEFT:"left",RIGHT:"right",CENTER:"center",JUSTIFY:"justify"}},CHANGES_TYPES:{css:"css",attr:"attr",data:"data"}}}}),define("coreUtils/pointers/jsonItemsFinders",["coreUtils/core/constants"],function(e){"use strict";function t(t,n){return n===e.VIEW_MODES.MOBILE?t.mobileComponents?"mobileComponents":"components":t.children?"children":"components"}function n(e,t){return t.id===e||"masterPage"===e&&t.children}function r(e,i,a,o){if(n(i,e))return o;var s=t(e,a),c=e[s];if(!c)return null;for(var l=null,u=0;u<c.length&&!l;u++){l=r(c[u],i,a,o.concat([s,u]))}return l}return{getChildrenPropertyName:t,getComponentPath:function(e,t,n){return r(e,t,n,[])},getDataPath:function(){},isComponentWithId:n}}),define("coreUtils/pointers/componentPointers",["lodash","coreUtils/core/constants","coreUtils/pointers/DataAccessPointers","coreUtils/pointers/pointerGeneratorsRegistry","coreUtils/pointers/jsonItemsFinders"],function(e,t,n,r,i){"use strict";function a(e){return["pagesData",e,"structure"]}function o(t){return e.isArray(t)&&"pagesData"===t[t.length-3]}function s(e,t,n){var r=e(a(n));if(r){var o=i.getComponentPath(r,t.id,t.type);return o&&(o=a(n).concat(o)),o}}function c(t,n,r){var i=void 0;if(e.forEach(t,function(e){i=i||s(n,r,e)}),!i){var a=e.keyBy(t);e.forOwn(n(["pagesData"]),function(e,t){return!!a[t]||!(i=s(n,r,t))&&void 0})}return i}var l=new n;r.registerPointerType(t.VIEW_MODES.DESKTOP,c,i.isComponentWithId,!0,!0,!0),r.registerPointerType(t.VIEW_MODES.MOBILE,c,i.isComponentWithId,!0,!0,!0);var u={getMobilePointer:function(n,r,i){return e.assign(e.clone(i),{type:t.VIEW_MODES.MOBILE})},getDesktopPointer:function(n,r,i){return e.assign(e.clone(i),{type:t.VIEW_MODES.DESKTOP})},isMobile:function(e,n,r){return r.type===t.VIEW_MODES.MOBILE},isPage:function(e,t,n){return o(t.getPath(n))},isPagesContainer:function(e,n,r){return r.id===t.COMP_IDS.PAGES_CONTAINER},isMasterPage:function(e,t,n){var r=t.getPath(n);if(!r)return!1;return"masterPage"===r[1]&&this.isPage(e,t,n)},isInMasterPage:function(e,t,n){return"masterPage"===t.getPath(n)[1]},getViewMode:function(e,n,r){return this.isMobile(e,n,r)?t.VIEW_MODES.MOBILE:t.VIEW_MODES.DESKTOP},getChildrenContainer:function(e,t,n){var r=e(t.getPath(n)),a=i.getChildrenPropertyName(r,n.type),o=l.getOriginalPointerFromInner(n);return o.innerPath=[a],o},getChildren:function(t,n,r){var a=n.getPath(r),o=t(a),s=i.getChildrenPropertyName(o,r.type),c=o[s];return e.map(c,function(e,t){return n.getPointer(e.id,r.type,a.concat([s,t]))})},getChildrenRecursively:function(e,t,n){for(var r=this.getChildren(e,t,n),i=0;i<r.length;)r.push.apply(r,this.getChildren(e,t,r[i])),i++;return r},getChildrenRecursivelyRightLeftRootIncludingRoot:function(t,n,r,i){for(var a=[r],o=[];a.length;){var s=a.shift();e.isFunction(i)&&!i(s)||o.unshift(s);a=this.getChildren(t,n,s).concat(a)}return o},getParent:function(t,n,r){var i=n.getPath(r);if(!i||o(i))return null;var a=e.dropRight(i,2),s=t(a);return s&&n.getPointer(s.id,r.type,a)},getSiblings:function(t,n,r){var i=this.getParent(t,n,r);if(!i)return[];var a=this.getChildren(t,n,i);return e.remove(a,{id:r.id}),a},getComponent:function(e,t,n,r){var a=r.type;n=t.resolveId(n,a);var o=t.getPointer(n,a);if(!o){var s=t.getPath(r),c=e(s),l=i.getComponentPath(c,n,a);l&&(o=t.getPointer(n,a,s.concat(l)))}return o},getMasterPage:function(e,t,n){return this.getPage(e,t,"masterPage",n)},getPage:function(e,t,n,r){var i=r,o=t.getPointer(n,i);if(!o){var s=a(n);if(!e(s))return null;o=t.getPointer(n,i,s)}return o},getNewPage:function(e,n,r,i){var o=i||t.VIEW_MODES.DESKTOP,s=a(r);if(e(s))throw new Error("there is already a page with id "+r);return n.getPointer(r,o,s)},getLandingPageComponents:function(n,r,i){var a=this.getMasterPage(n,r,i);return e(t.LANDING_PAGES_COMP_IDS).map(function(e){return this.getComponent(n,r,e,a)}.bind(this)).compact().value()},getPagesContainer:function(e,n,r){var i=this.getMasterPage(e,n,r);return this.getComponent(e,n,t.COMP_IDS.PAGES_CONTAINER,i)},getFooter:function(e,n,r){var i=this.getMasterPage(e,n,r);return this.getComponent(e,n,t.COMP_IDS.FOOTER,i)},getHeader:function(e,n,r){var i=this.getMasterPage(e,n,r);return this.getComponent(e,n,t.COMP_IDS.HEADER,i)},getUnattached:function(e,t,n,r){return t.getPointer(n,r,[])},getPageOfComponent:function(e,t,n){var r=t.getPath(n);if(!r)return null;var i=r[1];return this.getPage(e,t,i,n.type)},isDescendant:function(t,n,r,i){var a=n.getPath(r),o=n.getPath(i);if(a&&o){var s=o.length;return a.length>s&&e.isEqual(a.slice(0,s),o)}return!1},getAllDisplayedOnlyComponents:function(e,t,n){return t.getAllPointers(n)},registerDisplayedOnlyComponent:function(e,t,n,r){t.registerDisplayedOnlyComponent(n,r)},clearDisplayedOnlyComponents:function(e,t,n){t.clearDisplayedOnlyComponents(n)},getAncestorByPredicate:function(e,t,n,r){for(var i=this.getParent(e,t,n);i&&!r(i);)i=this.getParent(e,t,i);return i}};r.registerDataAccessPointersGenerator("components",u,!0)}),define("coreUtils/pointers/componentStructurePointers",["lodash","coreUtils/pointers/DataAccessPointers","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t,n){"use strict";var r=new t,i={getModes:function(e,t,n){return r.getInnerPointer(n,["modes"])},getModesDefinitions:function(e,t,n){return r.getInnerPointer(n,["modes","definitions"])},getModesOverrides:function(e,t,n){return r.getInnerPointer(n,["modes","overrides"])}};n.registerDataAccessPointersGenerator("componentStructure",i)}),define("coreUtils/pointers/compsChangedByRelayoutPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("changedByRelayout",e.constant(null),e.constant(!0));var n={getCompChangedByRelayout:function(e,t,n){return t.getPointer("changedByRelayout_"+n,"changedByRelayout",["postUpdateOperationsRenders",n])}};t.registerDataAccessPointersGenerator("changedByRelayout",n)}),define("coreUtils/pointers/dataPointers",["lodash","coreUtils/core/constants","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t,n){"use strict";function r(){return!0}function i(e){var n=t.PAGE_DATA_DATA_TYPES[e];if(n)return n;throw new Error("there is no such data type "+e)}function a(e,t,n){return["pagesData",t,"data",n||i(e)]}var o=t.DATA_TYPES;e.forEach(o,function(t){n.registerPointerType(t,function(t,n,r,o){var s=i(t),c=r(["pagesData"]);return e.reduce(c,function(e,n,i){var c=a(t,i,s).concat(o.id);return!e&&r(c)?c:e},null)}.bind(null,t),r,!1,!0)});var s={getDataItem:function(e,t,n,r){return this.getItem(e,t,o.data,n,r)},getDataItemWithPredicate:function(t,n,r,i){return e.head(this.getDataItemsWithPredicate(t,n,r,i))},getDataItemsWithPredicate:function(t,n,r,i){var s=i||"masterPage",c=a(o.data,s),l=t(c);return l=l.toJS?l.toJS():l,e.map(e.filter(l,r),function(e){return this.getDataItem(t,n,e.id,s)}.bind(this))},getDesignItemsWithPredicate:function(t,n,r,i){var s=i||"masterPage",c=a(o.design,s),l=t(c);return l=l.toJS?l.toJS():l,e.map(e.filter(l,r),function(e){return this.getDesignItem(t,n,e.id,s)}.bind(this))},getDesignItem:function(e,t,n,r,i){return this.getItem(e,t,o.design,n,r,i)},getPropertyItem:function(e,t,n,r,i){return this.getItem(e,t,o.prop,n,r,i)},getBehaviorsItem:function(e,t,n,r){return this.getItem(e,t,o.behaviors,n,r)},getConnectionsItem:function(e,t,n,r){return this.getItem(e,t,o.connections,n,r)},getMobileHintsItem:function(e,t,n,r){return this.getItem(e,t,o.mobileHints,n,r)},getThemeItem:function(e,t,n){return this.getItem(e,t,o.theme,n,"masterPage")},getItem:function(e,t,n,r,i,o){var s=a(n,i);return s.push(r),t.getPointer(r,n,s,o)},getDataItemFromMaster:function(e,t,n){return this.getDataItem(e,t,n,"masterPage")},getPageIdOfData:function(e,t,n){return t.getPath(n)[1]},validatePath:function(e,t,n){return!!t.getPath(n)}};n.registerDataAccessPointersGenerator("data",s)}),define("coreUtils/pointers/meshStylePointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("meshStyles",e.constant(null),e.constant(!0));var n={getMeshStylesMapPointer:function(e,t){return t.getPointer("meshStyles","meshStyles",["meshStyles"])},getMeshStylesPointer:function(e,t,n,r,i){return t.getPointer("meshStyles_"+n+"_"+r+"_"+i,"meshStyles",["meshStyles",n,r,i])}};t.registerDataAccessPointersGenerator("meshStyles",n)}),define("coreUtils/pointers/displayedOnlyComponentsPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";var n="displayedOnlyComponents";t.registerPointerType(n,e.constant(null),e.constant(!0));var r={getTemplateIdMap:function(e,t){return t.getPointer(n,n,[n,"componentTemplateId"])},getComponentTemplateId:function(e,t,r){return t.getPointer(n+"_"+r,n,[n,"componentTemplateId",r])}};t.registerDataAccessPointersGenerator(n,r)}),define("coreUtils/pointers/generalPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";var n="general";t.registerPointerType(n,e.constant(null),e.constant(!0)),t.registerPointerType("metadata",e.constant(null),e.constant(!0));var r={getAllTheme:{id:"theme",path:["pagesData","masterPage","data","theme_data"]},getOrphanPermanentDataNodes:{id:"orphanPermanentDataNodes",path:["orphanPermanentDataNodes"]},getTextRuntimeOverallBorders:{id:"overallBorders",path:["textRuntimeLayout","overallBorders"]},getDockedRuntimeLayout:{id:"dockedRuntimeLayout",path:["dockedRuntimeLayout"]},getNoEnforceAnchorsPointer:{id:"noEnforceAnchors",path:["noEnforceAnchors"]},getSaveInvalidationCount:{id:"saveInvalidationCount",path:["saveInvalidationCount"]},getPagesData:{id:"pagesData",path:["pagesData"]},getServiceTopology:{id:"serviceTopology",path:["serviceTopology"]},getCommittedMobilePages:{id:"committedMobilePages",path:["committedMobilePages"]},getDeletedPagesMapPointer:{id:"deletedPagesMap",path:["deletedPagesMap"]},getUserId:{id:"userId",path:["rendererModel","userId"]},getIsStudioUser:{id:"isStudioUser",path:["documentServicesModel","userInfo","isStudio"]},getEditorData:{id:"editorData",path:["editorData"]},getMobileStructuresPointer:{id:"mobileStructures",path:["mobileStructures"]},getCompsToUpdateAnchors:{id:"compsToUpdateAnchors",path:["compsToUpdateAnchors"]},getRuntimePointer:{id:"runtime",path:["runtime"]},getNeverSaved:{id:"neverSaved",path:["documentServicesModel","neverSaved"]},getPublicUrl:{id:"publicUrl",path:["documentServicesModel","publicUrl"]},getPermissions:{id:"permissions",path:["documentServicesModel","permissionsInfo"]},getForbiddenPageUriSEOs:{id:"forbiddenPageUriSEOs",path:["urlFormatModel","forbiddenPageUriSEOs"]},getUrlFormat:{id:"urlFormat",path:["urlFormatModel","format"]},getClientSpecMap:{id:"clientSpecMap",path:["rendererModel","clientSpecMap"]},getAutosaveInfo:{id:"autoSaveInfo",path:["documentServicesModel","autoSaveInfo"]},getSiteVersion:{id:"siteVersion",path:["documentServicesModel","version"]},getMetaSiteId:{id:"metaSiteId",path:["rendererModel","metaSiteId"]},getDocumentType:{id:"documentType",path:["rendererModel","siteInfo","documentType"]},getActiveModes:{id:"activeModes",path:["activeModes"]},getContactFormsMetaData:{id:"contactformsMetaData",path:["contactforms_metadata"]},getRootsRenderedInMobileEditor:{id:"rootsRenderedInMobileEditor",path:["rootsRenderedInMobileEditor"]},getRenderFlags:{id:"renderFlags",path:["renderFlags"]},getRoutersPointer:{id:"routers",path:["routers"]},getSantaBase:{id:"santaBase",path:["santaBase"]}};Object.freeze(r);var i={getRenderFlag:function(e,t,r){return t.getPointer("renderFlags"+r,n,["renderFlags",r])},getRenderRealtimeConfigItem:function(e,t,r){return t.getPointer("renderRealtimeConfig"+r,n,["renderRealtimeConfig",r])},getAutoSaveInnerPointer:function(e,t,r){return t.getPointer("autoSaveInfo"+r,n,["documentServicesModel","autoSaveInfo",r])},getPublishSaveInnerPointer:function(e,t){return t.getPointer("publishSaveInitiator",n,["documentServicesModel","publishSaveInitiator"])},getSilentSaveInnerPointer:function(e,t){return t.getPointer("silentSaveInitiator",n,["documentServicesModel","silentSaveInitiator"])},getMediaQualityItemPointer:function(e,t,r){return t.getPointer("mediaQualityStore"+r,n,["mediaQualityStore",r])},getMediaPlaybackItemPointer:function(e,t,r){return t.getPointer("mediaStore"+r,n,["mediaStore",r])},getSvgStorePointer:function(e,t,r){return t.getPointer("svgShapes"+r,n,["svgShapes",r])},getSemiNativeQueueIndexPointer:function(e,t,r){return t.getPointer("queueIndex"+r,n,["semiNativeMessageQueues",r,"queueIndex"])}},a=e(r).mapValues(function(e){return function(t,r){return r.getPointer(e.id,n,e.path)}}).assign(i).value();Object.freeze(a),t.registerDataAccessPointersGenerator(n,a)}),define("coreUtils/pointers/platformPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry","coreUtils/pointers/DataAccessPointers"],function(e,t,n){"use strict";function r(e,t){return t.getPointer("platform",i,["platform"])}var i="platform",a=new n;t.registerPointerType(i,e.constant(null),e.constant(!0));var o=Object.freeze({getPlatformPointer:r,getAppStatePointer:function(e,t){var n=r(0,t);return a.getInnerPointer(n,"appState")},getControllerStatePointer:function(e,t,n){return t.getPointer(n+" state",i,["platform","appState",n])},getControllerStageDataPointer:function(e,t,n,r,a){return t.getPointer("controllerStageData "+n+r+a,i,["platform","appManifest",n,"controllersStageData",r,a])},getAppManifestPointer:function(e,t,n){return t.getPointer("appManifest "+n,i,["platform","appManifest",n])},getPlatformWidgetStatePointer:function(e,t,n){return t.getPointer(n+"_widgetState",i,["platformWidgetsState",n])},getPagesPlatformApplicationsPointer:function(e,t){return t.getPointer("pagesPlatformApplications",i,["pagesPlatformApplications"])},getPagesPlatformApplicationPointer:function(e,t,n){return t.getPointer(n+" pages",i,["pagesPlatformApplications",n])}});t.registerDataAccessPointersGenerator(i,o)}),define("coreUtils/pointers/activeModesPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("activeModes",e.constant(null),e.constant(!0));var n={getAllActiveModes:function(e,t){return t.getPointer("activeModes","activeModes",["activeModes"])},getPageActiveModes:function(e,t,n){return t.getPointer(n,"activeModes",["activeModes",n])}};t.registerDataAccessPointersGenerator("activeModes",n)}),define("coreUtils/pointers/pagePointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("page",function(){return null},function(){return!0},!1,!0);var n={isPointerPageType:function(e,t,n){return n&&"page"===n.type},getNewPagePointer:function(e,t,n){var r=["pagesData",n];return t.getPointer(n,"page",r)},getPagePointer:function(t,n,r){var i=["pagesData",r],a=t(i);return e.isUndefined(a)?null:n.getPointer(r,"page",i)},isExists:function(t,n,r){var i=t(["pagesData",r]);return!e.isUndefined(i)},getAllPagesPointer:function(e,t){return t.getPointer("all","page",["pagesData"])},getNonDeletedPagesPointers:function(t,n,r){r=!e.isUndefined(r)&&r;var i=["pagesData"],a=t(i);return a=e.pickBy(a,function(e,t){return!!e&&!(!r&&"masterPage"===t)}),e.map(a,function(e,t){return n.getPointer(t,"page",i.concat(t))})},getPageData:function(e,t,n){var r=["pagesData",n,"data","document_data"];return e(r)?t.getPointer(n+"_data","page",r):null},getPageProperties:function(e,t,n){var r=["pagesData",n,"data","component_properties"];return e(r)?t.getPointer(n+"_prop","page",r):null},getPageDesignData:function(e,t,n){var r=["pagesData",n,"data","design_data"];return e(r)?t.getPointer(n+"_design","page",r):null},getResolvedDataMapsPointer:function(e,t){return t.getPointer("resolvedDataMaps","page",["resolvedDataMaps"])},getPageBehaviorsData:function(e,t,n){var r=["pagesData",n,"data","behaviors_data"];return e(r)?t.getPointer(n+"_design","page",r):null}};n.getPageTranslations=function(e,t,n,r){if(r("sv_multilingual")){var i=["pagesData",n,"translations"];return t.getPointer(n+"_translations","page",i)}},t.registerDataAccessPointersGenerator("page",n)}),define("coreUtils/pointers/compBehavioursPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("compBehaviours",e.constant(null),e.constant(!0));var n={getCompBehavioursMapPointer:function(e,t){return t.getPointer("compBehavioursMap","compBehaviours",["compBehavioursMap"])},getCompBehaviourPointer:function(e,t,n,r){return t.getPointer("compBehavioursMap_"+n+"_"+r,"compBehaviours",["compBehavioursMap",n,r])}};t.registerDataAccessPointersGenerator("compBehaviours",n)}),define("coreUtils/pointers/wixappsPointers",["lodash","coreUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("wixapps",e.constant(null),e.constant(!0));var n={getCounterData:function(e,t,n,r){return r=r||"general",t.getPointer("wixapps_"+n+"_"+r,"wixapps",["wixappsRenderCounters",n,r])},getPackageCounterData:function(e,t,n){return t.getPointer("wixapps_"+n,"wixapps",["wixappsRenderCounters",n])}};t.registerDataAccessPointersGenerator("wixapps",n)}),define("coreUtils/pointers/pointers",["coreUtils/pointers/pointerGeneratorsRegistry","coreUtils/pointers/pointersCache","coreUtils/pointers/DataAccessPointers","coreUtils/pointers/aspectsPointers","coreUtils/pointers/componentPointers","coreUtils/pointers/componentStructurePointers","coreUtils/pointers/compsChangedByRelayoutPointers","coreUtils/pointers/dataPointers","coreUtils/pointers/meshStylePointers","coreUtils/pointers/displayedOnlyComponentsPointers","coreUtils/pointers/generalPointers","coreUtils/pointers/platformPointers","coreUtils/pointers/activeModesPointers","coreUtils/pointers/pagePointers","coreUtils/pointers/compBehavioursPointers","coreUtils/pointers/wixappsPointers"],function(e,t,n){"use strict";return{pointerGeneratorsRegistry:e,PointersCache:t,DataAccessPointers:n}}),define("coreUtils/core/compsToPackages",["lodash","experiment"],function(e,t){"use strict";function n(n,r){if(t.isOpen("selectiveDialogs",r)){var i=a[n];return i?e.isArray(i)?i:[i]:[]}var o=e.includes(n,"tpapps")?["dialogs"]:[],s=a[n];return s?o.concat(s):o}var r=["wixappsCore","container","textArea","matrixGallery","slideShowGallery","comboBoxInput","dialogs"],i=r.concat(["table","messageView","wixappsClassics","mediaRichText"]),a={"wysiwyg.viewer.components.svgshape.SvgShape":"svgShape","wysiwyg.viewer.components.PopupCloseIconButton":"svgShape","wysiwyg.viewer.components.VectorImage":"svgShape","wysiwyg.viewer.components.AdminLoginButton":"adminLoginButton","wysiwyg.viewer.components.WTwitterFollow":"wTwitterFollow","wysiwyg.viewer.components.WFacebookComment":"facebookComments","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":"verticalAnchorsMenu","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenuItem":"verticalAnchorsMenu","wysiwyg.viewer.components.FacebookShare":"facebookShare","wysiwyg.viewer.components.VKShareButton":"vKShareButton","wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":"youTubeSubscribeButton","wysiwyg.viewer.components.ItunesButton":"itunesButton","wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":"skypeCallButton","wysiwyg.viewer.components.inputs.FileUploader":"fileUploader","wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":"pinItPinWidget","wysiwyg.viewer.components.PopupCloseTextButton":"popupCloseTextButton","wysiwyg.viewer.components.Displayer":"displayer","wysiwyg.viewer.components.MatrixGallery":["matrixGallery","imageZoom"],"wixapps.integration.components.Area":"container","wysiwyg.viewer.components.VerticalRepeater":"container","wysiwyg.viewer.components.WSiteStructure":"container","wysiwyg.viewer.components.SiteRegionContainer":["siteRegionContainer","container"],"mobile.core.components.Container":"container","wysiwyg.viewer.components.Repeater":["container","repeater"],"wysiwyg.viewer.components.inputs.RadioButton":"radioButton","wysiwyg.viewer.components.inputs.RadioGroup":["radioButton","radioGroup"],"wysiwyg.viewer.components.documentmedia.DocumentMedia":"documentMedia","wysiwyg.viewer.components.background.bgMedia":"backgroundCommon","wysiwyg.viewer.components.background.bgImage":"backgroundCommon","wysiwyg.viewer.components.background.html5Video":"backgroundCommon","wysiwyg.viewer.components.background.youtubeVideo":"backgroundCommon","wysiwyg.viewer.components.background.iframeVideo":"backgroundCommon","wysiwyg.viewer.components.background.bgOverlay":"backgroundCommon","wysiwyg.viewer.components.inputs.DatePicker":"datePicker","wysiwyg.viewer.components.Calendar":"datePicker","wysiwyg.viewer.components.Month":"datePicker","wysiwyg.viewer.components.Day":"datePicker","wysiwyg.viewer.components.ContactForm":"contactForm","wysiwyg.viewer.components.DynamicContactForm":"contactForm","wysiwyg.common.components.subscribeform.viewer.SubscribeForm":"subscribeForm","wixapps.integration.components.inputs.TextArea":"textArea","wysiwyg.viewer.components.inputs.TextAreaInput":"textArea","wysiwyg.viewer.components.LoginSocialBar":["loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.LoginSocialButton":["loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.Icon":"icon","wysiwyg.viewer.components.GoogleMap":"googleMap","wysiwyg.viewer.components.SoundCloudWidget":"soundCloudWidget","wysiwyg.viewer.components.PayPalButton":"paypalButton","wysiwyg.common.components.imagebutton.viewer.ImageButton":"imageButton","wysiwyg.viewer.components.LinkBar":"linkBar","wysiwyg.viewer.components.LinkBarItem":"linkBar","wysiwyg.viewer.components.inputs.ComboBoxInput":"comboBoxInput","wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":"spotifyPlayer","wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":"spotifyFollow","wysiwyg.viewer.components.TwitterFeed":"twitterFeed","wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":"backToTopButton","wysiwyg.viewer.components.svgPrimitive":"svgCommon","wysiwyg.viewer.components.WFacebookLike":"facebookLike","wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":"facebookLikeBox","wysiwyg.viewer.components.FlickrBadgeWidget":"flickrBadgeWidget","wysiwyg.common.components.rssbutton.viewer.RSSButton":"rssButton","wysiwyg.viewer.components.mobile.TinyMenu":["tinyMenu","loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.Group":"container","wysiwyg.viewer.components.WGooglePlusOne":"wGooglePlusOne","wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":"pinterestPinIt","wysiwyg.viewer.components.PinterestFollow":"pinterestFollow","wysiwyg.viewer.components.WTwitterTweet":"wTwitterTweet","wysiwyg.viewer.components.AudioPlayer":["audioPlayer","audioCommon"],"wysiwyg.viewer.components.LoginButton":["loginButton","dialogs"],"wysiwyg.viewer.components.HtmlComponent":"htmlComponent","wysiwyg.viewer.components.DeadComponent":"deadComponent","wysiwyg.viewer.components.MediaPlayer":"mediaPlayer","wysiwyg.viewer.components.MediaOverlayControls":"mediaControls","wysiwyg.viewer.components.MediaControls":"mediaControls","wysiwyg.viewer.components.MediaControlPlay":"mediaControls","wysiwyg.viewer.components.MediaControlFullscreen":"mediaControls","wysiwyg.viewer.components.MediaControlVolume":"mediaControls","wysiwyg.viewer.components.MediaControlProgress":"mediaControls","wysiwyg.viewer.components.MediaControlTime":"mediaControls","wysiwyg.viewer.components.MediaControlStoryboard":"mediaControls","wysiwyg.viewer.components.SlideShowGallery":["slideShowGallery","imageZoom"],"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":["singleAudioPlayer","audioCommon"],"wysiwyg.viewer.components.QuickActionBar":"quickActionBar","wysiwyg.viewer.components.QuickActionBarItem":"quickActionBar","wysiwyg.viewer.components.BoxSlideShowSlide":"boxSlideShowSlide","wysiwyg.viewer.components.StripContainerSlideShowSlide":["stripSlideShowSlide","boxSlideShowSlide"],"wysiwyg.viewer.components.BgImageStrip":"bgImageStrip","wysiwyg.viewer.components.PopupContainer":"popupContainer","wysiwyg.viewer.components.StripContainer":"stripContainer","wysiwyg.viewer.components.StripColumnsContainer":"stripColumnsContainer","wysiwyg.common.components.exitmobilemode.viewer.ExitMobileMode":"exitMobileModeButton","tpa.viewer.components.Masonry":"tpaGalleries","tpa.viewer.components.Accordion":"tpaGalleries","tpa.viewer.components.Impress":"tpaGalleries","tpa.viewer.components.Freestyle":"tpaGalleries","tpa.viewer.components.Collage":"tpaGalleries","tpa.viewer.components.Honeycomb":"tpaGalleries","tpa.viewer.components.StripShowcase":"tpaGalleries","tpa.viewer.components.StripSlideshow":"tpaGalleries","tpa.viewer.components.Thumbnails":"tpaGalleries","wysiwyg.viewer.components.tpapps.TPA3DGallery":"tpaGalleries","wysiwyg.viewer.components.tpapps.TPA3DCarousel":"tpaGalleries","wysiwyg.viewer.components.MessageView":"messageView","wysiwyg.viewer.components.FlashComponent":["flashComponent","swfobject"],"wysiwyg.viewer.components.BoxSlideShow":"stripSlideShow","wysiwyg.viewer.components.StripContainerSlideShow":"stripSlideShow","wysiwyg.viewer.components.MobileActionsMenu":"mobileActionsMenu","wysiwyg.components.imageZoom":"imageZoom","wysiwyg.viewer.components.MediaZoom":"imageZoom","wysiwyg.components.ImageZoomDisplayer":"imageZoom","wysiwyg.viewer.components.MobileMediaZoom":"imageZoom","wysiwyg.viewer.components.TouchMediaZoom":"imageZoom","wysiwyg.viewer.components.TouchMediaZoomItem":"imageZoom","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":"verticalMenu","wysiwyg.common.components.disquscomments.viewer.DisqusComments":"disqusComments","wysiwyg.viewer.components.inputs.Checkbox":"checkbox","wixapps.integration.components.Icon":"wixappsCore","wixapps.integration.components.ImageButton":"wixappsCore","wixapps.integration.components.Toggle":"wixappsCore","wysiwyg.viewer.components.Grid":["gridComponent","ag-grid"],"wysiwyg.viewer.components.Table":"table","wysiwyg.viewer.components.dialogs.NotificationDialog":"dialogs","wysiwyg.viewer.components.dialogs.EnterPasswordDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.SignUpDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.MemberLoginDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.RequestPasswordResetDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.ResetPasswordDialog":"dialogs","wysiwyg.viewer.components.inputs.ErasableTextInput":"dialogs","wysiwyg.components.viewer.inputs.InputWithValidation":"dialogs","wysiwyg.viewer.components.SliderGallery":"imageZoom","wysiwyg.viewer.components.LanguageSelector":"languageSelector","wysiwyg.viewer.components.MediaContainer":"mediaContainer","wysiwyg.viewer.components.HoverBox":"mediaContainer","wysiwyg.viewer.components.Column":"mediaContainer","wysiwyg.viewer.components.EbayItemsBySeller":"ebayItemsBySeller","platform.components.AppController":"controller","platform.components.semiNativeComponent":"semiNativeComponent","wysiwyg.viewer.components.MediaRichText":"mediaRichText","wysiwyg.viewer.components.ImageButtonWithText":"wixappsCore","wysiwyg.viewer.components.inputs.ColorOption":"wixappsClassics","ecommerce.integration.components.MobileColorOption":"wixappsClassics","wysiwyg.common.components.NumericStepper":"wixappsClassics","wysiwyg.common.components.inputs.OptionsListInput":"wixappsClassics","wysiwyg.common.components.inputs.SelectOptionsList":"wixappsClassics","wysiwyg.viewer.components.inputs.TextOption":"wixappsClassics","ecommerce.integration.components.MobileTextOption":"wixappsClassics","wixapps.integration.components.AppPartZoom":i,"wixapps.integration.components.AppPart":i,"wixapps.integration.components.AppPart2":r.concat("wixappsBuilder"),"wixui.ToggleSwitch":"toggleSwitch"};return{compToPackages:n,prefetchComponents:function(t,r,i){function a(c){var l=c.componentType;if(l){var u=n(l);if(u[0]&&o.push(u),!s&&c.dataQuery&&"wixapps.integration.components.AppPart"===l){var p=e.get(r,"rendererModel.clientSpecMap",{}),g=e.get(t,"data.document_data",{}),d=c.dataQuery;"#"===d[0]&&(d=d.substring(1));var m=p[g[d].appInnerID];"wixapps"===m.type&&"blog"===m.packageName&&(s=!0)}}var h=c.children,f=i?c.mobileComponents:c.components;f&&(h=(h||[]).concat(f)),e.forEach(h,a)}var o=[],s=!1;return a(t.structure),(o=e(o).flatten().uniq().value()).length&&requirejs(o,e.noop),s},all:function(){return e(a).values().flatten().uniq().value()}}}),define("coreUtils/core/compsToLanguages",[],function(){"use strict";return{"wysiwyg.viewer.components.menus.DropDownMenu":function(e){return e.dataLang},"wysiwyg.viewer.components.WFacebookLike":function(e){return e.language},"wysiwyg.viewer.components.GoogleMap":function(e){return e.language},"wysiwyg.viewer.components.WTwitterTweet":function(e){return e.dataLang},"wysiwyg.viewer.components.WTwitterFollow":function(e){return e.dataLang}}}),define("coreUtils/components/componentUtils",["lodash"],function(e){"use strict";return{shouldBeRendered:function(t,n){return e.includes(t,n)||"masterPage"===n}}}),define("coreUtils/core/renderUtils",["lodash"],function(e){"use strict";return{mapInAlphabeticalOrder:function(t,n,r){var i=r?e.bind(n,r):n,a=e.keys(t).sort(),o=e.reduce(a,function(e,n){return e[n]=t[n],e},{});return e.map(o,i)},noAppsOnSite:function(t){return e.isEmpty(t.pagesPlatformApplications)},hasPlatformAppOnRenderedRoots:function(t,n){n=n.concat("masterPage");var r=t.pagesPlatformApplications;return e.some(r,function(t){var r=e.keys(t);return e.some(n,function(t){return e.includes(r,t)})})}}}),define("coreUtils/core/translationsLoader",["lodash","coreUtils/core/languages","coreUtilsLib"],function(e,t,n){"use strict";function r(n){return e.includes(t,n)?n:"en"}function i(e,t){if(!e.isLoaded(t))throw new Error("Translation not loaded for "+t)}var a=n.urlUtils,o=function(){function t(e){_classCallCheck(this,t),this.translations=e}return _createClass(t,[{key:"findMissingLanguages",value:function(t){var n=this;return e.reject([].concat(t),function(t){return e.has(n.translations,t)})}},{key:"getRequests",value:function(t,n){var r=this,i=this.findMissingLanguages(n);if(e.isEmpty(i))return null;return{customDownload:function(){var e=this;!function(e){r.load(t,n,e)}(function(){return e.done()})}}}},{key:"load",value:function(t,n,r){var i=this,o=this.findMissingLanguages(n);return Promise.all(e.map(o,function(n){return function(t,n,r){var i=a.joinURL(n,"resources/santa-viewer/bundles/_generated/santa_viewer_"+r+".json");return new Promise(function(e,t){var n=new window.XMLHttpRequest;n.open("Get",i),n.onload=e,n.onerror=t,n.send()}).then(function(n){return e.assign(t.translations,_defineProperty({},r,JSON.parse(n.target.response)))})}(i,t,n)})).then(r)}},{key:"isLoaded",value:function(t){return e.has(this.translations,t)}},{key:"getTranslation",value:function(t,n,a,o){return n=r(n),i(this,n),e.has(this.translations,[n,t,a])?e.get(this.translations,[n,t,a]):e.has(this.translations,["en",t,a])?e.get(this.translations,["en",t,a]):o}},{key:"getTranslationAllKeys",value:function(t,n,a){return n=r(n),i(this,n),e.get(this.translations,[n,t],a)}},{key:"overrideTranslations",value:function(e){this.translations=e}}]),t}(),s=new o({});return e.assign(s,{TranslationsLoaderFactory:o})}),define("coreUtils/core/coreTpaUtils",[],function(){"use strict";return{isTpaByAppType:function(e){return!("wixapps"===e||"appbuilder"===e)}}}),define("coreUtils",["lodash","coreUtils/core/ajaxLibrary","coreUtils/core/imageUtils","coreUtils/core/wixUserApi","coreUtils/core/languages","coreUtils/core/linkRenderer","coreUtils/core/linkUtils","coreUtils/core/scrollAnchorsUtils","coreUtils/core/anchorTagsGenerator","coreUtils/core/vectorImageConversionUtils","coreUtils/core/multilingual","coreUtils/core/imageClientApi","coreUtils/dal/DisplayedJsonDal","coreUtils/core/displayedOnlyStructureUtil","coreUtils/pointers/pointers","coreUtils/core/constants","coreUtils/core/SiteDataPrivates","coreUtils/dal/siteDataUtils","coreUtils/dal/DALFactory","coreUtils/core/SessionFreezer","coreUtils/core/routerUtils","coreUtils/core/pathValidationUtil","coreUtils/core/compsToPackages","coreUtils/core/compsToLanguages","coreUtils/log/log","coreUtils/wixUrlParser/wixUrlParser","coreUtils/components/componentUtils","coreUtilsLib","coreUtils/core/renderUtils","coreUtils/core/translationsLoader","coreUtils/core/coreTpaUtils"],function(e,t,n,r,i,a,o,s,c,l,u,p,g,d,m,h,f,y,v,P,w,I,S,U,D,C,b,E,A,T,M){"use strict";return{displayedOnlyStructureUtil:d,renderDoneMixin:E.renderDoneMixin,htmlTransformer:E.htmlTransformer,textSecurityFixer:E.textSecurityFixer,htmlParser:E.htmlParser,throttleUtils:E.throttleUtils,keyboardUtils:E.keyboardUtils,classNames:E.classNames,cookieUtils:E.cookieUtils,tween:E.tween,urlUtils:E.urlUtils,Store:E.StoreNew,mobileViewportFixer:E.mobileViewportFixer,dataUtils:E.dataUtils,dateTimeUtils:E.dateTimeUtils,validationUtils:E.validationUtils,ajaxLibrary:t,cssUtils:E.cssUtils,hashUtils:E.hashUtils,guidUtils:E.guidUtils,arrayUtils:E.arrayUtils,stringUtils:E.stringUtils,mediaZoomCalculations:E.mediaZoomCalculations,objectUtils:E.objectUtils,animationFrame:E.animationFrame,scrollAnchors:s,domMeasurements:E.domMeasurements,imageUtils:n,storage:E.storage,style:E.style,galleriesCommonLayout:E.galleriesCommonLayout,requestsUtil:E.requestsUtil,boundingLayout:E.boundingLayout,verticalMenuCalculations:E.verticalMenuCalculations,nonPageItemZoom:E.nonPageItemZoom,appPartMediaInnerViewNameUtils:E.appPartMediaInnerViewNameUtils,reactComponentUtils:E.reactComponentUtils,dockUtils:E.dockUtils,viewportUtils:E.viewportUtils,containerBackgroundUtils:E.containerBackgroundUtils,math:E.math,functionUtils:E.functionUtils,mediaConsts:E.mediaConsts,balataConsts:E.mediaConsts.balataConsts,blogAppPartNames:E.blogAppPartNames,wixUserApi:r,languages:i,siteConstants:E.siteConstants,textPatternRecognizer:E.textPatternRecognizer,anchorTagsGenerator:c,errorPages:E.errorPages,logWixCodeConsoleMessage:E.logWixCodeConsoleMessage,logWixCodeConsoleError:E.logWixCodeConsoleError,matrix:{calculations:E.matrix.calculations,scalingCalculations:E.matrix.scalingCalculations},fragment:E.fragment,dynamicPagesUtils:E.dynamicPagesUtils,Screenfull:E.Screenfull,SimpleDrag:E.SimpleDrag,DisplayedJsonDal:g,setMobxDataHandlers:function(t,n){v.setMobxDataHandlers(t,n),I.setMobxDataHandlers(t,e.pick(n,"getObservableByPath"))},pointers:m,constants:h,SiteDataPrivates:f,siteDataUtils:y,sessionFreezer:P,DALFactory:v,routerUtils:w,log:D.init(console),wixUrlParser:C,linkRenderer:a,linkUtils:o,componentUtils:b,vectorImageConversionUtils:l,renderUtils:A,compToPackages:S.compToPackages,compsToLanguages:U,prefetchComponents:S.prefetchComponents,allPackages:S.all,appManifest:E.appManifest,imageClientApi:p,translationsLoader:T,coreTpaUtils:M,multilingual:u}});
//# sourceMappingURL=coreUtils.min.js.map