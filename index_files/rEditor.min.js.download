function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}define("rEditor/rootComps/keyboard/config/topContextShortcuts",["lodash"],function(e){"use strict";var t=function(e){e.preventDefault()},o={esc:t,"ctrl + t, command + t":t,"ctrl + y, command + y":t,"ctrl + d, command + d":t,"ctrl + s, command + s":t,"ctrl + ], command + ]":t,"ctrl + [, command + [":t,"ctrl + shift + ], command + shift + ]":t,"ctrl + shift + [, command + shift + [":t,backspace:t,"ctrl + left, command + left":t,"ctrl + right, command + right":t,"ctrl + shift + left, command + shift + left":t,"ctrl + shift + right, command + shift + right":t,"ctrl + m, command + m":t,"ctrl + shift + m, command + shift + m":t};return{init:e.once(e.noop),shortcuts:o}}),define("rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap",["util"],function(e){"use strict";var t=e.browserUtil.getKeyboardSpecialKey(),o=t.value,i=t.label;return{editor:{SELECT_ALL:{key:o+" + a",label:""},GROUP_COMPONENTS:{key:o+" + g",label:""},UNGROUP_COMPONENTS:{key:o+" + shift + g",label:""},COPY:{key:o+" + c",label:i+" + C"},PASTE:{key:o+" + v",label:i+" + V"},APPLY_MODE:{key:o+" + shift + v",label:i+" + Shift + V"},CUT:{key:o+" + x",label:i+" + X"},DUPLICATE:{key:o+" + d",label:i+" + D"},UNDO:{key:o+" + z",label:i+" + Z"},REDO:{key:[o+" + y",o+" + shift + z"].join(","),label:i+" + Y"},DELETE:{key:["del","backspace"].join(","),label:"Del"},SAVE:{key:o+" + s",label:i+" + S"},SAVE_AS_TEMPLATE:{key:o+" + alt + t",label:""},SELECT_NEXT_COMP:{key:o+" + m",label:""},SELECT_PREV_COMP:{key:o+" + shift + m",label:""},CLOSE_PANELS:{key:"esc",label:""},MOVE_RIGHT:{key:"right",label:""},SHIFT_RIGHT:{key:"shift + right",label:""},MOVE_LEFT:{key:"left",label:""},SHIFT_LEFT:{key:"shift + left",label:""},MOVE_UP:{key:"up",label:""},SHIFT_UP:{key:"shift + up",label:""},MOVE_DOWN:{key:"down",label:""},SHIFT_DOWN:{key:"shift + down",label:""},SEND_FORWARD:{key:o+" + right",label:i+" + →"},SEND_TO_FRONT:{key:o+" + shift + right",label:i+" + Shift + →"},SEND_BACKWARD:{key:o+" + left",label:i+" + ←"},SEND_TO_BACK:{key:o+" + shift + left",label:i+" + Shift + ←"},TOGGLE_MOBILE:{key:o+" + j",label:i+" + j"},TOGGLE_PREVIEW:{key:o+" + p",label:i+" + P"},PUBLISH_SITE:{key:o+" + shift + p",label:i+" + Shift + P"},HIDE_TOOLS:{key:"shift + f",label:"Shift + F"},TOGGLE_RULERS:{key:"shift + r",label:"Shift + R"},PLATFORM_APP_CONFIGURATION:{key:o+"+ shift + e",label:i+"+ shift + e"},ADD_APPLICATIVE_MODE:{key:o+"+ shift + a",label:i+"+ shift + e"}},preview:{EXIT_PREVIEW:{key:"esc",label:""},TOGGLE_MOBILE:{key:o+" + j",label:i+" + j"},TOGGLE_PREVIEW:{key:o+" + p",label:i+" + P"},PUBLISH_SITE:{key:o+" + shift + p",label:i+" + Shift + P"}},topBar:{CLOSE_DROP_PANEL:{key:"esc",label:""}},imageCrop:{APPLY:{key:"enter",label:"Enter"},CANCEL:{key:"esc",label:"Esc"}}}}),define("rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions",["lodash","core","stateManagement"],function(e,t,o){"use strict";function i(t){var o=t.documentServices.pages.getFocusedPageId(),i=t.components.getAllComponents(o);return e.filter(i,function(t){return!e.includes(l,t.id)})}function n(t,o,i){var a=e.findIndex(o,{id:i}),r=a+1===o.length?0:a+1;return t.components.is.selectable(o[r])?o[r]:n(t,o,o[r].id)}function a(t,o,i){var n=e.findIndex(o,{id:i}),r=0===n?o.length-1:n-1;return t.components.is.selectable(o[r])?o[r]:a(t,o,o[r].id)}function r(e,o){var i=t.utils.stageUtils.getStageLayout(),n=e.components.layout.getRelativeToScreen(o);t.utils.scrollUtils.setScroll({scrollTop:function(e,t){var o=e.height/2;return Math.max(t-o,0)}(i,n.y)})}function s(e,t){e.selection.selectComponentByCompRef(t),r(e,t)}var l=["PAGES_CONTAINER","SITE_PAGES","BACK_TO_TOP_BUTTON"];return{selectNextComponent:function(e){var t=e.selection.getSelectedComponentId();if(t){s(e,n(e,i(e),t))}},selectPreviousComponent:function(e){var t=e.selection.getSelectedComponentId();if(t){s(e,a(e,i(e),t))}},moveComponent:function(t,i,n){var a=t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t.selection.getSelectedComponents());return a&&function(e,t,i){return"x"===i&&o.componentMetaData.isHorizontallyMovable(t,e.documentServices)||"y"===i&&e.components.is.verticallyMovable(t)}(t,a,i)&&t.documentServices.waitForChangesApplied(function(){var o=t.components.layout.getRelativeToStructure(a),r=e.clone(o);r[i]+=n,t.components.layout.updateRelativeToStructure(a,r)}),a}}}),define("rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil",["lodash","util","savePublish"],function(e,t,o){"use strict";var i=t.browserUtil.getKeyboardSpecialKey().value;return function(t){var n={},a=e(window.editorModel.runningExperiments).pickBy(function(e){return"new"===e}).keys().value();n["ctrl + alt + shift + v"]=t.openEditorVersionInfoPanel.bind(t),n["ctrl + alt + shift + e"]=function(){window.alert("Active Experiments:\n"+a.join("\n"))};var r=window.location.search&&window.location.search.toLowerCase();return(e.includes(r,"debug=")||e.includes(r,"isqa=true"))&&(n[i+" + shift + alt + s"]=e.partial(o.configureSave,t),n[i+" + shift + alt + p"]=t.publishManager.configureMockPostPublish),n}}),define("rEditor/rootComps/keyboard/util/sendBIAndActionUtil",["lodash"],function(e){"use strict";function t(t,o,i){if(t&&o){var n=t.selection.getSelectedComponents(),a=t.bi.getComponentsBIParams(n);e.forEach(a,function(t,o){e.assign(o,t)}.bind(null,i)),e.isEmpty(a)&&i&&a.push(i),t.bi.reportBI(o,a)}}return t}),define("rEditor/rootComps/keyboard/config/editorShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","experiment"],function(e,t,o,i,n,a,r){"use strict";function s(o){var i={};i[p.GROUP_COMPONENTS.key]=function(e,t){var o=e.selection.getSelectedComponents();e.components.is.groupable(o)&&e.multiselect.isMultiselect(o)&&e.groupComponents(o);t.preventDefault()}.bind(null,o),i[p.UNGROUP_COMPONENTS.key]=function(e,t){var o=e.selection.getSelectedComponents();if(e.components.is.group(o)){var i=e.components.getChildren(o);e.selection.selectComponentByCompRef(i),e.components.ungroup(o)}t.preventDefault()}.bind(null,o),i[p.COPY.key]=function(e){var o=t.bi.events.rightClickMenu,i=e.selection.getSelectedComponents(),n=e.components.layout.isPinned(i)?1:0;if(e.selectedComponent.copy(),i){var r=e.components.getType(i);a(e,o.COPY,{origin:"keyboard",is_component_pinned:n,component_type:r})}}.bind(null,o),i[p.CUT.key]=function(e){var o=t.bi.events.rightClickMenu,i=e.selection.getSelectedComponents(),n=e.components.layout.isPinned(i)?1:0;e.selectedComponent.cut(),e.history.add("component - cut"),a(e,o.CUT,{origin:"keyboard",is_component_pinned:n})}.bind(null,o),i[p.DUPLICATE.key]=function(e){var o=t.bi.events.rightClickMenu,i=e.selection.getSelectedComponents(),n=e.components.layout.isPinned(i)?1:0;e.selectedComponent.duplicate(),"Column"!==e.selection.getSelectedComponentType()&&e.history.add("component - duplicate");a(e,o.DUPLICATE,{origin:"keyboard",is_component_pinned:n})}.bind(null,o),i[p.MOVE_RIGHT.key]=l.bind(null,o,"x",1),i[p.MOVE_LEFT.key]=l.bind(null,o,"x",-1),i[p.MOVE_UP.key]=l.bind(null,o,"y",-1),i[p.MOVE_DOWN.key]=l.bind(null,o,"y",1),i[p.SHIFT_RIGHT.key]=l.bind(null,o,"x",10),i[p.SHIFT_LEFT.key]=l.bind(null,o,"x",-10),i[p.SHIFT_UP.key]=l.bind(null,o,"y",-10),i[p.SHIFT_DOWN.key]=l.bind(null,o,"y",10),i[p.ADD_APPLICATIVE_MODE.key]=function(){if(r.isOpen("applicativeModes")){var t=e.head(o.selection.getSelectedComponents());if(t){var i=o.components.modes.getModes(t),n="mode-"+(i?i.length:"0");o.components.modes.addModeDefinition(t,"APPLICATIVE",null,n)}}};var s=n(o);e.merge(i,s),e.merge(c,i)}function l(e,t,o,n){n&&n.preventDefault(),i.moveComponent(e,t,o)}var c={},p=o.editor;return{init:function(e){s(e)},shortcuts:c}}),define("rEditor/rootComps/keyboard/config/previewShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";function i(e){e.preventDefault()}var n=o.preview,a={};return{init:e.once(function(e){a[n.EXIT_PREVIEW.key]=e.preview.togglePreview,a[n.TOGGLE_PREVIEW.key]=function(e,t){t.preventDefault(),e.preview.togglePreview()}.bind(this,e),a[n.TOGGLE_MOBILE.key]=function(e,o){o.preventDefault(),e.bi.event(t.bi.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var i=e.isMobileEditor();e.setEditorMode(!i)}.bind(null,e),a[n.PUBLISH_SITE.key]=i}),shortcuts:a}}),define("rEditor/rootComps/keyboard/config/pinModeShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions"],function(e,t,o,i){"use strict";function n(t,o,i){if(t&&o){var n=t.selection.getSelectedComponents(),a=t.bi.getComponentsBIParams(n);e.forEach(a,function(t,o){e.assign(o,t)}.bind(null,i)),e.isEmpty(a)&&i&&a.push(i),t.bi.reportBI(o,a)}}function a(e){e.preventDefault()}var r={},s=o.editor;return{init:function(o){!function(o){var l=t.bi.events.rightClickMenu,c={};c[s.GROUP_COMPONENTS.key]=a,c[s.UNGROUP_COMPONENTS.key]=a,c[s.COPY.key]=n.bind(null,o,l.COPY,{is_component_pinned:1}),c[s.CUT.key]=n.bind(null,o,l.CUT,{is_component_pinned:1}),c[s.DUPLICATE.key]=n.bind(null,o,l.DUPLICATE,{is_component_pinned:1}),c[s.MOVE_RIGHT.key]=a,c[s.MOVE_LEFT.key]=a,c[s.MOVE_UP.key]=a,c[s.MOVE_DOWN.key]=a,c[s.SHIFT_RIGHT.key]=a,c[s.SHIFT_LEFT.key]=a,c[s.SHIFT_UP.key]=a,c[s.SHIFT_DOWN.key]=a;var p=i(o);e.merge(c,p),e.merge(r,c)}(o)},shortcuts:r}}),define("rEditor/rootComps/keyboard/util/commonKeyboardActions",["core","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","coreUtilsLib"],function(e,t,o){"use strict";function i(o,i){var n=e.bi.events.editor.undo_redo_component_change;t(o,n,{type:i,origin:"keyboard"})}return{undoFromKeyboard:function(e){i(e,"undo"),e.history.undo()},redoFromKeyboard:function(e){i(e,"redo"),e.history.redo()},saveSiteFromKeyboard:function(e){e.saveManager.save({origin:"keyboard"})},saveSiteAsTemplateFromKeyboard:function(e){e.saveManager.saveAsTemplate(function(){o.log.info("Saved successfully as Template.")})},publishSiteFromKeyboard:function(t,o){t.savePublish.canUserPublish()&&(o.preventDefault(),t.bi.event(e.bi.events.publish.PUBLISH_CLICK,{origin:"keyboard"}),t.publishManager.saveAndPublish("keyboard_publish"))}}}),define("rEditor/rootComps/keyboard/config/zoomModeShortcuts",["lodash","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";var i={},n=o.editor;return{init:function(o){!function(o){var a={};a[n.UNDO.key]=t.undoFromKeyboard.bind(null,o),a[n.REDO.key]=t.redoFromKeyboard.bind(null,o),a[n.SAVE.key]=t.saveSiteFromKeyboard.bind(null,o),a[n.SAVE_AS_TEMPLATE.key]=t.saveSiteAsTemplateFromKeyboard.bind(null,o),a[n.PUBLISH_SITE.key]=t.publishSiteFromKeyboard.bind(null,o),e.assign(i,a)}(o)},shortcuts:i}}),define("rEditor/rootComps/keyboard/config/imageCropShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){"use strict";function i(o){var i={};i[a.APPLY.key]=function(o){var i=o.selection.getSelectedComponents(),n=o.selection.getSelectedComponentData().crop;o.imageCrop.updateCrop(),o.imageCrop.toggleCropMode(!1),o.documentServices.waitForChangesApplied(function(){var a=o.components.data.get(i).crop,r=!e.isEqual(n,a);o.bi.event(t.bi.events.imageCrop.apply_crop,{is_changed:r,origin:"enter"})})}.bind(null,o),i[a.CANCEL.key]=function(e){e.imageCrop.toggleCropMode(!1)}.bind(null,o),e.merge(n,i)}var n={},a=o.imageCrop;return{init:function(e){i(e)},shortcuts:n}}),define("rEditor/rootComps/keyboard/config/baseEditorShortcuts",["lodash","core","experiment","stateManagement","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/util/sendBIAndActionUtil"],function(e,t,o,i,n,a,r,s,l){"use strict";function c(n){var c={};c[d.SELECT_ALL.key]=n.selection.selectAll,c[d.PASTE.key]=function(o){var n=t.bi.events.rightClickMenu,a=o.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(a){var r=e.map(a.components,"serializedComp.layout"),s=i.componentMetaData.isPinnedBySerializedLayout(r,o.documentServices);o.copyPaste.paste(),o.history.add("component - paste"),l(o,n.PASTE,{origin:"keyboard",is_component_pinned:s})}}.bind(null,n),c[d.APPLY_MODE.key]=function(e){var i=t.bi.events.rightClickMenu;o.isOpen("se_hoverBox")&&e.copyPaste.canApplyModeFromClipboard()&&(e.copyPaste.applyModeFromClipboard(e.selection.getSelectedComponents()),l(e,i.APPLY_MODE_FROM_CLIPBOARD,{origin:"keyboard"}))}.bind(null,n),c[d.UNDO.key]=s.undoFromKeyboard.bind(null,n),c[d.REDO.key]=s.redoFromKeyboard.bind(null,n),c[d.DELETE.key]=function(e){var o=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(o)?1:0;l(e,t.bi.events.editor.component_removed,{removal_method:"keyboard",is_component_pinned:i}),e.selectedComponent.remove().then(function(t){t&&e.history.add("component - remove")})}.bind(null,n),c[d.SAVE.key]=s.saveSiteFromKeyboard.bind(null,n),c[d.SAVE_AS_TEMPLATE.key]=s.saveSiteAsTemplateFromKeyboard.bind(null,n),c[d.SELECT_NEXT_COMP.key]=function(e){e.panelManager.closeAllPanels(),a.selectNextComponent(e)}.bind(null,n),c[d.SELECT_PREV_COMP.key]=function(e){e.panelManager.closeAllPanels(),a.selectPreviousComponent(e)}.bind(null,n),c[d.TOGGLE_RULERS.key]=function(e){e.rulers.toggleRulers()}.bind(null,n),c[d.CLOSE_PANELS.key]=function(o){var n=o.panelManager;n.getOpenPanels().length>0?e.forEach(m,n.closeAllPanelsOfType):i.panels.selectors.selectHelpProps(o.store.getState())?n.closeHelpCenter():o.selection.isComponentSelected()?o.selection.deselectComponents():(o.toolsControl.toggleHideTools(!1),o.bi.event(t.bi.events.editor.hide_tools.show_controls,{origin:"shortcut"}))}.bind(null,n),c[d.SEND_TO_FRONT.key]=g.toFront.bind(null,n),c[d.SEND_TO_BACK.key]=g.toBack.bind(null,n),c[d.SEND_FORWARD.key]=g.forward.bind(null,n),c[d.SEND_BACKWARD.key]=g.backward.bind(null,n),c[d.TOGGLE_PREVIEW.key]=function(e,o){o.preventDefault(),e.bi.event(t.bi.events.preview.PREVIEW_CLICK,{origin:"keyboard"}),e.preview.togglePreview()}.bind(null,n),c[d.TOGGLE_MOBILE.key]=function(e,o){o.preventDefault(),e.bi.event(t.bi.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var i=e.isMobileEditor();e.setEditorMode(!i)}.bind(null,n),c[d.PLATFORM_APP_CONFIGURATION.key]=function(e){if(u>=8){var t=e.documentServices.platform.getAppDataByAppDefId("editorPlatformWixComponents");t?e.documentServices.platform.notifyApplication(t.applicationId,{eventType:"openModal"}):e.documentServices.platform.initApp({appDefinitionId:"editorPlatformWixComponents",editorUrl:"https://static.parastorage.com/services/editor-platform-app-configuration-ui-node/1.33.0/assets/editor.js"}),u=0}else u++}.bind(null,n),c[d.PUBLISH_SITE.key]=s.publishSiteFromKeyboard.bind(null,n),c[d.HIDE_TOOLS.key]=function(e){var o=e.toolsControl.toggleHideTools()?"hide_controls":"show_controls";e.bi.event(t.bi.events.editor.hide_tools[o],{origin:"shortcut"})}.bind(null,n);var f=r(n);e.merge(c,f),e.merge(p,c)}var p={},d=n.editor,u=0,m=["leftPanelFrame","compPanelFrame","focusPanelFrame","messagePanelFrame","pagesPanelFrame","toolPanelFrame","tpaSettingsPanelFrame"],g={toFront:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveToFront(o),l(e,t.bi.events.rightClickMenu.BRING_TO_FRONT,{origin:"keyboard"}))},toBack:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveToBack(o),l(e,t.bi.events.rightClickMenu.SEND_TO_BACK,{origin:"keyboard"}))},forward:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveForward(o),l(e,t.bi.events.rightClickMenu.MOVE_FORWARD,{origin:"keyboard"}))},backward:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveBackward(o),l(e,t.bi.events.rightClickMenu.MOVE_BACKWARDS,{origin:"keyboard"}))}};return{init:function(e){c(e)},shortcuts:p}}),define("rEditor/rootComps/keyboard/config/shortcutsConfig",["util","lodash","core","stateManagement","rEditor/rootComps/keyboard/config/topContextShortcuts","rEditor/rootComps/keyboard/config/editorShortcuts","rEditor/rootComps/keyboard/config/previewShortcuts","rEditor/rootComps/keyboard/config/pinModeShortcuts","rEditor/rootComps/keyboard/config/zoomModeShortcuts","rEditor/rootComps/keyboard/config/imageCropShortcuts","rEditor/rootComps/keyboard/config/baseEditorShortcuts"],function(e,t,o,i,n,a,r,s,l,c,p){"use strict";function d(e,o){return t.mapValues(e,function(e){return function(e,t){return function(){return t(),e.apply(null,arguments)}}(e,o)})}var u=e.keyboardShortcuts,m=function(e){var t=20,n=setInterval(function(){t||clearInterval(n),t--,function(e){e(i.easterEggs.actions.showFlyingMusa(o.utils.stageUtils.getViewPort()))}(e)},1e3)},g=function(e){var t=u.extendContext(u.CONTEXTS.EDITOR,e);u.registerContext(u.CONTEXTS.EDITOR,t)},f=function(e,t){var o=0,i=void 0;g(_defineProperty({},e[o],function n(){if(clearTimeout(i),o===e.length-1){var a;t(),g((a={},_defineProperty(a,e[o],null),_defineProperty(a,e[0],n),a)),o=0}else{var r;g((r={},_defineProperty(r,e[++o-1],null),_defineProperty(r,e[o],n),r)),i=setTimeout(function(){var t;g((t={},_defineProperty(t,e[o],null),_defineProperty(t,e[0],n),t))},500)}}))};return{init:t.once(function(e){n.init(e),r.init(e),p.init(e),s.init(e),c.init(e),l.init(e),a.init(e),function(e,t){u.registerContext(u.CONTEXTS.TOP_CONTEXT,d(n.shortcuts,t),e);var o=u.extendContext(u.CONTEXTS.TOP_CONTEXT,d(p.shortcuts,t));u.registerContext(u.CONTEXTS.BASE_EDITOR,o,e);var i=u.extendContext(u.CONTEXTS.TOP_CONTEXT,d(r.shortcuts,t));u.registerContext(u.CONTEXTS.PREVIEW,i,e);var g=u.extendContext(u.CONTEXTS.BASE_EDITOR,d(a.shortcuts,t));u.registerContext(u.CONTEXTS.EDITOR,g,e);var h=u.extendContext(u.CONTEXTS.BASE_EDITOR,d(s.shortcuts,t));u.registerContext(u.CONTEXTS.PIN_MODE,h,e);var b=u.extendContext(u.CONTEXTS.TOP_CONTEXT,d(c.shortcuts,t));u.registerContext(u.CONTEXTS.IMAGE_CROP,b,e);var y=u.extendContext(u.CONTEXTS.TOP_CONTEXT,d(l.shortcuts,t));u.registerContext(u.CONTEXTS.ZOOM_MODE,y,e),f("ilovewix",function(){return m(e.store.dispatch)})}(e,e.closeRightClickMenu)})}}),define("rEditor/utils/isRightClickWithCtrlInDebugMode",["util"],function(e){"use strict";return function(t){var o=e.url.parseUrlParams(window.location);return t.ctrlKey&&"all"===o.debug}}),define("rEditor/rootComps/leftBar/leftBarMapper",["stateManagement"],function(e){"use strict";return function(t){var o=t.store,i=o.dispatch,n=o.getState;return{sendBIButtonsCount:function(){i(e.leftBar.logic.sendBIButtonsCount(t.isPopUpMode()))},superAppsDesktopCount:e.leftBar.selectors.getDesktopSuperAppsCount(n()),isCollapsed:e.leftBar.selectors.isCollapsed(n()),leftBarMenuItems:e.leftBar.selectors.getMenuItems(n(),t.isPopUpMode()),isMobileEditor:t.isMobileEditor(),openPanels:t.getOpenPanels(),isEnabled:t.editorIsInit(),halfOpacityTools:t.toolsControl.isHalfOpacityTools(),isHidden:t.toolsControl.areToolsHidden(),reportBI:t.bi.event,leftBarNotifications:e.leftBar.selectors.getNotifications(n()),collapseMenu:function(){i(e.leftBar.logic.collapseMenu())},openPanel:t.panelManager.openPanel,collapseButton:function(t){i(e.leftBar.logic.collapseButton(t))},hideFloatingBubble:t.hideFloatingBubble,updateLeftBarButtonsBoundingRect:function(t){i(e.leftBar.actions.updateButtonsBoundingRect(t))}}}}),define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt",["react","lodash","symbols","experiment"],function(e,t,o,i){"use strict";return function(){return e.createElement("li",{className:t(this.getButtonClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),ref:"root",onClick:this.handleOnClick},this.shouldShowSelectedSvg()?e.createElement(o.symbol,t.assign({},{key:"selectedSvg"},this.getSelectedButtonSvgProps())):null,e.createElement(o.symbol,{name:this.props.symbolName,className:"icon"}),e.createElement("span",{className:"mask"}),e.createElement("span",{className:"text"},this.props.label),this.shouldShowNotificationCounter()?e.createElement("span",{key:"notificationCount",className:"notifications"},this.props.notificationCount):null)}}),define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton",["lodash","create-react-class","prop-types","constants","baseUI","rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt","symbols"],function(e,t,o,i,n,a){"use strict";var r=n.tooltipManager;return t({displayName:"leftBarButton",propTypes:{className:o.string.isRequired,symbolName:o.string.isRequired,label:o.string.isRequired,isSelected:o.bool.isRequired,isMobileEditor:o.bool.isRequired,onClick:o.func.isRequired,isMenuCollapsed:o.bool,notificationCount:o.number.isRequired,isFirstPanel:o.bool,collapseOnClick:o.bool,isButtonOpen:o.bool,hintProps:o.object,tooltips:o.array},getInitialState:function(){return{activeState:null}},componentDidMount:function(){this.setButtonTooltips()},setButtonTooltips:function(){e.forEach(this.props.tooltips,function(e){r.createTooltip(!1,{id:e.id,targetNode:this.refs.root,value:e.value,width:e.width,alignment:i.UI.TOOLTIP.ALIGNMENT.LEFT,closeTriggers:[i.UI.TOOLTIP.TRIGGERS.OUTER_CLICK],onOpen:this.setState.bind(this,{activeState:"force-hover"}),onClose:this.setState.bind(this,{activeState:null})})}.bind(this))},closeTooltips:function(){e.forEach(this.props.tooltips,function(e){r.isDisplayed(e.id)&&r.hide(e.id)})},getButtonClasses:function(){var e={"left-bar-item":!0,selected:this.props.isSelected,"first-panel":this.props.isFirstPanel,"wait-for-click":this.props.collapseOnClick};return this.state.activeState&&(e[this.state.activeState]=!0),e[this.props.className]=!0,e},shouldShowNotificationCounter:function(){return this.props.notificationCount>0},handleOnClick:function(){this.closeTooltips(),this.props.onClick&&this.props.onClick()},getSelectedButtonSvgProps:function(){var e=void 0,t=void 0;return this.props.isFirstPanel?(e="leftBarButtonEarTop",t="ear-top"):(e="leftBarButtonEarMiddle",t="ear-middle"),{name:e,className:"ear "+t}},shouldShowSelectedSvg:function(){return this.props.isMenuCollapsed&&this.props.isSelected},render:a})}),define("rEditor/rootComps/leftBar/leftBar.rt",["react","lodash","rEditor/rootComps/leftBar/leftBarButton/leftBarButton","util"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{className:t({"left-bar":!0,"is-hidden":this.props.isHidden,"half-opacity":this.props.halfOpacityTools,"menu-collapsed-wrapper":this.props.isCollapsed}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{left:this.getLeftOffset()},onContextMenu:this.onContextMenu,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},e.createElement.apply(this,["ul",{ref:"buttons",className:t({"left-bar-items":!0,"menu-collapsed":this.props.isCollapsed,"menu-opened":this.isMenuOpened()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.props.leftBarMenuItems,function(t,n){return e.createElement(o,{tooltips:t.tooltips,key:t.panelName,label:i.translate(t.label),isMenuCollapsed:this.props.isCollapsed,className:t.className,symbolName:t.symbolName,isMobileEditor:this.props.isMobileEditor,isSelected:this.isSelected(t.panelName),onClick:function(e,t){this.handleOnClick(e.panelName,e.panelProps)}.bind(this,t,n),isFirstPanel:0===n,collapseOnClick:t.collapseOnClick,isButtonOpen:t.isButtonOpen,notificationCount:this.getNotificationCount(t.panelName),hintProps:t.hintProps,getUserSitePreferences:this.props.getUserSitePreferences,setUserSitePreferences:this.props.setUserSitePreferences})}.bind(this))]))}}),define("rEditor/rootComps/leftBar/leftBar",["reactDOM","lodash","create-react-class","prop-types","higherOrderComponents","jquery","rEditor/utils/isRightClickWithCtrlInDebugMode","rEditor/rootComps/leftBar/leftBarMapper","rEditor/rootComps/leftBar/leftBar.rt"],function(e,t,o,i,n,a,r,s,l){"use strict";function c(e){var o=t.find(e.openPanels,{frameType:"leftPanelFrame"});return o&&o.name}var p=o({displayName:"leftBar",propTypes:{superAppsDesktopCount:i.number,isCollapsed:i.bool,leftBarMenuItems:i.array.isRequired,isMobileEditor:i.bool.isRequired,openPanels:i.array.isRequired,isEnabled:i.bool.isRequired,isHidden:i.bool.isRequired,halfOpacityTools:i.bool.isRequired,reportBI:i.func,sendBIButtonsCount:i.func,leftBarNotifications:i.object.isRequired,collapseMenu:i.func.isRequired,openPanel:i.func.isRequired,collapseButton:i.func.isRequired,hideFloatingBubble:i.func.isRequired,updateLeftBarButtonsBoundingRect:i.func.isRequired},componentDidMount:function(){this.updateButtonsBoundingRect(),this.props.isHidden&&a(e.findDOMNode(this)).css({left:this.getLeftOffset()})},componentDidUpdate:function(e){this.updateButtonsBoundingRect(),this.sendBIButtonsCountIfNeeded(e)},getNotificationCount:function(e){return this.props.leftBarNotifications[e]||0},sendBIButtonsCountIfNeeded:function(e){this.props.superAppsDesktopCount!==e.superAppsDesktopCount&&this.props.sendBIButtonsCount()},componentWillReceiveProps:function(e){c(e)&&(this.props.isCollapsed||this.props.collapseMenu())},handleOnClick:function(e,t){var o=c(this.props);this.props.isEnabled&&e!==o&&(this.props.collapseMenu(),this.props.openPanel(e,t),t.openPanelBiEvent&&this.props.reportBI(t.openPanelBiEvent,t.openPanelBiParams)),this.props.collapseButton(e),this.props.hideFloatingBubble()},isMenuOpened:function(){return!!c(this.props)},updateButtonsBoundingRect:function(){var o=void 0,i=t.some(this.props.leftBarMenuItems,"collapseOnClick");o=this.props.isCollapsed&&!i?null:e.findDOMNode(this.refs.buttons).getBoundingClientRect(),this.props.updateLeftBarButtonsBoundingRect(o)},getLeftOffset:function(){if(this.props.isHidden){if(this.isMounted()){return-(e.findDOMNode(this).offsetWidth+8)+"px"}return"-1000px"}return""},onContextMenu:function(e){r(e)||e.preventDefault()},isSelected:function(e){var t=c(this.props);return!(!t||t!==e)},render:function(){return l.call(this)}}),d=n.connectEditorAPI(s)(n.renderWhenMutated(p));return d.pure=p,d}),define("rEditor/rootComps/mixins/hiddenableMixin",["reactDOM","jquery","lodash","util"],function(e,t,o,i){"use strict";return{mixins:[i.singlePassDOMReadWriteMixin],componentWillMount:function(){this.lastCustomXPosition=null,this.shouldCompSlideRight=!0},componentWillReceiveProps:function(o){!o.toolsHidden&&this.props.toolsHidden&&this.state.isCustomPosition&&t(e.findDOMNode(this)).css({left:this.lastCustomXPosition})},measurePhase:function(){return this.shouldCompSlideRight=this.shouldSlideRight(),this.getComponentPosition(this.lastCustomXPosition)},patchPhase:function(o){t(e.findDOMNode(this)).css(o)},shouldSlideRight:function(){var o=t(e.findDOMNode(this));return o.offset().left+o.width()/2>t(window).width()/2},updateLastCustomXPosition:function(e){this.lastCustomXPosition=e},getHiddenableClasses:function(){return{"hide-tools":this.props.toolsHidden,"show-tools":!this.props.toolsHidden,"slide-right":this.shouldCompSlideRight,"slide-left":!this.shouldCompSlideRight,"half-opacity":this.props.halfOpacityTools}}}}),define("rEditor/rootComps/mixins/keepInViewportMixin",["reactDOM","lodash","util","core"],function(e,t,o,i){"use strict";return{fitPositionToScreen:function(t,i,n){var a=this.getDragLimits(i),r=e.findDOMNode(this).getBoundingClientRect(),s=r.top,l=t||r.left,c=a.x[1]-r.width-n+i;return{left:o.math.ensureWithinLimits(l,a.x[0],c),top:o.math.ensureWithinLimits(s,a.y[0],a.y[1])}},getDragLimits:function(t){var o=i.utils.stageUtils.getStageLayout(),n=i.constants.PANELS.PANEL_SIZE_TO_KEEP_IN_VIEW,a=e.findDOMNode(this).clientHeight;return{x:[o.left+t,o.right-t],y:[o.top+t,o.bottom+a-n]}}}}),define("rEditor/rootComps/toolBar/toolBarLogic",[],function(){"use strict";return{isPasteEnabled:function(e){return e.clipboardContainsComp()&&e.isDesktopEditor()&&!e.components.layout.isPinned(e.selection.getSelectedComponents())}}}),define("rEditor/rootComps/toolBar/toolBarMapper",["lodash","rEditor/utils/isRightClickWithCtrlInDebugMode","stateManagement","rEditor/rootComps/toolBar/toolBarLogic"],function(e,t,o,i){"use strict";function n(e){t(e)||e.preventDefault()}function a(t){var o=t.store.getState(),a=s.selectors.getSelectedCompsRefs(o),l=void 0;e.isEmpty(a)?(a=null,l={}):l=s.selectors.getSelectedCompRestrictions(o);return{hidden:r.selectors.isOpen(o)||t.imageCrop.isCropMode(),toolsHidden:t.toolsControl.areToolsHidden(),halfOpacityTools:t.toolsControl.isHalfOpacityTools(),components:a,componentsWithoutAncestor:t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(a),onContextMenu:n,previewTopPosition:t.getPreviewPosition().top,layout:function(t,o){return o?t.components.layout.isHorizontallyStretchedToScreen(o)?{componentLayout:t.components.layout.getRelativeToScreen(o),update:t.components.layout.updateRelativeToScreen,updateAndPreserveProportions:t.components.layout.updateRelativeToScreenAndPreserveProportions}:{componentLayout:t.components.layout.getRelativeToStructure(o),update:t.components.layout.updateRelativeToStructure,updateAndPreserveProportions:t.components.layout.updateRelativeToStructureAndPreserveProportions}:{componentLayout:null,update:e.noop,updateAndPreserveProportions:e.noop}}(t,a),componentsRestrictions:l,areComponentsMultiSelectedOrGrouped:function(e,t){if(!t)return!1;var o=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t);return e.multiselect.isMultiselect(o)||e.components.is.group(o)}(t,a),componentsProportions:function(e,t){var o=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t);return e.multiselect.isMultiselect(o)||e.components.is.group(o)?e.components.layout.getProportionStructure(o):null}(t,a),componentLayoutLimits:a?t.documentServices.components.layout.getLimits(e.head(a)):{},addHistory:t.history.add,toggleShowOnAllPages:e.partial(t.components.toggleShowOnAllPages,a),shouldDisableShowOnAllPages:a&&t.components.shouldDisableShowOnAllPages(a),isPage:a&&t.utils.isPage(a),reportBI:t.bi.event,isComponentShowOnAllPages:a&&t.components.isShowOnAllPages(a),isPasteEnabled:i.isPasteEnabled(t),toggleToolbar:t.toolbar.toggleToolbar,componentType:t.selection.getSelectedComponentType(),onHelp:function(e,o){t.panelManager.openHelpCenter(e,null,o)},toggleFixedPosition:t.selectedComponent.toggleFixedPosition,compDeleteTooltipText:t.tooltipTextService.getComponentTooltipText(a,"DELETE"),compBIParams:t.bi.getComponentsBIParams(a),isCompControlledByParent:l.isControlledByParent,copyPasteAPI:e.pick(t.copyPaste,["duplicate","paste","copy"]),canDistributeAllDirections:t.components.multiComponents.canDistributeAllDirections(a),distribute:t.components.multiComponents.distribute,canMatchAllSizes:t.components.multiComponents.canMatchAllSizes(a),matchSize:t.components.multiComponents.matchSize,isMobileEditor:t.isMobileEditor(),canAlignAllDirections:t.components.alignment.canAlignAllDirections(a),alignComp:t.components.alignment.align,removeComp:t.components.remove,arrangementAPI:e.pick(t.components.arrangement,["moveToFront","moveForward","moveToBack","moveBackward"])}}var r=o.pinMode,s=o.selection;return a}),define("rEditor/rootComps/toolBar/toolSelector.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{position:"relative"}},this.state.isMenuDisplayed?e.createElement("div",{className:t(this.getDropDownClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"menuDropDown",onMouseLeave:this.hideMenu},this.props.children):null,e.createElement(o.tooltip,{disabled:!this.props.tooltip,value:this.props.tooltip,className:this.props.tooltipClass,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:this.props.disabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.displayMenu},e.createElement(o.symbol,{name:this.props.symbol}))),this.props.children&&this.props.children.length>1?e.createElement("div",{key:"smallIndicator",className:"small-indicator"}):null)}}),define("rEditor/rootComps/toolBar/toolSelector",["create-react-class","prop-types","lodash","rEditor/rootComps/toolBar/toolSelector.rt"],function(e,t,o,i){"use strict";return e({displayName:"toolSelector",propTypes:{symbol:t.string.isRequired,columns:t.number,onShow:t.func,tooltipClass:t.string,disabled:t.bool},getDefaultProps:function(){return{columns:3,disable:!1}},getInitialState:function(){return{isMenuDisplayed:!1}},displayMenu:function(){this.props.disabled||(this.setState({isMenuDisplayed:!0}),o.isFunction(this.props.onShow)&&this.props.onShow())},hideMenu:function(){var e=this;window.setTimeout(function(){e.setState({isMenuDisplayed:!1})},300)},getDropDownClasses:function(){var e={"drop-down":!0,disabled:this.props.disabled};return e["grid-"+this.props.columns+"-col"]=!0,e},getClasses:function(){var e={"tool-selector":!0};if(this.props.className){var t=this.props.className.split(" ");o.forEach(t,function(t){e[t]=!0})}return this.props.disabled&&(e.disabled=!0),e},render:i})}),define("rEditor/rootComps/toolBar/toolbarTop.rt",["react","lodash","baseUI","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","coreBi","rEditor/rootComps/toolBar/toolSelector","constants"],function(e,t,o,i,n,a,r){"use strict";return function(){return function(){var s=this.props.restrictions,l=i.editor;return e.createElement("div",{},e.createElement("div",{className:"inner button-grid"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_copy",l.COPY.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.duplicatable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleCopy},e.createElement(o.symbol,{name:"toolbarCopy"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_paste",l.PASTE.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!this.props.pasteEnabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handlePaste},e.createElement(o.symbol,{name:"toolbarPaste"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_duplicate",l.DUPLICATE.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.duplicatable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleDuplicate},e.createElement(o.symbol,{name:"toolbarDuplicate"}))),e.createElement(o.tooltip,{value:this.getDeleteTooltipText(),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.removable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleDelete},this.props.isMobileEditor?null:e.createElement(o.symbol,{key:"deleteSymbol",name:"toolbarDelete"}),this.props.isMobileEditor?e.createElement(o.symbol,{key:"hideSymbol",name:"gfpp_hide"}):null))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner button-grid"},e.createElement(a,{disabled:!(s.canMoveForward||s.canMoveBackward)||this.props.isCompControlledByParent,symbol:"toolbarMoveForward",columns:2,tooltip:this.getInfoTooltip("toolbar_tooltip_arrange","toolbar_tooltip_arrange_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_forward",l.SEND_FORWARD.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveForward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveForward()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveForward"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_backward",l.SEND_BACKWARD.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveBackward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveBackward()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveBackward"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_bring_to_front",l.SEND_TO_FRONT.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveForward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveToFront()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveToFront"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_send_to_back",l.SEND_TO_BACK.label),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!s.canMoveBackward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(e,t){this.moveToBack()}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarMoveToBack"})))),e.createElement(a,{disabled:!this.isAlignEnabled(),symbol:"toolbarAlignRight",columns:3,onShow:t.partial(this.props.reportBI,n.events.toolbar.TOOL_BAR_ALIGNMENT_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_align","toolbar_tooltip_align_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_left"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("left")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignLeft"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_center"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("center")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignCenter"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_right"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("right")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignRight"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_top"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("top")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignTop"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_middle"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("middle")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignMiddle"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_bottom"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.align("bottom")}.bind(this,s,l)},e.createElement(o.symbol,{name:"toolbarAlignBottom"})))),e.createElement(a,{key:"distributeButtons",disabled:!this.isDistributeEnabled(),symbol:"distribute-vertical-btn-bld",columns:3,onShow:t.partial(this.props.reportBI,n.events.toolbar.TOOL_BAR_DISTRIBUTION_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_distribute","toolbar_tooltip_distribute_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_horizontally"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("horizontal")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-horizontal-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_both"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("verticalAndHorizontal")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-hw-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_vertically"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.distribute("vertical")}.bind(this,s,l)},e.createElement(o.symbol,{name:"distribute-vertical-btn-bld"})))),e.createElement(a,{key:"matchSizeButtons",disabled:!this.isMatchSizeEnabled(),symbol:"mech-to-height-btn-bld",columns:3,onShow:t.partial(this.props.reportBI,n.events.toolbar.TOOL_BAR_MATCH_SIZE_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_match_size","toolbar_tooltip_match_size_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_width"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("width")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-to-width-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_both"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("heightAndWidth")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-hw-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_height"),styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:function(e,t){this.matchSize("height")}.bind(this,s,l)},e.createElement(o.symbol,{name:"mech-to-height-btn-bld"}))))))}.apply(this,[])}}),define("rEditor/rootComps/toolBar/toolbarTop",["react","create-react-class","prop-types","lodash","baseUI","core","util","higherOrderComponents","rEditor/rootComps/toolBar/toolbarTop.rt"],function(e,t,o,i,n,a,r,s,l){"use strict";var c=a.bi,p=t({displayName:"toolbarTop",propTypes:{restrictions:o.object,components:o.arrayOf(o.object),pasteEnabled:o.bool,compDeleteTooltipText:o.func,compBIParams:o.array,isCompControlledByParent:o.bool,reportBI:o.func,copyPasteAPI:o.shape({copy:o.func,paste:o.func,duplicate:o.func}),canDistributeAllDirections:o.bool,distribute:o.func,canMatchAllSizes:o.bool,matchSize:o.func,addHistory:o.func,isMobileEditor:o.bool,canAlignAllDirections:o.bool,alignComp:o.func,removeComp:o.func,arrangementAPI:o.shape({moveToFront:o.func,moveForward:o.func,moveToBack:o.func,moveBackward:o.func})},getShortcutTooltip:function(t,o){return e.createElement(n.popoverTemplates.keyboardShortcutTooltip,{label:t,shortcut:o})},getDeleteTooltipText:function(){var e=this.props.isMobileEditor?"toolbar_tooltip_hide":"toolbar_tooltip_delete";return this.props.restrictions.removable?this.getShortcutTooltip(e,r.translate("toolbar_tooltip_delete_shortcut")):this.getDisabledDeleteTooltipText(e,r.translate("toolbar_tooltip_delete_shortcut"))},getDisabledDeleteTooltipText:function(e,t){var o=this.props.compDeleteTooltipText;return o||this.getShortcutTooltip(e,t)},getInfoTooltip:function(t,o){return e.createElement(n.popoverTemplates.titleBodyAndLinkTooltip,{title:t,text:o})},handleCopy:function(){this.props.restrictions.duplicatable&&(i.forEach(this.props.compBIParams,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.reportBI(c.events.rightClickMenu.COPY,this.props.compBIParams),this.props.copyPasteAPI.copy(this.props.components))},handlePaste:function(){if(this.props.pasteEnabled){var e=this.props.compBIParams;i.forEach(e,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.copyPasteAPI.paste(),this.props.addHistory("component - paste"),this.props.reportBI(c.events.rightClickMenu.PASTE,e)}},handleDuplicate:function(){if(this.props.restrictions.duplicatable){var e=this.props.compBIParams;i.forEach(e,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.copyPasteAPI.duplicate(this.props.components),this.props.addHistory("component - duplicate"),this.props.reportBI(c.events.rightClickMenu.DUPLICATE,e)}},handleDelete:function(){var e=this;if(this.props.restrictions.removable){var t=this.props.compBIParams;i.forEach(t,this.assignToolbarSpecificBI.bind(null,"removal_method")),this.props.removeComp(this.props.components).then(function(o){o&&(e.props.addHistory("component - remove"),e.props.reportBI(c.events.editor.component_removed,t))})}},moveToFront:function(){this.props.arrangementAPI.moveToFront(this.props.components),this.props.reportBI(c.events.rightClickMenu.BRING_TO_FRONT,{origin:"toolbar"})},moveForward:function(){this.props.arrangementAPI.moveForward(this.props.components),this.props.reportBI(c.events.rightClickMenu.MOVE_FORWARD,{origin:"toolbar"})},moveToBack:function(){this.props.arrangementAPI.moveToBack(this.props.components),this.props.reportBI(c.events.rightClickMenu.SEND_TO_BACK,{origin:"toolbar"})},moveBackward:function(){this.props.arrangementAPI.moveBackward(this.props.components),this.props.reportBI(c.events.rightClickMenu.MOVE_BACKWARDS,{origin:"toolbar"})},isAlignEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canAlignAllDirections},align:function(e){this.props.alignComp(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_ALIGNMENT_MENU_CLICK,{category:e})},isDistributeEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canDistributeAllDirections},distribute:function(e){this.props.distribute(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_DISTRIBUTION_MENU_CLICK,{category:e})},isMatchSizeEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canMatchAllSizes},matchSize:function(e){this.props.matchSize(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_MATCH_SIZE_MENU_CLICK,{category:e})},assignToolbarSpecificBI:function(e,t){var o={};o[e]="toolbar",i.assign(t,o)},render:l});return s.renderWhenMutated(p)}),define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt",["react","lodash","baseUI","constants","baseUILib"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("label",{className:"row show-on-all-pages-row"},e.createElement(o.tooltip,{disabled:this.shouldHideTooltip(),value:"RightClick_Menu_Show_on_All_Pages_Disabled_Tooltip",styleType:i.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement(n.ToggleSwitch,{disabled:this.props.disabled,value:this.props.isComponentShowOnAllPages,onChange:this.handleShowOnAllPages,className:"show-on-all-pages emphasise "+this.props.className,size:"MEDIUM",labelType:this.props.labelType,widthByTextLength:this.props.widthByTextLength,label:this.props.label})))}}),define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle",["core","lodash","create-react-class","prop-types","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt"],function(e,t,o,i,n){"use strict";return o({displayName:"showOnAllPages",propTypes:{selectedComponents:i.arrayOf(i.object),selectedComponentsTypes:i.arrayOf(i.string),isComponentShowOnAllPages:i.bool,disabled:i.bool,isPage:i.bool,componentsRestrictions:i.object,toggleShowOnAllPages:i.func,reportBI:i.func,origin:i.string},shouldHideTooltip:function(){return!this.props.selectedComponents||!this.props.disabled||this.props.isPage},handleShowOnAllPages:function(){var o=void 0,i=this.props.componentsRestrictions;this.props.selectedComponents&&i.canToggleShowOnAllPages&&(o=this.props.toggleShowOnAllPages(),this.props.reportBI(e.bi.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:o,origin:this.props.origin,component_id:t.toString(t.map(this.props.selectedComponents,"id")),component_type:t.toString(this.props.selectedComponentsTypes)}))},render:n})}),define("rEditor/rootComps/toolBar/toolBar.rt",["react","lodash","baseUI","baseUILib","util","rEditor/rootComps/toolBar/toolbarTop","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","experiment","constants"],function(e,t,o,i,n,a,r,s,l){"use strict";return function(){return function(){var s=this.getLayout();return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onContextMenu:this.props.onContextMenu},e.createElement("div",{className:"header"},e.createElement("div",{className:"drag-zone",onMouseDown:function(e,t){this.startDrag(t,this.getDragLimits())}.bind(this,s)},e.createElement("span",{className:"drag-handle"},e.createElement(o.symbol,{name:"toolbarDragHandle"}))),e.createElement("button",{className:"help",onClick:this.onHelp},"?"),e.createElement("span",{className:"close",onClick:this.props.toggleToolbar},e.createElement(o.symbol,{name:"toolbarClose"}))),e.createElement("div",{className:"header-seperator"}),e.createElement(a,{restrictions:this.props.componentsRestrictions,components:this.props.components,pasteEnabled:this.props.isPasteEnabled,compDeleteTooltipText:this.props.compDeleteTooltipText,compBIParams:this.props.compBIParams,isCompControlledByParent:this.props.isCompControlledByParent,reportBI:this.props.reportBI,copyPasteAPI:this.props.copyPasteAPI,canDistributeAllDirections:this.props.canDistributeAllDirections,distribute:this.props.distribute,canMatchAllSizes:this.props.canMatchAllSizes,matchSize:this.props.matchSize,addHistory:this.props.addHistory,isMobileEditor:this.props.isMobileEditor,canAlignAllDirections:this.props.canAlignAllDirections,alignComp:this.props.alignComp,removeComp:this.props.removeComp,arrangementAPI:this.props.arrangementAPI}),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("label",{"data-input-title":"input_rotation",className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_rotation",styleType:l.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{},e.createElement(o.symbol,{name:"toolbarRotation"}))),e.createElement(o.stepper,{className:"small degrees",disabled:!this.props.componentsRestrictions.rotatable,min:-1/0,max:1/0,value:parseInt(s.rotationInDegrees,10),units:"°",onChange:function(e,t){this.rotateComponent("rotationInDegrees",t)}.bind(this,s)}))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("span",{className:"layout-title"},n.translate("toolbar_size")),e.createElement("label",{className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_width",styleType:l.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label",style:{paddingRight:"4px"}},n.translate("toolbar_width")+":")),e.createElement(o.stepper,{disabled:this.checkHorizontalResizable(),className:"small",value:parseInt(s.width,10),min:-1/0,max:1/0,onChange:function(e,t){this.resizeComponent("width",t)}.bind(this,s)})),e.createElement("label",{className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_height",styleType:l.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label"},n.translate("toolbar_height")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.verticallyResizable,className:"small",min:-1/0,max:1/0,value:parseInt(s.height,10),onChange:function(e,t){this.resizeComponent("height",t)}.bind(this,s)}))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("span",{className:"layout-title"},n.translate("toolbar_position")),e.createElement("label",{"data-input-title":"input_x",className:"row input_x"},e.createElement(o.tooltip,{value:"toolbar_tooltip_x_position",styleType:l.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"input_x_label label"},n.translate("toolbar_x")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.horizontallyMovable,className:"small",min:-1/0,max:1/0,value:parseInt(s.bounding.x,10),onChange:function(e,t){this.moveComponent("x",t)}.bind(this,s)})),e.createElement("label",{"data-input-title":"input_y",className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_y_position",styleType:l.UI.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label"},n.translate("toolbar_y")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.verticallyMovable,className:"small",min:-1/0,max:1/0,value:parseInt(s.bounding.y,10),onChange:function(e,t){this.moveComponent("y",t)}.bind(this,s)}))),e.createElement("div",{className:"seperator",key:"seperator-inner-form"}),e.createElement("div",{className:"inner form",key:"inner-form"},this.shouldShowFreezePositionToggle()?null:e.createElement("div",{key:"containable"},e.createElement("span",{className:"layout-title show-on-all-pages-title"},n.translate("toolbar_show_on_all_pages")),e.createElement("label",{},e.createElement(r,{origin:"toolbar",selectedComponents:this.props.components,",":!0,selectedComponentsTypes:this.getSelectedComponentsTypes(),isComponentShowOnAllPages:this.props.isComponentShowOnAllPages,disabled:this.isShowOnAllPagesToggleDisabled(),isPage:this.props.isPage,componentsRestrictions:this.props.componentsRestrictions,toggleShowOnAllPages:this.props.toggleShowOnAllPages,reportBI:this.props.reportBI}))),this.shouldShowFreezePositionToggle()?e.createElement("div",{key:"canBeFixed"},e.createElement("span",{className:"layout-title show-on-all-pages-title"},n.translate("toolbar_fixed_position")),e.createElement("label",{className:"row show-on-all-pages-row"},e.createElement(i.ToggleSwitch,{key:"fixedPosition",className:"show-on-all-pages emphasise",value:this.props.componentsRestrictions.fixed,onChange:this.props.toggleFixedPosition,size:"MEDIUM"}))):null))}.apply(this,[])}}),define("rEditor/rootComps/toolBar/toolBar",["create-react-class","lodash","prop-types","util","core","higherOrderComponents","rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin","rEditor/rootComps/toolBar/toolBarMapper","rEditor/rootComps/toolBar/toolBar.rt"],function(e,t,o,i,n,a,r,s,l,c){"use strict";var p=n.bi,d=42,u=42,m={rotationInDegrees:0,width:0,height:0,x:0,y:0,bounding:{x:0,y:0}},g=e({displayName:"toolBar",propTypes:{halfOpacityTools:o.bool.isRequired,hidden:o.bool,components:o.arrayOf(o.object),componentsWithoutAncestor:o.arrayOf(o.object),toolsHidden:o.bool,previewTopPosition:o.number,layout:o.shape({componentLayout:o.object,update:o.func,updateAndPreserveProportions:o.func}),componentsRestrictions:o.object,areComponentsMultiSelectedOrGrouped:o.bool,componentsProportions:o.object,componentLayoutLimits:o.object,addHistory:o.func,toggleShowOnAllPages:o.func,canToggleShowOnAllPages:o.bool,shouldDisableShowOnAllPages:o.bool,isPage:o.bool,reportBI:o.func,isComponentShowOnAllPages:o.bool,isPasteEnabled:o.bool,toggleToolbar:o.func,componentType:o.string,onHelp:o.func,toggleFixedPosition:o.func,compDeleteTooltipText:o.string,compBIParams:o.array,isCompControlledByParent:o.bool,copyPasteAPI:o.shape({copy:o.func,paste:o.func,duplicate:o.func}),canDistributeAllDirections:o.bool,distribute:o.func,canMatchAllSizes:o.bool,matchSize:o.func,isMobileEditor:o.bool,canAlignAllDirections:o.bool,alignComp:o.func,removeComp:o.func,arrangementAPI:o.shape({moveToFront:o.func,moveForward:o.func,moveToBack:o.func,moveBackward:o.func})},mixins:[i.draggableMixin,r,s],getInitialState:function(){return this.initialPosition=function(e){return{right:d,top:u+e}}(this.props.previewTopPosition),{}},getLayout:function(){return this.props.layout.componentLayout||m},updateLayout:function(e,t,o){this.props.layout.update(e,t,o)},updateLayoutProportionally:function(e,t,o,i){this.props.layout.updateAndPreserveProportions(e,t,o,i)},getComponentPosition:function(e){return this.state.isCustomPosition?this.fitPositionToScreen(e,10,d):this.initialPosition},onDragEnd:function(){this.updateLastCustomXPosition(this.draggable.nodePosition.x)},getClasses:function(){return t.assign({"rootcomp-toolbar":!0,hidden:this.props.hidden},this.getHiddenableClasses())},resizeComponent:function(e,t){this.props.reportBI(p.events.editBox.RESIZE,{origin:"toolbar"}),this.setComponentLayoutChange(e,t)},moveComponent:function(e,t){this.setComponentLayoutChange(e,t)},rotateComponent:function(e,t){var o=parseInt(t,10);0===o?this.props.reportBI(p.events.editBox.CANCEL_ROTATE_COMPONENT):this.props.reportBI(p.events.editBox.ROTATE_COMPONENT,{origin:"toolbar",value:o}),this.setComponentLayoutChange(e,t)},checkHorizontalResizable:function(){return"Column"===this.props.componentType||!this.props.componentsRestrictions.horizontallyResizable},setComponentLayoutChange:function(e,o){var i=this.getLayout();if(o=parseInt(o,10),isNaN(o))this.forceUpdate();else{"y"!==e&&"x"!==e||(o=function(e,t,o){return e[t]+o-e.bounding[t]}(i,e,o));var n=this.props.componentsWithoutAncestor;if(i[e]!==o){var a={};a[e]=o;var r=void 0;this.props.areComponentsMultiSelectedOrGrouped?(r=i.width/i.height,"height"===e?a.width=o*r:"width"===e&&(a.height=o/r),a=t.mapValues(a,t.round),this.updateLayoutProportionally(n,a,this.props.componentsProportions,!0)):(t.includes(["width","height"],e)&&this.props.componentsRestrictions.resizeOnlyProportionally&&(r=this.props.componentLayoutLimits.aspectRatio,"width"===e?(a.width=o,a.height=Math.round(o/r)):(a.height=o,a.width=o*r)),this.updateLayout(n,a,!0)),this.props.addHistory("toolbar - set selected component layout - "+e)}}},onHelp:function(){var e={origin:n.constants.BI.HELP.ORIGIN.TOOLBAR,component:this.props.componentType,learn_more:!1,panel_name:n.constants.BI.HELP.ORIGIN.TOOLBAR};this.props.onHelp("4ab49cd7-2ea4-4873-904e-f65d17d2f1dd",e)},handleShowOnAllPages:function(){if(this.props.componentsRestrictions.canToggleShowOnAllPages){var e=this.props.toggleShowOnAllPages();this.props.reportBI(p.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:e,origin:n.constants.BI.HELP.ORIGIN.TOOLBAR})}},shouldShowFreezePositionToggle:function(){return this.props.componentsRestrictions.showLegacyFixedPosition},isShowOnAllPagesToggleDisabled:function(){return!this.props.componentsRestrictions.canToggleShowOnAllPages||this.props.shouldDisableShowOnAllPages},getSelectedComponentsTypes:function(){return t.toString(t.map(this.props.compBIParams,"component_type"))},render:function(){return c.call(this)}}),f=a.connectEditorAPI(l)(a.renderWhenMutated(g));return f.pure=g,f}),define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"top-bar-drop-panel "+(this.props.dropPanelClass||"")},e.createElement("div",{className:"drop-panel-left-side"},this.getLeftContent()),this.hasRightContent()?e.createElement("div",{className:"drop-panel-right-side",key:"rightContent"},this.getRightContent()):null,this.props.bottomContent?e.createElement("div",{className:"drop-panel-bottom-side",key:"bottomContent"},this.props.bottomContent):null)}}),define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel",["react","create-react-class","prop-types","lodash","rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt"],function(e,t,o,i,n){"use strict";return t({displayName:"topBarDropPanel",propTypes:{leftContent:o.object.isRequired,bottomContent:o.object,rightContentOptions:o.object,dropPanelClass:o.string,closeHandle:o.func,hintContainerId:o.string},getInitialState:function(){return{displayedRightContentKey:"main"}},componentWillReceiveProps:function(e){var t=i.keys(this.props.rightContentOptions),o=i.keys(e.rightContentOptions);i.intersection(o,t).length!==t.length&&this.setState({displayedRightContentKey:"main"})},getLeftContent:function(){return e.cloneElement(this.props.leftContent,{onMenuItemHover:this.onSubMenuItemHover,closeDropDownHandle:this.props.closeHandle})},getRightContent:function(){return this.props.rightContentOptions[this.state.displayedRightContentKey]},hasRightContent:function(){return!!this.props.rightContentOptions},onSubMenuItemHover:function(e){e.rightPanel&&this.setState({displayedRightContentKey:e.key})},render:function(){return n.call(this)}})}),define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt",["react","lodash","baseUI","experiment"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{className:this.getClasses(),style:this.props.style},e.createElement(o.tooltip,this.getTooltipProps(),function(){var i=this.isDoneSuccessfully();return e.createElement("div",{className:"wrapper-to-perserve-ref"},e.createElement(o.button2,{key:"buttonContent-"+this.props.iconSymbol,label:this.props.label,style:this.props.buttonStyle,symbolName:this.props.iconSymbol,customLabelClass:"top-bar-button-label",className:t({"top-bar-button-content":!0,"icon-and-label":this.props.iconSymbol&&this.props.label,invisible:i}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.onClick,onMouseOver:this.handleMouseOverButton,onMouseLeave:this.handleMouseLeftButton,disabled:this.props.isDisabled}),i?e.createElement(o.symbol,{key:"successSymbol",name:"topBarButtonVSign",className:"button-symbol vSign"}):null,this.isInProgress()?e.createElement("div",{key:"progressIndicator",className:"progress-indicator"}):null)}.apply(this,[])),this.state.isDropDownDisplayed?e.createElement(o.bubble,t.assign({},{key:"topBarButtonDropDown"},this.getDropDownProps())):null)}}),define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton",["reactDOM","react","react-dom-factories","create-react-class","prop-types","lodash","core","util","baseUI","constants","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt"],function(e,t,o,i,n,a,r,s,l,c,p,d){"use strict";return i({displayName:"topBarButton",mixins:[t.addons.PureRenderMixin,s.singlePassDOMReadWriteMixin,r.mixins.editorAPIMixin],propTypes:{label:n.string,classes:n.string,iconSymbol:n.string,dropPanelProps:n.object,actions:n.array,bi:n.oneOfType([n.array,n.object]),biFunc:n.func,isDisabled:n.bool,onMenuOpened:n.func,onMenuClosed:n.func,buttonStyle:n.object,dropPanelContent:n.oneOfType([n.object,n.func]),tooltipData:n.object,measurePhase:n.func,patchPhase:n.func,progressStatus:n.oneOf(a.values(c.PROGRESS_STATUS))},getInitialState:function(){return this._domNode=null,{isDropDownDisplayed:!1,isMouseOverButton:!1}},getDefaultProps:function(){return{buttonStyle:{}}},componentDidMount:function(){this._domNode=e.findDOMNode(this),this.showTooltipIfNeeded()},componentDidUpdate:function(){this.showTooltipIfNeeded()},componentWillUnmount:function(){this._domNode=null},getClasses:function(){var e="top-bar-button "+this.props.classes;return this.state.isDropDownDisplayed&&(e+=" top-bar-button-selected"),this.isInProgress()||this.props.isDisabled?e+=" disabled-button":this.isInIdleSaved()&&(e+=" saved-button"),e},getTooltipValue:function(){var e=this.props.tooltipData;if(e&&e.presenter)return t.createElement(e.presenter,e.props)},hideTooltip:function(){if(this.props.tooltipData){var e=a.isFunction(this.props.tooltipData.onClose)?this.props.tooltipData.onClose:a.noop;l.tooltipManager.hide(this.props.tooltipData.id,e)}},showTooltipIfNeeded:function(){var e=this.props.tooltipData;e&&a.includes(e.openTriggers,c.UI.TOOLTIP.TRIGGERS.IMMEDIATE)&&l.tooltipManager.show(e.id)},onClick:function(){if(!this.props.isDisabled){this.props.dropPanelContent&&this.toggleDropDown(),this.hideTooltip();var e=this.getEditorAPI(),t=e.selection.getSelectedComponents(),o=e.bi.getComponentsBIParams(t);this.props.actions&&a.forEach([].concat(this.props.actions),function(e){e()}),this.sendButtonBI(o)}},handleMouseOverButton:function(){this.setState({isMouseOverButton:!0})},handleMouseLeftButton:function(){this.setState({isMouseOverButton:!1})},getDropDownId:function(){return"top-bar-dropdown-"+(this.props.label||this.props.iconSymbol)},getDropDownProps:function(){if(!this._domNode)return{};var e=this.getDropDownContent();return{id:this.getDropDownId(),value:e,width:"1000px",interactive:!0,closeTriggers:[c.UI.TOOLTIP.TRIGGERS.MOUSE_LEAVE],className:"top-bar-drop-down",overridePositionAdjustments:this.props.dropPanelProps&&this.props.dropPanelProps.overridePositionAdjustments,targetNode:this._domNode,hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.isMouseOverButton,timeoutForMouseOverBubble:500}},getDropDownContent:function(){var e=this.getDropPanelLeftContent(),o={main:this.getDropPanelRightContent()};return e?t.createElement(p,{closeHandle:this.closeDropDown,leftContent:e,rightContentOptions:o,dropPanelClass:this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelClass}):null},getDropPanelLeftContent:function(){var e=this.props.dropPanelContent,o=this.props.dropPanelProps;return e?(o.closeHandle=this.closeDropDown,t.createElement(e,this.props.dropPanelProps)):null},getDropPanelRightContent:function(){var e=this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelPromotion;if(e){var i=a.cloneDeep(e.props);return i=a.merge({moduleName:e.type},i),o.div({className:e.classes},[t.createElement(r.lazyComponent,i)])}return null},openDropDown:function(){this.setState({isDropDownDisplayed:!0,isMouseOverButton:!0}),this.props.onMenuOpened&&this.props.onMenuOpened()},closeDropDown:function(){this.setState({isDropDownDisplayed:!1}),this.props.onMenuClosed&&this.props.onMenuClosed()},toggleDropDown:function(){this.state.isDropDownDisplayed?this.closeDropDown():this.openDropDown()},handleDropDownWantsToClose:function(){this.isMounted()&&!this.state.isMouseOverButton&&this.closeDropDown()},sendButtonBI:function(e){if(this.props.bi){var t=[].concat(this.props.bi);a.forEach(t,a.bind(function(e){e.type&&this.getEditorAPI().bi.event(e.type,e.fields)},this))}this.props.biFunc&&this.props.biFunc(e)},getTooltipProps:function(){var e=this.getTooltipValue(),t={value:e,disabled:!e||this.state.isDropDownDisplayed},o=this.props.tooltipData||{};return a.assign(t,a.pick(o,["id","interactive","onClose","closeDelay","openTriggers","closeTriggers"])),t},measurePhase:function(){return this.props.measurePhase?this.props.measurePhase():null},patchPhase:function(e){this.props.patchPhase&&this.props.patchPhase(e)},isInIdleSaved:function(){return this.props.progressStatus===r.constants.PROGRESS_STATUS.IDLE_SAVED},isInProgress:function(){return this.props.progressStatus===r.constants.PROGRESS_STATUS.IN_PROGRESS},isProgressDone:function(){return this.isDoneSuccessfully()||this.isDoneUnSuccessfully()},isDoneSuccessfully:function(){return this.props.progressStatus===r.constants.PROGRESS_STATUS.DONE_SUCCESS},isDoneUnSuccessfully:function(){return this.props.progressStatus===r.constants.PROGRESS_STATUS.DONE_FAILED},render:d})}),define("rEditor/rootComps/topBar/zoomModeBar.rt",["react","lodash","baseUI","symbols","uiAnimations","util","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton"],function(e,t,o,i,n,a,r){"use strict";return function(){return e.createElement(n.contentSlideCSS,{distance:"60px"},this.inZoomMode()?e.createElement("div",{className:"zoom-bar-wrapper",key:"zoomModeBarWrapper",ref:"zoomModeBarWrapper",style:{width:"calc("+100*this.getSiteScale()+"% - "+this.getVerticalScrollWidth()+")",left:"calc(50% - "+this.getVerticalScrollWidth()+")"}},e.createElement("div",{className:t({"zoom-mode-bar":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"zoom-mode-bar"},e.createElement("div",{className:"left-zoom-bar",onClick:function(){this.exitZoomMode()}.bind(this)},e.createElement("span",{className:"zoom-bar-text"},a.translate("TOPBAR_Exit_ZoomOut")),e.createElement(r,{iconSymbol:"zoomClose",classes:"zoom-bar-symbol",actions:[this.exitZoomMode]})),e.createElement("div",{className:"right-zoom-bar"},e.createElement(r,{iconSymbol:"undo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callUndo],tooltipData:this.getTooltipData("topBarUndoTooltipID","TOPBAR_UNDO_TOOLTIP_TITLE")}),e.createElement(r,{iconSymbol:"redo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callRedo],tooltipData:this.getTooltipData("topBarRedoTooltipID","TOPBAR_REDO_TOOLTIP_TITLE")}),e.createElement(r,{iconSymbol:"zoomBarHelp",classes:"zoom-bar-btn",actions:[this.openHelp],tooltipData:this.getTooltipData("zoomBarHelpTooltipID","gfpp_tooltip_help")})))):null)}}),define("rEditor/rootComps/topBar/zoomModeBar",["create-react-class","lodash","core","util","baseUI","rEditor/rootComps/topBar/zoomModeBar.rt"],function(e,t,o,i,n,a){"use strict";return e({displayName:"zoomModeBar",mixins:[o.mixins.editorAPIMixin],exitZoomMode:function(){var e=this.getEditorAPI();this.getEditorAPI().zoomMode.exitZoomMode(),e.bi.event(o.bi.events.topbar.zoombar.zoom_mode_bar_exit_zoom_mode,{editor_view_mode:e.getDeviceType()}),window.setTimeout(function(){e.toolsControl.toggleHideTools(!1,!0)},300)},inZoomMode:function(){return this.getEditorAPI().zoomMode.isInZoomMode()},callUndo:function(){this.getEditorAPI().history.undo()},callRedo:function(){this.getEditorAPI().history.redo()},getSiteScale:function(){return this.getEditorAPI().getSiteScale()},openHelp:function(){var e="DESKTOP"===this.getEditorAPI().viewMode.get()?"00d369ed-aedf-4fbd-b11c-3fcc51459cef":"65ff699a-dc0c-4c42-b2af-8df5e022d350";this.getEditorAPI().panelManager.openHelpCenter(e,null,{origin:o.constants.BI.HELP.ORIGIN.TOPBAR,component:"zoomModeBar",panel_name:o.constants.BI.HELP.ORIGIN.TOPBAR})},getTooltipData:function(e,t){return{presenter:n.popoverTemplates.titleBodyAndLinkTooltip,id:e,props:{text:t}}},getVerticalScrollWidth:function(){return 0===i.uiUtils.getScrollbarWidth()?"0px":"6px"},render:a})}),define("rEditor/rootComps/topBar/dynamicPagesComboBox.rt",["react","lodash","baseUI","symbols","util","baseUILib"],function(e,t,o,i,n,a){"use strict";return function(){function r(){var o=this.getInnerRoutesToRender();return e.createElement.apply(this,[a.DropDown,{value:this.state.selectedInnerRoute,shouldTranslate:!1,searchBox:!0,key:"innerRouteDropDown",className:"dynamic-pages-combobox",optionsContainerClassName:"dynamic-pages-options",onChange:this.onInnerRouteChange},this.shouldShowPrevButton()?e.createElement(a.Button,{className:"btn-text",key:"prevButton",onClick:this.decreaseRange},e.createElement("span",{},n.translate("dynamic_pages_routes_navigation_button_back"))):null,t.map(o,function(t,o,i){return e.createElement(a.DropDownOption,{key:o.url,value:o.url,label:o.title,shouldTranslate:!1})}.bind(this,o)),this.shouldShowNextButton()?e.createElement(a.Button,{className:"btn-text",key:"nextButton",onClick:this.increaseRange},e.createElement("span",{},n.translate("dynamic_pages_routes_navigation_button_next"))):null])}return this.shouldShowInnerRoutesDropDown()?e.createElement("div",{className:"dynamic-pages-combo-box "+t({preview:this.props.previewMode}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"dynamicPageComboBox"},e.createElement("div",{className:"dragable-area",onMouseDown:function(e){this.startDrag(e,this.getDragLimits())}.bind(this),onMouseUp:function(e){this.endDrag()}.bind(this)},e.createElement(o.symbol,{name:"smalldragHandle",className:"symbol-smallDragHandle"})),this.props.previewMode?e.createElement("div",{key:"prevRouteNavButtonWrapper",className:"prev-route-wrapper"},e.createElement("div",{key:"prevRouteNavButton",className:"prev-route nav-btn",onClick:this.prevRoute},e.createElement(i.symbol,{name:"arrowPrev"}))):null,e.createElement("div",{className:"combo-box-wrapper"},r.apply(this,[])),this.props.previewMode?null:e.createElement(o.button,{key:"goToPreviewButton",className:"go-to-preview",label:"INNER_ROUTES_NAVIGATION_BOX_GO_TO_PREVIEW",onClick:this.goToPreviewAndNavigate}),this.props.previewMode?e.createElement("div",{key:"nextRouteNavButton",className:"next-route nav-btn",onClick:this.nextRoute},e.createElement(i.symbol,{name:"arrowNext"})):null,e.createElement("div",{className:"close-area",onClick:this.close},e.createElement("div",{className:"close-sign"},e.createElement(i.symbol,{name:"close"})))):null}}),define("rEditor/rootComps/topBar/dynamicPagesComboBox",["create-react-class","lodash","core","util","prop-types","rEditor/rootComps/topBar/dynamicPagesComboBox.rt"],function(e,t,o,i,n,a){"use strict";function r(e,t){return(e%t+t)%t}function s(e){for(var t=0;t+l<=e;)t+=l;return t}var l=100;return e({displayName:"daynamicPagesComboBox",render:a,mixins:[o.mixins.editorAPIMixin,i.draggableMixin],getInitialState:function(){return{innerRoutes:null,selectedInnerRoute:null,shouldShowNavigation:!0,rangeStartIndex:0}},propTypes:{previewMode:n.bool,editorIsInit:n.bool,devModeContext:n.object},getNavigationData:function(e){var o=this.getEditorAPI().data.createItem("DynamicPageLink");return t.assign(o,{innerRoute:e||"",routerId:this.routerData.routerId})},componentWillReceiveProps:function(e){var o=this.getEditorAPI();if(e.previewMode!==this.props.previewMode&&e.previewMode&&this.getRouterInnerRoutes(),this.props.editorIsInit){var i=o.documentServices.pages.getPrimaryPageId()!==this.currentPageId;i&&(this.currentPageId=o.documentServices.pages.getPrimaryPageId());var n=o.documentServices.routers.getRouterDataForPageIfExist(this.currentPageId);!i&&t.isEqual(this.routerData,n)||(this.routerData=n,this.getRouterInnerRoutes())}this.props.devModeContext.type!==e.devModeContext.type&&this.getRouterInnerRoutes();var a=o.documentServices?o.documentServices.routers.getCurrentInnerRoute():null;if(this.props.editorIsInit&&o.documentServices.pages.getPrimaryPageId()===this.currentPageId&&a&&a.innerRoute!==this.currentInnerRoute&&!this.isCollectionPageOrHasOneRoute()){this.currentInnerRoute=a.innerRoute;var r=this.currentInnerRoute?this.findInnerRouteIndex(this.currentInnerRoute,this.state.innerRoutes):0;this.setState({selectedInnerRoute:this.currentInnerRoute,rangeStartIndex:this.currentInnerRoute?s(r):0})}},shouldComponentUpdate:function(e,o){if(!t.isEqual(this.props,e))return!0;var i=this.state.shouldShowNavigation!==o.shouldShowNavigation,n=this.state.selectedInnerRoute!==o.selectedInnerRoute;return!(!i&&!n)||(!t.isEqual(this.state.rangeStartIndex,o.rangeStartIndex)||!t.isEqual(this.state.innerRoutes,o.innerRoutes))},getRouterInnerRoutes:function(){var e=this.getEditorAPI(),o=e.documentServices.routers.getRouterDataForPageIfExist(this.currentPageId);if(!o)return this.setState({innerRoutes:[],selectedInnerRoute:null,shouldShowNavigation:!0,rangeStartIndex:0}),void(this.routerData=null);var i=this.currentPageId,n=o;e.documentServices.routers.getRouterInnerRoutes(o.routerId,this.currentPageId,function(o){o=t.sortBy(o,["title"]);if(!(e.documentServices.pages.getPrimaryPageId()!==i)&&t.isEqual(n,this.routerData)){if(1===o.length&&"/"===o[0].url)return this.setState({innerRoutes:[],selectedInnerRoute:null,rangeStartIndex:0}),void this.navigateToRoute(null);var a=null,r=e.documentServices.routers.getCurrentInnerRoute();r&&r.innerRoute&&(a=r.innerRoute);var l=a?this.findInnerRouteIndex(a,o):0,c=o[l]?o[l].url:null;c&&c!==this.currentInnerRoute&&(this.currentInnerRoute=c,this.navigateToRoute(this.currentInnerRoute)),this.setState({innerRoutes:t.sortBy(o,["title"])||[],rangeStartIndex:t.isEmpty(o)?0:s(l),shouldShowNavigation:!0,selectedInnerRoute:t.isEmpty(o)?null:o[l].url})}}.bind(this))},isCollectionPageOrHasOneRoute:function(){var e=this.state.innerRoutes;return!!e&&1===e.length},shouldShowInnerRoutesDropDown:function(){var e=this.getEditorAPI(),i=(e.documentServices&&e.documentServices.pages.getFocusedPageId?e.developerMode.getContext():{}).type===o.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,n=!e.documentServices||!e.documentServices.documentMode||e.documentServices.documentMode.isShowingFixedComponentsEnabled();return(!e.documentServices||!e.documentServices.pages.getFocusedPageId||e.documentServices.pages.getFocusedPageId()===e.documentServices.pages.getPrimaryPageId())&&!this.isCollectionPageOrHasOneRoute()&&this.state.shouldShowNavigation&&this.routerData&&!t.isEmpty(this.state.innerRoutes)&&(this.props.previewMode||i)&&n},sendBI:function(e,t){this.getEditorAPI().bi.event(e,t)},getInnerRoutesToRender:function(){return t.slice(this.state.innerRoutes,this.state.rangeStartIndex,this.state.rangeStartIndex+l)},increaseRange:function(){var e=this.state.rangeStartIndex+l,t=this.shouldShowPrevButton(e)?this.state.innerRoutes[e].url:this.state.innerRoutes[e-1].url;this.navigateToRoute(t),this.sendBI(o.bi.events.dynamicPageComboBox.preview_navigate,this.getBIParams(t)),this.setState({rangeStartIndex:e,selectedInnerRoute:t})},decreaseRange:function(){var e=this.state.rangeStartIndex-l,t=this.state.innerRoutes[e].url;this.navigateToRoute(t),this.sendBI(o.bi.events.dynamicPageComboBox.preview_navigate,this.getBIParams(t)),this.setState({rangeStartIndex:e,selectedInnerRoute:t})},shouldShowPrevButton:function(e){e=e||this.state.rangeStartIndex;var t=this.state.innerRoutes.length<l;return!(0===e)&&!t},shouldShowNextButton:function(){var e=this.state.innerRoutes.length<l;return!(this.state.rangeStartIndex+l>=this.state.innerRoutes.length)&&!e},goToPreviewAndNavigate:function(){var e=this.getEditorAPI();this.props.previewMode?e.pages.navigateTo(this.getNavigationData(this.state.selectedInnerRoute)):(this.sendBI(o.bi.events.dynamicPageComboBox.preview_clicked,this.getBIParams(this.state.selectedInnerRoute)),e.preview.togglePreview())},getBIParams:function(e){var t=this.getEditorAPI(),o=t.documentServices.pages.getPrimaryPageId(),i=t.documentServices.routers.getRouterDataForPageIfExist(o);return{item_name:e,item_path:i.prefix+"/"+e,pageId:o,appName:i.appDefinitionId}},onInnerRouteChange:function(e){this.sendBI(o.bi.events.dynamicPageComboBox.preview_select_page,this.getBIParams(e)),this.navigateToRoute(e),this.setState({selectedInnerRoute:e})},close:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPrimaryPageId(),i=e.documentServices.routers.getRouterDataForPageIfExist(t);this.sendBI(o.bi.events.dynamicPageComboBox.preview_closed,{pageId:t,appName:i.appDefinitionId}),this.setState({shouldShowNavigation:!1})},openHelpCenter:function(){var e=this.getEditorAPI(),t={origin:"display-combo-box",panel_name:"dynamic-pages-display-combo-box",component:this.props.id};e.panelManager.openHelpCenter("b853c294-8ff1-418f-b4d2-29d7b59a85c3",null,t)},findInnerRouteIndex:function(e,o){var i=t.findIndex(o,["url",e]);return-1===i?0:i},prevRoute:function(){var e=function(e,t){return r(e-1,t)}(this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes),this.state.innerRoutes.length);this.moveToItem(e)},nextRoute:function(){var e=function(e,t){return r(e+1,t)}(this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes),this.state.innerRoutes.length);this.moveToItem(e)},moveToItem:function(e){var i=!t.isEmpty(this.state.innerRoutes)&&e<this.state.innerRoutes.length?this.state.innerRoutes[e].url:null;this.sendBI(o.bi.events.dynamicPageComboBox.preview_navigate,this.getBIParams(i)),this.navigateToRoute(i),this.setState({selectedInnerRoute:i,rangeStartIndex:s(e)})},navigateToRoute:function(e){var o=this.getEditorAPI();this.state.selectedInnerRoute!==e&&o.pages.navigateTo(this.getNavigationData(e),t.noop,!0)},getDragLimits:function(){var e=o.utils.stageUtils.getStageLayout();return e||(e=window.document.body.getBoundingClientRect()),{x:[e.left,e.right],y:[e.top,e.bottom]}}})}),define("rEditor/rootComps/gfpp/platformConnectedGfpp",["lodash"],function(e){"use strict";function t(t,o,i,n,a){return e.map(o,function(o){return e(o).omit(["id"]).assign({onClick:function(){t.platform.notifyApplication(i,{eventType:"componentGfppClicked",eventPayload:{id:o.id,role:a,componentRef:n}})},shouldTranslate:!1}).value()})}return{getCompGfppOverrides:function(o,i){var n=e.head(o.platform.controllers.connections.get(i));if(!n)return{};var a=e.get(o.platform.controllers.getStageData(n.controllerRef),["connections",n.role,"gfpp"]);if(!a)return{};var r=e.get(a,"mainActions"),s=e.get(a,"appMainActions"),l=e.get(a,"enabledActions"),c=o.components.data.get(n.controllerRef).applicationId,p=o.platform.getAppDataByAppDefId(c).applicationId,d=t(o,r,p,i,n.role),u=t(o,s,p,i,n.role),m=e.keys(l);if(l=e.mapValues(l,function(t){return t.actionId?{onClick:function(){o.platform.notifyApplication(p,{eventType:"componentGfppClicked",eventPayload:{id:t.actionId,role:n.role,componentRef:i}})}}:t.title?e.merge(t,{title:p+"_"+t.title}):t}),e.isEmpty(m)&&e.isEmpty(d)&&e.isEmpty(u))return[];var g={enabledActions:m,presetActionsData:l};return e.isEmpty(d)||(g.mainActions=d),e.isEmpty(u)||(g.appMainActions=u),g}}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/connectedComponentGfppEnhancer",["lodash","rEditor/rootComps/gfpp/platformConnectedGfpp"],function(e,t){"use strict";return function(o,i,n){if(!e.isEmpty(i)){var a=t.getCompGfppOverrides(o,i[0]);n=e.assign(n,e.omit(a,"appMainActions"));var r=e.get(a,"appMainActions",[]);if(!e.isEmpty(r)){var s=function(t){var o=e.partition(t,"label");return{textActions:o[0],iconActions:o[1]}}(n.mainActions);if(s.textActions.length>=2)return;n.mainActions=(s.textActions||[]).concat(r).slice(0,2).concat(s.iconActions)}}}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/repeaterGfppEnhancer",["lodash","gfppData"],function(e,t){"use strict";return function(e,o,i){e.components.is.repeaterItem(o)&&i.mainActions&&i.mainActions.push(t.repeaterGfppUtils.getManageItemAction())}}),define("rEditor/rootComps/gfpp/enhancers/postMainActions/enhancers",["rEditor/rootComps/gfpp/enhancers/postMainActions/connectedComponentGfppEnhancer","rEditor/rootComps/gfpp/enhancers/postMainActions/repeaterGfppEnhancer"],function(){"use strict";return Array.prototype.slice.call(arguments)}),define("rEditor/rootComps/gfpp/enhancers/postPresetActions/stripGfppEnhancer",["lodash"],function(e){"use strict";return function(t,o,i){var n=i.presetActions.connect;if(t.columns.isStrip(o)&&n)if(t.columns.isSingleColumnStrip(e.head(o))){var a=n.isApplied,r=n.className;n.isApplied=function(t,o){var i=t.components.getChildren(e.head(o));return a(t,i)},n.className=function(t,o){var i=t.components.getChildren(e.head(o));return r(t,i)}}else delete i.presetActions.connect}}),define("rEditor/rootComps/gfpp/enhancers/postPresetActions/enhancers",["rEditor/rootComps/gfpp/enhancers/postPresetActions/stripGfppEnhancer"],function(){"use strict";return Array.prototype.slice.call(arguments)}),define("rEditor/rootComps/gfpp/gfppDataEnhancer",["lodash","rEditor/rootComps/gfpp/enhancers/postMainActions/enhancers","rEditor/rootComps/gfpp/enhancers/postPresetActions/enhancers"],function(e,t,o){"use strict";function i(t,o,i,n){e.forEach(t,function(e){e(o,i,n)})}return{applyPostMainActionsOverrides:e.partial(i,t),applyPostPresetActionsOverrides:e.partial(i,o)}}),define("rEditor/rootComps/gfpp/gfppModel",["lodash","gfppData","constants","helpIds","stateManagement","rEditor/rootComps/gfpp/gfppDataEnhancer","experiment"],function(e,t,o,i,n,a,r){"use strict";function s(t,o,i){return e.some(i,function(e){return"DEFAULT"!==e.type&&t.components.modes.isComponentDisplayedInModes(o,[e.modeId])})}function l(e,t){var i=e.components.getContainer(t),n=e.components.modes.getModes(i);if(n&&n.length>0){var a=e.components.modes.getFirstAncestorWithActiveModes(t);if(r.isOpen("widthModes")||r.isOpen("scrollModes"))return s(e,t,n)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES;if(e.components.modes.isCompDefaultModeActive(a))return s(e,t,n)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE;return e.components.modes.isDisplayedByDefault(t)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}return o.COMPONENT_DISPLAY.OUT_OF_MODES_BOX}function c(t,n){var a=e.map(n,l.bind(null,t)),r=e.every(a,function(e){return e===o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}),s=e.every(a,function(e){return e===o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT}),c=e.isArray(n)?n:[n],p=e.keys(t.components.modes.getFirstAncestorActiveModes(c[0]));return r?function(e){return{panelAction:o.ACTIONS.MODE_IN,panelExitAction:o.ACTIONS.MODE_EXIT,shouldAddExit:!0,dataOverridesKey:o.ACTIONS.MODE_IN,allowOnlyShowOnceUI:!1,extraBehaviorParams:{modeIds:e}}}(p):s?function(e){return{panelAction:o.ACTIONS.MODE_CHANGE,dataOverridesKey:o.ACTIONS.MODE_CHANGE,explanationText:"ANIMATION_PANEL_HOVER_BOX_DESCRIPTION_TEXT",allowPreviewUI:!1,allowOnlyShowOnceUI:!1,helpId:i.ANIMATION.TRANSITION,extraBehaviorParams:{modeIds:e}}}(p):{}}function p(t,o){return e.some(o,function(e){var o=t.components.modes.getFirstAncestorWithActiveModes(e);return t.components.modes.isCompDefaultModeActive(o)})}function d(t,o,i){return e.isFunction(t)?t(o,i):t}function u(t,o,i,n){e.forEach(o,function(o){t[o]=function(t,o,i){return t?(t=e.cloneDeep(t),e.forEach(t,function(n,a){e.isString(n)&&S[n]&&(n=e.cloneDeep(S[n]),t[a]=n),e.forEach(n,function(t,a){e.includes(b,a)||(n[a]=d(t,o,i))})}),t):null}(t[o],i,n)})}function m(o,i){var n=function(t,o){var i=t.components.getType(o);return e.last(i.split("."))}(o,i),r=e.cloneDeep(t.getComponentData(n))||v;return r.mainActions=function(e,t,o){var i=t.isMobileEditor()?e.mobileMainActions:e.mainActions;return i=d(i,t,o)}(r,o,i),a.applyPostMainActionsOverrides(o,i,r),r.extraActions=function(e,t,o){var i=t.isMobileEditor()?e.mobileExtraActions:e.extraActions;return i=d(i,t,o)}(r,o,i),r.presetActions=function(t,o,i){var n=o.isMobileEditor(),a=n?t.mobileEnabledActions:t.enabledActions;a=e.clone(d(a,o,i)||[]),a=e.union(a,y),e.includes(a,h.ACTIONS.APPLY_TO_OTHER_VIEW)||a.push(h.ACTIONS.APPLY_TO_OTHER_VIEW);var r=d(t.presetActions,o,i);return r=e.merge({},e.pick(S,a),n?e.pick(E,a):{},e.pick(r,a),e.pick(P,a)),r=e.merge(r,e.pickBy(e.get(t,"presetActionsData"),function(t){return!e.isEmpty(t)}))}(r,o,i),a.applyPostPresetActionsOverrides(o,i,r),u(r,["mainActions","extraActions","presetActions"],o,i),r.presetActions.help&&(r.presetActions.help=function(o,i){var n=o.isMobileEditor();return i.helpId=n?i.mobileHelpId:i.helpId,i.isSelected=e.isUndefined(i.isSelected)?t.utils.isHelpPanelOpen(o,i.helpId):i.isSelected,i}(o,r.presetActions.help)),r.presetActions=function(t,o,i){var n=function(t,o,i){var n=[];t[h.ACTIONS.HIDE]&&(o.components.is.removable(i)||n.push(h.ACTIONS.HIDE));if(t[h.ACTIONS.ANIMATION]){if(e.some(h.ANIMATION_TYPES,function(e){return o.components.is.animatable(i,e)})&&o.multiselect.areComponentsOfSamePage(i)){var a=e.map(i,l.bind(null,o)),r=e.every(a,e.isEqual.bind(e,a[0]));o.multiselect.componentModes.areComponentsOfSameModefulContainer(i)&&r||n.push(h.ACTIONS.ANIMATION)}else n.push(h.ACTIONS.ANIMATION)}if(t[h.ACTIONS.STRETCH]){o.components.layout.canBeStretched(i)&&!o.isMobileEditor()||n.push(h.ACTIONS.STRETCH)}t[h.ACTIONS.PIN_MODE]&&(o.components.layout.isPinned(i)||n.push(h.ACTIONS.PIN_MODE));t[h.ACTIONS.LAYOUT]&&e.isArray(i)&&i.length>1&&e.some(i,o.components.is.controlledByParent)&&n.push(h.ACTIONS.LAYOUT);t[h.ACTIONS.APPLY_TO_OTHER_VIEW]&&!function(t,o){if(1===e.size(o)){var i=e.head(o),n=t.components.modes.getModes(i),a=t.components.getContainer(i),r=t.components.modes.getModes(a);return!t.isMobileEditor()&&(e.size(n)>1||e.size(r)>1)}return!1}(o,i)&&n.push(h.ACTIONS.APPLY_TO_OTHER_VIEW);t[h.ACTIONS.CONNECT]&&!o.developerMode.isEnabled()&&n.push(h.ACTIONS.CONNECT);return n}(t,o,i);return e.isEmpty(n)?t:e.omit(t,n)}(r.presetActions,o,i),{mainActions:r.mainActions,extraActions:r.extraActions,presetActions:r.presetActions,previewState:r.previewState}}function g(e){if(r.isOpen("se_multilingual")){var o=t.utils.getTogglePanelFn(e);return function(){o.apply(void 0,arguments),function(o){o.language.multilingual.isEnabled()&&t.utils.isPanelOpen(o,e)&&o.panelManager.openPanel("panels.messagePanels.changeStyleMessage",{},!0)}.apply(void 0,arguments)}}return t.utils.getTogglePanelFn(e)}var f=n.pinMode.logic,h=o.ROOT_COMPS.GFPP,b=["onClick","template","onTemplatePropsChange"],y=[h.ACTIONS.PIN_MODE,h.ACTIONS.STRETCH],v={enabledActions:[h.ACTIONS.SETTINGS,h.ACTIONS.LAYOUT,h.ACTIONS.ANIMATION,h.ACTIONS.HELP].concat(y)},S={settings:{isSelected:t.utils.getPanelStateFn("settings"),tooltip:"gfpp_tooltip_settings",icon:"settings",onClick:t.utils.getTogglePanelFn("settings")},design:{isSelected:t.utils.getPanelStateFn("design"),tooltip:"gfpp_tooltip_design",icon:"design",onClick:g("design")},layout:{isSelected:t.utils.getPanelStateFn("layout"),tooltip:"gfpp_tooltip_layout",icon:"layout",onClick:g("layout")},filters:{isApplied:function(t,o){var i=t.components.properties.get(o).filterEffect;return!e.isEmpty(i)&&"none"!==i.effectType},isSelected:t.utils.getPanelStateFn("filters"),tooltip:"gfpp_tooltip_image_filters",tooltip_active:"gfpp_tooltip_applied_image_filters",icon:"filters",onClick:t.utils.getTogglePanelFn("filters",{origin:"gfpp"})},effects:{isSelected:t.utils.getPanelStateFn("effects"),tooltip:function(o,i){var n=t.columnsUtils.getColumnOrStripContainer(o,i),a=o.components.design.get(n[0]),r=e.get(a,"background"),s=e.get(r,["mediaRef","type"]);return s?"WixVideo"===s?"gfpp_tooltip_bg_filters_video_disabled":"Image"===s?"gfpp_tooltip_bg_filters":"":"gfpp_tooltip_bg_filters_color_disabled"},icon:"filters",isDisabled:function(e,o){var i=t.columnsUtils.getColumnOrStripContainer(e,o);return!t.columnsUtils.isImageFiltersSupported(e,i)},onClick:function(e,o){t.utils.getTogglePanelFn("effects",{origin:"gfpp",selectedComponent:t.columnsUtils.getColumnOrStripContainer(e,o)})(e)}},stretch:{isSelected:t.utils.getPanelStateFn("stretching"),tooltip:function(e,t){return e.components.layout.isStretchedToScreen(t)?"gfpp_tooltip_unstretch":"gfpp_tooltip_stretch"},rightClickMenuLabel:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:t.utils.getTogglePanelFn("stretching")},stretchForColumns:{isSelected:t.utils.getPanelStateFn("stretching"),tooltip:"gfpp_tooltip_unstretch",rightClickMenuLabel:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:t.utils.getTogglePanelFn("stretching")},upgrade:{isSelected:!1,tooltip:"gfpp_tooltip_upgrade",icon:"",onClick:t.utils.getTogglePanelFn("upgrade")},crop:{isApplied:t.utils.isCropApplied,isSelected:!1,isDisabled:function(e,o){return!t.utils.isCropAllowed(e,o)&&t.utils.isExternalImage(e,o)},tooltip:function(e,o){return t.utils.isCropAllowed(e,o)?"gfpp_tooltip_crop":t.utils.isExternalImage(e,o)?"gfpp_tooltip_crop_unsupported":"gfpp_tooltip_crop_gif_unsupported"},tooltip_active:"gfpp_tooltip_applied_crop",icon:"effects",className:"gfpp_button_crop",onClick:function(e,o){t.utils.isCropAllowed(e,o)&&t.utils.openImageCrop(e,o)}},aviary:{isSelected:!1,tooltip:"gfpp_tooltip_imageeffects",icon:"effects",onClick:t.utils.openAviaryPanel},animation:{isSelected:t.utils.getPanelStateFn("animation"),isDisabled:function(e,t){return p(e,t)},isApplied:t.utils.isAnimationApplied,tooltip:function(t,i){if(!p(t,i))return"gfpp_tooltip_animation";var n=e.map(i,l.bind(null,t)),a=e.every(n,function(e){return e===o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT}),r=e.every(n,function(e){return e===o.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE});return a?"gfpp_tooltip_hover_animation_disabled_linked_element_in_regular":r?"gfpp_tooltip_hover_animation_disabled_single_element_in_regular":void 0},tooltip_active:"gfpp_tooltip_applied_animation",icon:"animation",onClick:function(o,i,n,a){var r=e.merge(c(o,i),a);t.utils.getTogglePanelFn("animation",r)(o,i,"gfpp",r)}},link:{isSelected:t.utils.getPanelStateFn("link"),isApplied:t.utils.getDataDefinedFn("link"),isDisabled:function(e,t){return p(e,t)},tooltip:"gfpp_tooltip_linkto",tooltip_active:"gfpp_tooltip_applied_linkto",icon:"link",onClick:t.utils.openLinkPanel},hide:{isSelected:!1,tooltip:"gfpp_tooltip_mobile_hide",icon:"gfpp_hide",onClick:function(e){e.selectedComponent.remove().then(function(t){t&&(e.mobile.hideHiddenItemsCounter(),e.history.add("component - remove"))})}},help:{tooltip:"gfpp_tooltip_help",icon:"gfpp_help",mobileHelpId:"b6d9a270-f9c5-4837-995b-c3818b13a643"},pinMode:{isApplied:!0,isSelected:t.utils.getPanelStateFn("panels.pinnedDockPanel"),tooltip:"gfpp_tooltip_pin_to_screen",tooltip_active:"gfpp_tooltip_applied_pin_to_screen",icon:"gfpp_pin",className:"gfpp-pin",onClick:function(e){e.store.dispatch(f.open("gfpp"))}},preview:{tooltip:"gfpp_tooltip_preview",icon:"gfpp_preview",onClick:function(e){e.preview.togglePreview()}}},P={},E={},C={isSelected:t.utils.getPanelStateFn("customizeDesign"),tooltip:"gfpp_tooltip_customize",icon:"gfpp_customize_design_drop",onClick:t.utils.getTogglePanelFn("customizeDesign")};return E.customizeDesign=C,r.isOpen("fastStyling")&&(S.customizeDesign=C),S.applyToOtherView={isSelected:t.utils.getPanelStateFn("apply"),tooltip:function(e){var t=e.focusBox.getFocusedContainer();return e.components.modes.isCompDefaultModeActive(t)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"},icon:"gfpp_applyTo",onClick:t.utils.getTogglePanelFn("apply")},{getData:m,registerGfppActions:function(t){e.merge(P,t)},getComponentMainActionClick:function(t,o){var i=m(t,e.isArray(o)?o:[o]),n=t.isMobileEditor()?i.mobileMainActions:i.mainActions;e.isFunction(n)&&(n=n(t,o));var a=e.head(n);return a&&a.onClick}}}),define("rEditor/rootComps/rightClickMenu/util/rcmDataParser",["lodash","constants","rEditor/rootComps/gfpp/gfppModel","experiment"],function(e,t,o,i){"use strict";function n(e,t){return d.components.is.duplicatable(e,t)&&!d.components.layout.isPinned(e)}function a(e){if(e)return null;return{enabled:!!d.clipboard.getItem(d.clipboard.types.COMPONENT)}}function r(t){if(d.components.is.controlledByParent(t))return null;var o=d.getCompMoveRestrictions(t),i=o.canMoveBackward||o.canMoveForward,n=d.components.is.fixed(t)&&e.includes(u,d.components.getType(t));return!i||n?null:{type:"subItems",enabled:!0,subItems:function(e){var t=d.getCompMoveRestrictions(e);return{moveToFront:{icon:{svgName:"bringToFront"},enabled:t.canMoveForward},moveToBack:{icon:{svgName:"sendToBack"},enabled:t.canMoveBackward},moveForward:{icon:{svgName:"moveForward"},enabled:t.canMoveForward},moveBackward:{icon:{svgName:"moveBackward"},enabled:t.canMoveBackward}}}(t)}}function s(t,o){var i=function(t){return e(t).reject(function(t){return e.includes(["SITE_PAGES","PAGES_CONTAINER"],t.id)||d.utils.isPage(t)}).map(function(e){return{component:e,key:"overlappingSubItem_"+e.id,icon:d.components.getIconInfo(e),label:d.components.getDisplayName(e),enabled:!0}}).value()}(o);return i.length>1||1===i.length&&d.utils.isPage(t)?{type:"subItems",shouldShowCount:!0,enabled:!0,subItems:i}:null}function l(e){var t=d.components.is.fixed(e),o=d.documentServices.tpa.isTpaByCompType(d.components.getType(e))&&t;return d.components.canToggleShowOnAllPages(e)||o?{value:o||d.components.isShowOnAllPages(e),enabled:!o,operationKey:"SHOW_ON_ALL_PAGES"}:null}function c(e){return d.components.is.showLegacyFixedPosition(e)&&d.components.layout.canBeFixedPosition(e)?{value:d.components.is.fixed(e),enabled:!0}:null}function p(p,u,m){return p?{undo:{enabled:!0},copy:function(e){return n(e)?{enabled:!0}:null}(p),paste:a(m),applyModeFromClipboard:function(e){return!e&&d.copyPaste.canApplyModeFromClipboard()?{enabled:!0}:null}(m),cut:function(e){return n(e)?{enabled:!0}:null}(p),duplicate:function(e){return n(e,d.components.getContainer(e))?{enabled:!0}:null}(p),copyDesign:function(e){return d.hasExternalDesign(e)?null:{enabled:!0}}(p),pasteDesign:function(e){return d.hasExternalDesign(e)?null:{enabled:!!d.clipboard.getItem(d.clipboard.types.COMPONENT_DESIGN)}}(p),arrange:r(p),overlappingItems:s(p,u),remove:function(e){var t=void 0,o=void 0;return i.isOpen("us_groupRightClick")?(t=d.documentServices.tpa.isTpaByCompType(d.components.getType(e)),(o=t||d.components.is.removable(e))?{enabled:o,operationKey:"DELETE"}:null):(t=d.documentServices.tpa.isTpaByCompType(d.components.getType(e)),o=d.components.is.removable(e),t||o?{enabled:o,operationKey:"DELETE"}:null)}(p),showOnAllPages:l(p),fixedPosition:c(p),gfppItems:function(i){var n=o.getData(d,i),a=t.ROOT_COMPS.GFPP.ACTIONS,r=[a.SETTINGS,a.DESIGN,a.CUSTOMIZE_DESIGN,a.LAYOUT,a.UPGRADE,a.CROP,a.FILTERS,a.ANIMATION,a.LINK,a.CONNECT,a.STRETCH,a.STRETCH_FOR_COLUMNS],s=(n.mainActions||[]).concat(e(n.presetActions).pick(r).toArray().value());return e.transform(s,function(t,o){o.onClick&&t.push({shouldTranslate:!e.isBoolean(o.shouldTranslate)||o.shouldTranslate,item:{enabled:!o.isDisabled,label:o.rightClickMenuLabel||o.label||o.tooltip},onClick:function(){o.onClick(d,i),d.closeRightClickMenu()}})},[])}(p),styleCanBeApplied:function(e){return d.components.is.styleCanBeApplied(e)?{enabled:!0}:null}(p),pin:function(e,t){if(t||!d.components.is.pinnable(e))return null;var o=d.components.is.fixed(e);return{value:o,label:o?"RightClick_Menu_Unpin":"RightClick_Menu_PinToScreen",enabled:!0}}(p,m),layoutTractor:i.isOpen("layoutTractor")?{enabled:!0}:null,applyToAllModes:function(t){if(t)return null;var o=d.focusBox.getFocusedContainer();if(!o)return null;var i=d.components.modes.getModes(o);return!i||e.isEmpty(i)?null:{enabled:!0,label:d.components.modes.isCompDefaultModeActive(o)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"}}(m),saveToTheme:function(t){if(i.isOpen("themeStyle")){var o=d.components.getType(t),n=d.components.COMPONENT_DEFINITION_MAP[o],a=n&&n.styles&&e.keys(n.styles);if(a)return{enabled:!0,styleIds:a}}return null}(p)}:{paste:a(m),undo:{enabled:!0}}}var d=void 0,u=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"];return{buildMenuItems:function(e,t,o){return d=e,p(o,t,d.isMobileEditor())},buildShowOnAllPagesItem:function(e,t){return d=e,l(t)},buildFixedPositionItem:function(e,t){return d=e,c(t)},buildArrangeMenu:function(e,t){return d=t,r(e)}}}),define("rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer",["core"],function(e){"use strict";var t=[{label:function(e,t){return 1===e.components.getChildren(t).length?"STRIP_CONTAINER_LAYOUTS_ADD_COLUMNS":"STRIP_CONTAINER_LAYOUTS_ADD_EXTRA_COLUMNS"},enabled:function(e,t){return e.columns.canAdd(t)},onClick:function(t,o){var i={num_of_columns_before:t.components.getChildren(o).length,origin:"rcm"};t.columns.addColumn(o),t.bi.event(e.bi.events.columns.COLUMNS_ADD_COLUMN_CLICK,i),t.closeRightClickMenu()}}];return function(e){return e.isMobileEditor()?[]:t}}),define("rEditor/rootComps/rightClickMenu/customActions/column",["core"],function(e){"use strict";function t(e,t){return function(o){return o.isMobileEditor()?t:e}}function o(t){var o=t.isDesktopEditor()?e.bi.events.columns.COLUMNS_MOVE_LEFT_RIGHT:e.bi.events.columns.COLUMNS_MOVE_UP_DOWN;t.bi.event(o,{origin:"rcm"})}return[{label:t("RightClick_Menu_Move_Column_Left_Label","RightClick_Menu_Mobile_Move_Column_Up_Label"),enabled:function(e,t){return e.components.arrangement.canMoveBackward(t)},onClick:function(e,t){e.columns.move.left(t),o(e),e.closeRightClickMenu()}},{label:t("RightClick_Menu_Move_Column_Right_Label","RightClick_Menu_Mobile_Move_Column_Down_Label"),enabled:function(e,t){return e.components.arrangement.canMoveForward(t)},onClick:function(e,t){e.columns.move.right(t),o(e),e.closeRightClickMenu()}}]}),define("rEditor/rootComps/rightClickMenu/customActions",["rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer","rEditor/rootComps/rightClickMenu/customActions/column"],function(e,t){"use strict";return{"wysiwyg.viewer.components.StripColumnsContainer":e,"wysiwyg.viewer.components.Column":t}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return function(){var i=this.isEnabled();return e.createElement("li",{className:t({"item-basic":!0,disabled:!i,hoverable:i}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:i?this.props.onClick:function(){},onContextMenu:i?this.props.onClick:function(){},onMouseEnter:this.props.onMouseEnter||t.noop,onMouseLeave:this.props.onMouseLeave||t.noop},this.props.item.icon?e.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?e.createElement(o.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null,this.props.item.icon.css?e.createElement("span",{style:this.getImageIconStyle(),key:"style"}):null):null,e.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label||this.props.item.label)))}.apply(this,[])}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic",["create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt"],function(e,t,o,i){"use strict";return e({displayName:"rcmItemBasic",mixins:[o.translationMixin],getImageIconStyle:function(){return t.merge({},this.props.item.icon.css,{backgroundImage:"url("+this.props.item.icon.src+")"})},isEnabled:function(){return t.isFunction(this.props.enabled)?this.props.enabled():this.props.item.enabled},render:i})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.getTooltipText(),alignment:"right",disabled:!this.getTooltipText()},e.createElement("li",{className:t({"item-shortcut":!0,disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.props.item.enabled?this.props.onClick:function(){},onContextMenu:this.props.item.enabled?this.props.onClick:function(){}},this.props.item.icon?e.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?e.createElement(o.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null):null,e.createElement("span",{className:"label label-shortcut"},this.translateIfNeeded(this.props.label)),e.createElement("span",{className:"action action-shortcut"},this.props.shortcut)))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut",["create-react-class","core","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"rcmItemWithShortcut",mixins:[i.translationMixin,t.mixins.editorAPIMixin],getTooltipText:function(){return this.getEditorAPI().tooltipTextService.getSelectedComponentTooltipText(this.props.item.operationKey)},render:n})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(e,t,o){"use strict";return function(){return e.createElement("li",{className:t({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("span",{className:"label label-sub-item"},e.createElement("span",{"data-hint-id":this.props.hintId},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?e.createElement("span",{key:"count"}," ("+e.Children.count(this.props.children)+")"):null),e.createElement("span",{className:"action action-expand"}),e.createElement("div",{className:"rightClickMenu subMenu"},e.createElement("ul",{},this.props.children)))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems",["create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt"],function(e,t,o,i){"use strict";return e({displayName:"rcmItemWithSubItems",mixins:[o.translationMixin],render:i})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(e,t,o){"use strict";return function(){return e.createElement("li",{className:t({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.props.onClick},e.createElement("span",{className:"label label-sub-item"},e.createElement("span",{},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?e.createElement("span",{key:"count"}," ("+e.Children.count(this.props.children)+")"):null),e.createElement("span",{className:t({action:!0,"action-expand":this.props.items.length>0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}),e.createElement("div",{className:"rightClickMenu subMenu"},e.createElement("ul",{},this.getChildren())))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive",["react","create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt"],function(e,t,o,i,n){"use strict";var a=t({displayName:"rcmItemWithSubItemsRecursive",mixins:[i.translationMixin],getChildren:function(){return o.map(this.props.items,function(t){return e.createElement(a,t)})},render:n});return a}),define("rEditor/rootComps/rightClickMenu/rightClickMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","baseUILib","experiment"],function(e,t,o,i,n,a,r,s,l,c,p,d){"use strict";return function(){function l(){var l=this.state.menuItems,c=this.getEditorAPI(),u=r.editor,m=this.getCustomActions(),g=t.head(this.props.selectedComponents);return e.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},this.props.selectedComponents?null:e.createElement("ul",{key:"noCompSelectedItems"},l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null),this.props.selectedComponents?e.createElement("div",{key:"selectedCompItems"},l.applyToAllModes||l.applyModeFromClipboard?e.createElement("ul",{key:"rcmApplyGroup"},l.applyToAllModes?e.createElement(o,{item:l.applyToAllModes,key:"rcmApplyToAllModes",label:l.applyToAllModes.label,onClick:this.applyToAllModes}):null,l.applyModeFromClipboard?e.createElement(i,{item:l.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:u.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,t.isEmpty(l.gfppItems)?null:e.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},t.map(l.gfppItems,function(t,i,n,a,r,s,l){return e.createElement(o,{shouldTranslate:s.shouldTranslate,item:s.item,label:s.item.label,key:s.item.label,onClick:s.onClick})}.bind(this,l,c,u,m,g))]),m.length?e.createElement.apply(this,["ul",{key:"customActions"},t.map(m,function(i,n,a,r,s,l,c){return e.createElement(o,{key:"customAction_"+c,item:l,label:t.isFunction(l.label)?l.label(n,s):l.label,onClick:l.onClick.bind(null,n,s),enabled:t.isFunction(l.enabled)&&l.enabled.bind(null,n,s)})}.bind(this,l,c,u,m,g))]):null,e.createElement.apply(this,["ul",{},e.createElement(i,{item:l.undo,label:"TOPBAR_Edit_Undo",shortcut:u.UNDO.label,onClick:this.undo}),l.cut?e.createElement(i,{item:l.cut,label:"RightClick_Menu_Cut_Label",shortcut:u.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,l.copy?e.createElement(i,{item:l.copy,label:"RightClick_Menu_Copy_Label",shortcut:u.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,l.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,i,n,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,i,n,a,r){this.openApplyToDialog(a)}.bind(this,t,i,n,a,r,s,l)})}.bind(this,l,c,u,m,g)):null,l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,l.duplicate?e.createElement(i,{item:l.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:u.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),l.arrange||l.overlappingItems?e.createElement("ul",{key:"rcmArrangeOverlapping"},l.overlappingItems?e.createElement.apply(this,[n,{ref:"overlappingItems",label:"RightClick_Menu_Overlapping_Items_Label",item:l.overlappingItems,key:"rcmOverlapping"},t.map(l.overlappingItems.subItems,function(t,i,n,a,r,s,l){return e.createElement(o,{item:s,label:s.label,key:s.key,onClick:this.onOverlappingItemClick.bind(this,s),shouldTranslate:!1,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,s),onMouseLeave:this.onOverlappingItemMouseLeave})}.bind(this,l,c,u,m,g))]):null,l.arrange?e.createElement(n,{item:l.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",onMouseOver:this.onArrangeHover},e.createElement(i,{item:l.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:u.SEND_TO_FRONT.label,onClick:this.moveToFront}),e.createElement(i,{item:l.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:u.SEND_TO_BACK.label,onClick:this.moveToBack}),e.createElement(i,{item:l.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:u.SEND_FORWARD.label,onClick:this.moveForward}),e.createElement(i,{item:l.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:u.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,l.remove?e.createElement("ul",{key:"rcmRemove"},e.createElement(i,{item:l.remove,label:this.shouldPresentHideOverDelete()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,l.pin?e.createElement("ul",{key:"rcmPin"},l.pin?e.createElement(i,{item:l.pin,label:l.pin.label,value:l.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,l.layoutTractor?e.createElement("ul",{key:"layoutTractor"},e.createElement(i,{item:l.layoutTractor,shouldTranslate:!1,label:"Layout Tractor (UI)",onClick:this.openLayoutTractor})):null,l.saveToTheme&&1===this.props.selectedComponents.length?e.createElement("ul",{key:"themeStylesExperiment"},e.createElement.apply(this,[n,{item:{enabled:!0},label:"Save to theme",shouldTranslate:!1,key:"saveToTheme"},t.map(l.saveToTheme.styleIds,function(t,i,n,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:{label:s,enabled:!0},key:this.props.selectedComponents[0]+"_themeStyle_"+s,onClick:function(e,t,o,i,n,a,r){this.saveStyleToTheme(this.props.selectedComponents[0],a)}.bind(this,t,i,n,a,r,s,l)})}.bind(this,l,c,u,m,g))])):null,l.showOnAllPages||l.fixedPosition?e.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},l.showOnAllPages?e.createElement("li",{key:"rcmShowOnAllPages"},e.createElement(s,{className:"secondary-color",origin:"rightClickMenu",selectedComponents:this.props.selectedComponents,selectedComponentsTypes:this.getSelectedComponentsTypes(),isComponentShowOnAllPages:this.props.selectedComponents&&c.components.isShowOnAllPages(this.props.selectedComponents),disabled:this.isShowOnAllPagesToggleDisabled(),isPage:c.utils.isPage(this.props.selectedComponents),componentsRestrictions:this.getSelectedCompsRestrictions(),toggleShowOnAllPages:t.partial(c.components.toggleShowOnAllPages,this.props.selectedComponents),reportBI:c.bi.event,labelType:"T17",widthByTextLength:!0,label:"toolbar_show_on_all_pages"})):null,l.fixedPosition?e.createElement("li",{key:"rcmFixedPosition",className:t({disabled:!l.fixedPosition.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(p.ToggleSwitch,{value:l.fixedPosition.value,label:"RightClick_Menu_Fixed_Position_Label",onChange:this.toggleFixedPosition,disabled:!l.fixedPosition.enabled,className:this.props.className+" secondary-color",size:"MEDIUM",labelType:"T17",widthByTextLength:!0})):null):null,d.isOpen("rightClickDebug")?e.createElement("ul",{key:"debug"},e.createElement.apply(this,[n,{item:{enabled:!0},label:"Debug",shouldTranslate:!1,key:"debug"},t.map(this.props.selectedComponents,function(t,o,i,n,r,s,l){return e.createElement(a,{shouldTranslate:!1,key:s.id,label:o.components.getDisplayName(s)+" - "+s.id,item:{enabled:!0},items:this.getDebugItems(s)})}.bind(this,l,c,u,m,g)),t.map(this.props.selectedComponents,function(t,i,n,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:this.getExportDebugInfoItem(s),key:s.id+".debugInfo",onClick:function(e,t,o,i,n,a,r){this.exportDebugInfo(a)}.bind(this,t,i,n,a,r,s,l)})}.bind(this,l,c,u,m,g)),this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect controller",enabled:!0},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Select connected components",enabled:!0},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect connections to controllers",enabled:!0},key:"connectionInspector",onClick:this.connectionsInspector}):null,e.createElement(o,{shouldTranslate:!1,item:{label:"Add controller",enabled:!0},key:"add-controller",onClick:this.openAddController}),e.createElement(o,{shouldTranslate:!1,item:{label:"Component Finder",enabled:!0},key:"component-finder",onClick:this.componentInspectorFinder})])):null,c.developerMode.isEnabled()?e.createElement("ul",{key:"rcmDevMode"},e.createElement(o,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:!0},onClick:this.openPropertiesPanel})):null):null)}return this.state.menuItems?l.apply(this,[]):null}}),define("rEditor/rootComps/rightClickMenu/rightClickMenuUsGroupRightClick.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","baseUILib","experiment"],function(e,t,o,i,n,a,r,s,l,c,p,d){"use strict";return function(){function l(){var l=this.state.menuItems,c=this.getEditorAPI(),u=r.editor,m=this.getCustomActions(),g=t.head(this.props.selectedComponents);return e.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},this.props.selectedComponents?null:e.createElement("ul",{key:"noCompSelectedItems"},l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null),this.props.selectedComponents?e.createElement("div",{key:"selectedCompItems"},l.applyToAllModes||l.applyModeFromClipboard?e.createElement("ul",{key:"rcmApplyGroup"},l.applyToAllModes?e.createElement(o,{item:l.applyToAllModes,key:"rcmApplyToAllModes",label:l.applyToAllModes.label,onClick:this.applyToAllModes}):null,l.applyModeFromClipboard?e.createElement(i,{item:l.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:u.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,t.isEmpty(l.gfppItems)?null:e.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},t.map(l.gfppItems,function(t,i,n,a,r,s,l){return e.createElement(o,{shouldTranslate:s.shouldTranslate,item:s.item,label:s.item.label,key:s.item.label,onClick:s.onClick})}.bind(this,l,c,u,m,g))]),m.length?e.createElement.apply(this,["ul",{key:"customActions"},t.map(m,function(i,n,a,r,s,l,c){return e.createElement(o,{key:"customAction_"+c,item:l,label:t.isFunction(l.label)?l.label(n,s):l.label,onClick:l.onClick.bind(null,n,s),enabled:t.isFunction(l.enabled)&&l.enabled.bind(null,n,s)})}.bind(this,l,c,u,m,g))]):null,l.arrange||l.overlappingItems?e.createElement("ul",{key:"rcmArrangeOverlapping"},e.createElement(i,{item:l.undo,label:"TOPBAR_Edit_Undo",shortcut:u.UNDO.label,onClick:this.undo}),l.overlappingItems?e.createElement.apply(this,[n,{ref:"overlappingItems",label:"Select",shouldTranslate:!1,item:l.overlappingItems,key:"rcmOverlapping"},t.map(l.overlappingItems.subItems,function(t,i,n,a,r,s,l){return e.createElement(o,{item:s,label:s.label,key:s.key,onClick:this.onOverlappingItemClick.bind(this,s),shouldTranslate:!1,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,s),onMouseLeave:this.onOverlappingItemMouseLeave})}.bind(this,l,c,u,m,g))]):null,e.createElement.apply(this,[n,{ref:"editItems",label:"Copy/Paste",shouldTranslate:!1,item:this.getEditItems(),key:"editItems"},l.cut?e.createElement(i,{item:l.cut,label:"RightClick_Menu_Cut_Label",shortcut:u.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,l.copy?e.createElement(i,{item:l.copy,label:"RightClick_Menu_Copy_Label",shortcut:u.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,l.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,i,n,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,i,n,a,r){this.openApplyToDialog(a)}.bind(this,t,i,n,a,r,s,l)})}.bind(this,l,c,u,m,g)):null,l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,l.duplicate?e.createElement(i,{item:l.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:u.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),l.arrange?e.createElement(n,{item:l.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",onMouseOver:this.onArrangeHover},e.createElement(i,{item:l.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:u.SEND_TO_FRONT.label,onClick:this.moveToFront}),e.createElement(i,{item:l.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:u.SEND_TO_BACK.label,onClick:this.moveToBack}),e.createElement(i,{item:l.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:u.SEND_FORWARD.label,onClick:this.moveForward}),e.createElement(i,{item:l.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:u.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,l.arrange||l.overlappingItems?null:e.createElement("ul",{key:"rcmArrangeOverlapping"},e.createElement(i,{item:l.undo,label:"TOPBAR_Edit_Undo",shortcut:u.UNDO.label,onClick:this.undo}),e.createElement.apply(this,[n,{ref:"editItems",label:"Copy/Paste",shouldTranslate:!1,item:this.getEditItems(),key:"editItems"},l.cut?e.createElement(i,{item:l.cut,label:"RightClick_Menu_Cut_Label",shortcut:u.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,l.copy?e.createElement(i,{item:l.copy,label:"RightClick_Menu_Copy_Label",shortcut:u.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,l.styleCanBeApplied?t.map(this.props.selectedComponents,function(t,i,n,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:function(e,t,o,i,n,a,r){this.openApplyToDialog(a)}.bind(this,t,i,n,a,r,s,l)})}.bind(this,l,c,u,m,g)):null,l.paste?e.createElement(i,{item:l.paste,label:"RightClick_Menu_Paste_Label",shortcut:u.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,l.duplicate?e.createElement(i,{item:l.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:u.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null])),l.remove?e.createElement("ul",{key:"rcmRemove"},e.createElement(i,{item:l.remove,label:c.isMobileEditor()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,this.isPageSelected()?e.createElement("ul",{key:"rcmRemovePage"},e.createElement(i,{item:{enabled:!0},label:"Delete Page",shouldTranslate:!1,onClick:this.deletePage})):null,l.pin?e.createElement("ul",{key:"rcmPin"},l.pin?e.createElement(i,{item:l.pin,label:"RightClick_Menu_PinToScreen",value:l.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,l.layoutTractor?e.createElement("ul",{key:"layoutTractor"},e.createElement(i,{item:l.layoutTractor,shouldTranslate:!1,label:"Layout Tractor (UI)",onClick:this.openLayoutTractor})):null,l.saveToTheme&&1===this.props.selectedComponents.length?e.createElement("ul",{key:"themeStylesExperiment"},e.createElement.apply(this,[n,{item:{enabled:!0},label:"Save to theme",shouldTranslate:!1,key:"saveToTheme"},t.map(l.saveToTheme.styleIds,function(t,i,n,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:{label:s,enabled:!0},key:this.props.selectedComponents[0]+"_themeStyle_"+s,onClick:function(e,t,o,i,n,a,r){this.saveStyleToTheme(this.props.selectedComponents[0],a)}.bind(this,t,i,n,a,r,s,l)})}.bind(this,l,c,u,m,g))])):null,l.showOnAllPages||l.fixedPosition?e.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},l.showOnAllPages?e.createElement("li",{key:"rcmShowOnAllPages"},e.createElement(s,{className:"secondary-color",origin:"rightClickMenu",selectedComponents:this.props.selectedComponents,isComponentShowOnAllPages:this.props.selectedComponents&&c.components.isShowOnAllPages(this.props.selectedComponents),disabled:this.isShowOnAllPagesToggleDisabled(),isPage:c.utils.isPage(this.props.selectedComponents),componentsRestrictions:this.getSelectedCompsRestrictions(),toggleShowOnAllPages:t.partial(c.components.toggleShowOnAllPages,this.props.selectedComponents),reportBI:c.bi.event,labelType:"T17",widthByTextLength:!0,label:"toolbar_show_on_all_pages"})):null,l.fixedPosition?e.createElement("li",{key:"rcmFixedPosition",className:t({disabled:!l.fixedPosition.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(p.ToggleSwitch,{value:l.fixedPosition.value,label:"RightClick_Menu_Fixed_Position_Label",onChange:this.toggleFixedPosition,disabled:!l.fixedPosition.enabled,className:this.props.className+" secondary-color",size:"MEDIUM",labelType:"T17",widthByTextLength:!0})):null):null,d.isOpen("rightClickDebug")?e.createElement("ul",{key:"debug"},e.createElement.apply(this,[n,{item:{enabled:!0},label:"Debug",shouldTranslate:!1,key:"debug"},t.map(this.props.selectedComponents,function(t,o,i,n,r,s,l){return e.createElement(a,{shouldTranslate:!1,key:s.id,label:o.components.getDisplayName(s)+" - "+s.id,item:{enabled:!0},items:this.getDebugItems(s)})}.bind(this,l,c,u,m,g)),t.map(this.props.selectedComponents,function(t,i,n,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:this.getExportDebugInfoItem(s),key:s.id+".debugInfo",onClick:function(e,t,o,i,n,a,r){this.exportDebugInfo(a)}.bind(this,t,i,n,a,r,s,l)})}.bind(this,l,c,u,m,g)),this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect controller",enabled:!0},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Select connected components",enabled:!0},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect connections to controllers",enabled:!0},key:"connectionInspector",onClick:this.connectionsInspector}):null,e.createElement(o,{shouldTranslate:!1,item:{label:"Add controller",enabled:!0},key:"add-controller",onClick:this.openAddController}),e.createElement(o,{shouldTranslate:!1,item:{label:"Component Finder",enabled:!0},key:"component-finder",onClick:this.componentInspectorFinder})])):null,c.developerMode.isEnabled()?e.createElement("ul",{key:"rcmDevMode"},e.createElement(o,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:!0},onClick:this.openPropertiesPanel})):null):null)}return this.state.menuItems?l.apply(this,[]):null}}),define("rEditor/rootComps/rightClickMenu/rightClickMenu",["create-react-class","prop-types","lodash","jquery","core","stateManagement","rEditor/rootComps/rightClickMenu/util/rcmDataParser","rEditor/rootComps/rightClickMenu/customActions","util","experiment","rEditor/rootComps/rightClickMenu/rightClickMenu.rt","rEditor/rootComps/rightClickMenu/rightClickMenuUsGroupRightClick.rt","coreUtilsLib"],function(e,t,o,i,n,a,r,s,l,c,p,d,u){"use strict";function m(e,t){return o.some(t,function(t){return o.isEqual(t,e)})}function g(e,t,i){return o.map(o.keys(t),function(n){var a=t[n],r=i.concat(n);return{key:n,label:n,onClick:function(t){u.log.info(e,r.join("."),a),t.stopPropagation()},items:o.isString(a)||o.isNumber(a)?[]:g(e,a,r),item:{enabled:!0}}})}function f(e,t){var o=n.utils.stageUtils.getViewPort();return{x:function(e,t,o){var i=o,n=t.outerWidth();if(i+n-window.pageXOffset>e.rightX){var a=i-n;return a<e.x?i+e.x:a}return i}(o,e,t.x),y:function(e,t,o){var i=o,n=t.outerHeight();if(i+n>e.bottomY){var a=i-n;return a<e.y?e.y:a}return i}(o,e,t.y)}}function h(e){var t=this.state.menuItems;t.arrange=r.buildArrangeMenu(e,this.getEditorAPI()),this.setState({menuItems:t})}function b(e,t,i){o.set(i,e,t)}var y=a.pinMode.logic,v=void 0,S=n.bi;return e({displayName:"rightClickMenu",mixins:[n.mixins.editorAPIMixin,l.outerClickMixin,l.translationMixin],compType:null,propTypes:{selectedComponents:t.array,editorMousePosition:t.object.isRequired,viewerMousePosition:t.object.isRequired,setHoverBox:t.func.isRequired,clearHoverBox:t.func.isRequired},onOuterClick:function(){v.closeRightClickMenu()},getInitialState:function(){return v=this.getEditorAPI(),this.shouldMeasureRCMRelativeToViewPort=!0,{position:this.props.editorMousePosition,openSubMenuToLeft:!1,menuItems:this.getAllMenuItems(this.props.selectedComponents,this.props.viewerMousePosition)}},componentDidMount:function(){this.compType=v.components.getType(this.props.selectedComponents),v.bi.event(S.events.rightClickMenu.RIGHT_CLICK_MENU_OPEN,{component:this.compType}),this.updatePositionRelativeToViewPort()},getAllMenuItems:function(e,t){var i=function(e,t){var i=v.selection.getComponentsByXY(e,t);return o.filter(i,v.components.is.selectable)}(t.x,t.y);return r.buildMenuItems(v,i,e)},rebuildItemsForSameComponent:function(e){var t=o.pickBy({showOnAllPages:r.buildShowOnAllPagesItem(v,e),fixedPosition:r.buildFixedPositionItem(v,e)},o.bind(function(e,t){return!o.isEqual(e,this.state.menuItems[t])},this));if(!o.isEmpty(t)){var i=o.assign({},this.state.menuItems,t);this.setState({menuItems:i})}},componentWillReceiveProps:function(e){if(e.selectedComponents){o.isEqual(e.selectedComponents,this.props.selectedComponents)?this.rebuildItemsForSameComponent(e.selectedComponents):(this.shouldMeasureRCMRelativeToViewPort=!0,this.setState({menuItems:this.getAllMenuItems(e.selectedComponents,e.viewerMousePosition)}))}},componentDidUpdate:function(){this.shouldMeasureRCMRelativeToViewPort&&this.updatePositionRelativeToViewPort()},componentWillUnmount:function(){v.bi.event(S.events.rightClickMenu.RIGHT_CLICK_MENU_CLOSE,{origin:"rcm",component:this.compType})},getSelectedCompsRestrictions:function(){var e=v.store.getState();return a.selection.selectors.getSelectedCompRestrictions(e)},updatePositionRelativeToViewPort:function(){var e=i(this.refs.rcmRoot),t=f(e,this.state.position),a=function(e,t){var a=n.utils.stageUtils.getViewPort(),r=e.find(".subMenu");if(0===r.length)return!1;var s=i(o.maxBy(r,function(e){return i(e).outerWidth()}));return t.x+e.outerWidth()+s.outerWidth()>a.rightX}(e,this.state.position);this.shouldMeasureRCMRelativeToViewPort=!1,this.setState({position:t,openSubMenuToLeft:a})},onOverlappingItemMouseEnter:function(e){v.bi.event(S.events.rightClickMenu.OVERLAPPING_ITEMS_HOVER,{component:m(e.component,this.props.selectedComponents)?"selected":"other"}),this.props.setHoverBox(e.component)},onOverlappingItemMouseLeave:function(){this.props.clearHoverBox()},getClasses:function(){return{rightClickMenu:!0,"open-sub-menu-left":this.state.openSubMenuToLeft,"fixed-position":this.getEditorAPI().components.layout.isShowOnFixedPosition(this.props.selectedComponents)}},onRightClick:function(e){e.preventDefault()},undo:function(){this.getEditorAPI().history.undo(),v.closeRightClickMenu()},cutComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm")),v.bi.reportBI(S.events.rightClickMenu.CUT,e),v.closeRightClickMenu(function(){v.selectedComponent.cut(),v.history.add("cut component via rightClickMenu")})},copyComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm")),v.selectedComponent.copy(),v.closeRightClickMenu(),v.bi.reportBI(S.events.rightClickMenu.COPY,e)},pasteComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm"));var t=void 0;if(c.isOpen("se_pasteBehaviorFix"))t={x:this.props.editorMousePosition.x,y:this.props.editorMousePosition.y},v.copyPaste.paste(t,!1);else{var i=v.ui.scroll.getScroll();t={x:this.props.editorMousePosition.x-v.site.getXPos()+i.scrollLeft,y:this.props.editorMousePosition.y-v.components.layout.get(v.documentServices.siteSegments.getPagesContainer()).y+i.scrollTop},v.copyPaste.paste(t,!0)}v.closeRightClickMenu(),v.history.add("paste component via rightClickMenu"),v.bi.reportBI(S.events.rightClickMenu.PASTE,e)},applyModeFromClipboard:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm")),v.copyPaste.applyModeFromClipboard(v.selection.getSelectedComponents()),v.closeRightClickMenu(),v.bi.reportBI(S.events.rightClickMenu.APPLY_MODE_FROM_CLIPBOARD,e)},duplicateComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);o.forEach(e,o.partial(b,"origin","rcm")),v.selectedComponent.duplicate(),v.closeRightClickMenu(),"Column"!==v.selection.getSelectedComponentType()&&v.history.add("duplicate component via rightClickMenu"),v.bi.reportBI(S.events.rightClickMenu.DUPLICATE,e)},removeComponent:function(){var e=v.bi.getComponentsBIParams(this.props.selectedComponents);return o.forEach(e,o.partial(b,"removal_method","rcm")),v.bi.reportBI(S.events.editor.component_removed,e),new Promise(function(e){v.closeRightClickMenu(function(){v.selectedComponent.remove().then(function(t){t&&(v.history.add("removed component via rightClickMenu"),e())})})})},toggleShowOnAllPages:function(){v.components.toggleShowOnAllPages(this.props.selectedComponents),v.documentServices.waitForChangesApplied(function(){var e=v.components.isShowOnAllPages(this.props.selectedComponents);v.bi.event(S.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:e,origin:"rcm"})}.bind(this))},toggleFixedPosition:function(){v.selectedComponent.toggleFixedPosition(),v.documentServices.waitForChangesApplied(function(){var e=v.components.is.fixed(this.props.selectedComponents),t=v.components.getType(this.props.selectedComponents[0]);v.bi.event(S.events.rightClickMenu.FIXED_POSITION,{origin:"rcm",new_status:e,component:t})}.bind(this))},handlePinClick:function(){v.closeRightClickMenu();var e=v.components.layout.isPinned(this.props.selectedComponents);v.store.dispatch(y.open(e?"rcm_reopen":"rcm"))},moveForward:function(){v.components.arrangement.moveForward(this.props.selectedComponents),h.call(this,this.props.selectedComponents),v.bi.event(S.events.rightClickMenu.MOVE_FORWARD,{origin:"rcm"})},moveBackward:function(){v.components.arrangement.moveBackward(this.props.selectedComponents),h.call(this,this.props.selectedComponents),v.bi.event(S.events.rightClickMenu.MOVE_BACKWARDS,{origin:"rcm"})},moveToFront:function(){v.components.arrangement.moveToFront(this.props.selectedComponents),h.call(this,this.props.selectedComponents),v.bi.event(S.events.rightClickMenu.BRING_TO_FRONT,{origin:"rcm"})},moveToBack:function(){v.components.arrangement.moveToBack(this.props.selectedComponents),h.call(this,this.props.selectedComponents),v.history.add("component - move to back"),v.bi.event(S.events.rightClickMenu.SEND_TO_BACK,{origin:"rcm"})},onArrangeHover:function(){v.bi.event(S.events.rightClickMenu.ARRANGE_HOVER,{origin:"rcm"})},onOverlappingItemClick:function(e){v.selection.selectComponentByCompRef(e.component),v.selection.setIsHiddenComponentDraggedNext(!0),v.bi.event(S.events.rightClickMenu.OVERLAPPING_ITEM_CLICK,{component:m(e.component,this.props.selectedComponents)?"selected":"other"})},componentInspectorFinder:function(){v.panelManager.openComponentPanel("debugTools.componentInspector.finderPanel",{comp:this.props.selectedComponents[0]}),v.closeRightClickMenu()},getDebugItems:function(e){var t=v.components.serialize(e);return g(e.id,t,["structure"])},getExportDebugInfoItem:function(e){return{label:"Export ["+e.id+"] to console",enabled:!0}},exportDebugInfo:function(e){var t=v.components.serialize(e,null,!1,!0);window.selectedComp=o.cloneDeep(t),u.log.info("Exported ["+e.id+"] to window.selectedComp"),v.closeRightClickMenu()},controllerInspector:function(){u.log.info("Opening controller panel"),v.panelManager.openComponentPanel("debugTools.platform.controllerInspectorPanel",{comp:this.props.selectedComponents[0]}),v.closeRightClickMenu()},connectionsInspector:function(){u.log.info("Opening connections panel"),v.panelManager.openComponentPanel("debugTools.platform.connectionsInspectorPanel",{comp:this.props.selectedComponents[0]}),v.closeRightClickMenu()},isSingleController:function(){return 1===this.props.selectedComponents.length&&"platform.components.AppController"===this.getEditorAPI().components.getType(this.props.selectedComponents[0])},isSingleNonController:function(){return 1===this.props.selectedComponents.length&&"platform.components.AppController"!==this.getEditorAPI().components.getType(this.props.selectedComponents[0])},selectControllerConnectedComponents:function(){var e=this.props.selectedComponents[0];require(["debugTools"],function(t){t.platform.utils.selectControllerConnectedComponents(v,e)}),v.closeRightClickMenu()},openAddController:function(){v.panelManager.openPanel("debugTools.platform.addControllerPanel",{}),v.closeRightClickMenu()},getApplyToInfoItem:function(){return{label:"RightClick_Menu_Copy_Design_Label",enabled:!0}},openApplyToDialog:function(e){v.bi.event(n.bi.events.applyStyle.COPY_STYLE_RCM_CLICK,{component_id:e.id,component_type:v.components.getType(e)}),v.styles.openApplyStylePanel(e)},openLayoutTractor:function(){v.openLayoutTractor(),v.closeRightClickMenu()},applyToAllModes:function(){v.components.modes.applyCurrentToAllModes(v.selection.getSelectedComponents()),v.closeRightClickMenu()},getCustomActions:function(){var e=s[v.components.getType(this.props.selectedComponents)]||[];return o.isFunction(e)?e(this.getEditorAPI()):e},saveStyleToTheme:function(e,t){var i=v.documentServices.theme.styles.get(t),n=v.documentServices.theme.styles.get(v.components.style.getId(e)),a=o.assign(n,o.pick(i,["id","type","styleType"]));v.theme.styles.update(t,a),v.components.style.setId(e,t)},openPropertiesPanel:function(){v.developerToolBar.isEnabled()||v.developerToolBar.toggle(),v.closeRightClickMenu()},isShowOnAllPagesToggleDisabled:function(){return!this.props.selectedComponents||(!v.components.canToggleShowOnAllPages(this.props.selectedComponents)||v.components.shouldDisableShowOnAllPages(this.props.selectedComponents))},render:function(){var e=p;return c.isOpen("us_groupRightClick")&&(e=d),e.call(this)},getEditItems:function(){return{cut:this.state.menuItems.cut,copy:this.state.menuItems.copy,styleCanBeApplied:this.state.menuItems.styleCanBeApplied,paste:this.state.menuItems.paste,duplicate:this.state.menuItems.duplicate,enabled:!0}},isPageSelected:function(){return"mobile.core.components.Page"===this.compType},deletePage:function(){var e=this.getEditorAPI().documentServices.pages.getFocusedPageId();this.getEditorAPI().documentServices.waitForChangesApplied(v.pages.remove(e,function(){}))},shouldPresentHideOverDelete:function(){return v.isMobileEditor()&&o.some(this.props.selectedComponents,v.components.is.hiddenable)},getSelectedComponentsTypes:function(){var e=this.getEditorAPI().components.data.get(this.props.selectedComponents);return this.props.selectedComponents.length>1?o.toString(o.map(e,"type")):e&&[e.type]}})}),define("rEditor/rootComps/panels/openedPanels.rt",["react","lodash","core","uiAnimations","panels"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("div",{className:"opened-panels"},e.createElement.apply(this,[i.panelsAnimation,{},this.props.withHelpPanel&&this.props.helpPanelProps?e.createElement(n.frames.helpPanelFrame,t.assign({},{key:"helpPanel",isMobileEditor:this.props.isMobileEditor},this.props.helpPanelProps)):null,t.map(this.props.openPanels,function(i,n){return e.createElement(o.lazyComponent,t.assign({},{moduleName:i.name,key:i.name,onModuleLoaded:function(e,t){this.forceUpdate()}.bind(this,i,n)},this.getPanelProps(i)))}.bind(this))]))}}),define("rEditor/rootComps/panels/openedPanels",["create-react-class","prop-types","core","lodash","rEditor/rootComps/panels/openedPanels.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"openedPanels",propTypes:{isMobileEditor:t.bool,openPanels:t.array,withHelpPanel:t.bool,helpPanelProps:t.object,selectedComponents:t.array},getDefaultProps:function(){return{withHelpPanel:!0}},getPanelProps:function(e){return i.assign({},e.props,{selectedComponents:this.props.selectedComponents,key:function(e){var t=e.key;return o.lazyComponent.isLoaded(e.name)&&(t+="-loading"),t}(e.props)})},render:n})}),define("rEditor/rootComps/portal/portal.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{id:"portal"},this.getChildren())}}),define("rEditor/rootComps/portal/portal",["react","create-react-class","prop-types","lodash","rEditor/rootComps/portal/portal.rt"],function(e,t,o,i,n){"use strict";return t({displayName:"Portal (AKA Comps Day-Care)",propTypes:{comps:o.object},getChildren:function(){return i.reduce(this.props.comps,function(t,o,n){return t.concat(function(t,o){return i.map(t,function(t){return e.createElement(t.reactClass,i.assign({},t.props,{origin:o}))})}(o,n))},[])},render:n})}),define("rEditor/rootComps/gfpp/gfppMapper",["lodash","core","stateManagement","rEditor/rootComps/gfpp/gfppModel","experiment"],function(e,t,o,i,n){"use strict";function a(){var t=s.slice(0);return n.isOpen("switchLayoutDesignOrder")&&function(t){var o=e.indexOf(t,"layout"),i=e.indexOf(t,"design"),n=t[o];t[o]=t[i],t[i]=n}(t),t}function r(t){var o=t.mainActions||[],i=t.extraActions||[],n=function(t,o){var i=e.map(o,function(e){return t[e]});return e.compact(i)}(t.presetActions,a());return o.concat(n).concat(i)}var s=["settings","effects","layout","design","customizeDesign","upgrade","crop","filters","animation","link","hide","stretch","stretchForColumns","applyToOtherView","help","connect","pinMode","preview"];return function(n){var a=n.selection.getSelectedComponents(),s=i.getData(n,a);return{selectedComponents:a,buttons:r(s),previewState:s.previewState,setComponentPreviewState:n.documentMode.setComponentPreviewState,openHelpCenter:function(i){var a=e.get(n.selection.getSelectedComponentData(),"appPartName"),r=n.selection.getSelectedComponentType(),s={component:a||r,origin:t.constants.BI.HELP.ORIGIN.GFPP,learn_more:!1};n.store.dispatch(o.panels.logic.openHelpCenter(i,null,s))}}}}),define("rEditor/rootComps/gfpp/gfppButton.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip,shouldTranslate:this.props.shouldTranslate},function(){var t=this.translateIfNeeded;return e.createElement("li",{className:"gfpp-btn "+this.props.className,onClick:this.onClick},this.props.icon?e.createElement(o.symbol,{key:"gfppButtonIcon",name:this.props.icon}):null,this.props.label?e.createElement("span",{key:"gfppButtonLabel",className:"gfpp-label"},t(this.props.label)):null)}.apply(this,[]))}}),define("rEditor/rootComps/gfpp/gfppButton",["create-react-class","prop-types","lodash","core","util","rEditor/rootComps/gfpp/gfppButton.rt"],function(e,t,o,i,n,a){"use strict";return e({displayName:"GFPP Button",propTypes:{selectedComponent:t.arrayOf(t.object).isRequired},mixins:[i.mixins.editorAPIMixin],translateIfNeeded:function(e){return o.isBoolean(this.props.shouldTranslate)&&!this.props.shouldTranslate?e:n.translate(e)},onClick:function(){if(!this.props.isDisabled){var e=this.getEditorAPI(),t=this.props.selectedComponent;if(!e.components.is.exist(t))return;var n=(t.length?o.head(t):t).id,a=e.components.getType(t);this.props.onClick(e,t,i.constants.USER_ACTIONS.ORIGIN.GFPP,{title:this.props.title}),e.bi.event(i.bi.events.gfpp.GFPP_BUTTON_CLICK,{action_name:this.props.label||this.props.tooltip,component_id:n,component_type:a,icon:this.props.tooltip,app_Id:this.props.appId})}},render:a})}),define("rEditor/rootComps/gfpp/gfppCustomButton",["react","create-react-class"],function(e,t){"use strict";return t({displayName:"gfppCustomButton",render:function(){return e.createElement(this.props.template,this.props)}})}),define("rEditor/rootComps/gfpp/gfppButtonGenerator",["react","create-react-class","lodash","rEditor/rootComps/gfpp/gfppButton","rEditor/rootComps/gfpp/gfppCustomButton"],function(e,t,o,i,n){"use strict";return t({displayName:"gfppButtonGenerator",render:function(){return e.createElement(this.props.template?n:i,o.assign({},this.props))}})}),define("rEditor/rootComps/gfpp/gfpp.rt",["react","lodash","uiAnimations","baseUI","rEditor/rootComps/gfpp/gfppButtonGenerator"],function(e,t,o,i,n){"use strict";return function(){return e.createElement(o.gfppAnimation,{},e.createElement.apply(this,["ul",t.assign({},{id:"gfpp",ref:"gfpp",className:t({gfpp:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:this.getKey(),onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onClick:this.stopEventPropagation},this.getTopLevelProps()),t.map(this.props.buttons,function(o,i){return e.createElement(n,t.assign({},{key:o.icon||o.label||o.tooltip,className:t(this.getButtonClasses(o)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")+" "+(o.className||"")},t.omit(this.getButtonProps(o),"className")))}.bind(this))]))}}),define("rEditor/rootComps/gfpp/gfpp",["lodash","reactDOM","create-react-class","prop-types","coreUtilsLib","higherOrderComponents","rEditor/rootComps/gfpp/gfppMapper","rEditor/rootComps/gfpp/gfpp.rt","experiment"],function(e,t,o,i,n,a,r,s,l){"use strict";var c=o({displayName:"GFPP",propTypes:{selectedComponents:i.arrayOf(i.object).isRequired,buttons:i.arrayOf(i.object).isRequired,previewState:i.string,setComponentPreviewState:i.func.isRequired,openHelpCenter:i.func.isRequired,setGFPPMeasureFunc:i.func.isRequired},componentWillMount:function(){this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,this.props.previewState||null)},componentDidMount:function(){this.props.setGFPPMeasureFunc(this.getSize)},componentWillUnmount:function(){this.props.setGFPPMeasureFunc(null),this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,null)},componentWillReceiveProps:function(t){!e.isEqual(this.props.selectedComponents,t.selectedComponents)&&(this.props.setComponentPreviewState(e.head(this.props.selectedComponents).id,null),this.props.setComponentPreviewState(e.head(t.selectedComponents).id,t.previewState||null))},getTopLevelProps:function(){return e.pick(this.props,["style"])},getButtonProps:function(t){return t.isApplied&&e.assign(t,{label:t.label_active||t.label,icon:t.icon_active||t.icon,tooltip:t.tooltip_active||t.tooltip}),t.helpId&&e.isUndefined(t.onClick)&&(t.onClick=function(){this.props.openHelpCenter(t.helpId)}.bind(this)),t.selectedComponent=this.props.selectedComponents,t},getSize:function(){if(this.refs.gfpp){var o=n.domMeasurements.getBoundingRect(t.findDOMNode(this.refs.gfpp));return e.pick(o,["width","height"])}},stopEventPropagation:function(e){e.stopPropagation()},getKey:function(){return e.head([].concat(this.props.selectedComponents)).id+"_"+e.size([].concat(this.props.selectedComponents))},getButtonClasses:function(e){return{disabled:e.isDisabled,selected:e.isSelected,applied:l.isOpen("se_gfpp_indications")&&e.isApplied}},render:s}),p=e.flow(a.renderWhenMutated,a.connectEditorAPI(r))(c);return p.pure=c,p}),define("rEditor/rootComps/selectionBox/selectionBoxCommons",["lodash","experiment"],function(e,t){"use strict";function o(t,o,i){for(var n=e.head(o);n&&!function(t,o){return e.some(t,function(e){return e(o)})}(i,n);)n=t.components.getContainer(n);return n}function i(e){return e?"fixed":"absolute"}return{getPosition:i,getBoundingStyle:function(o,n,a,r){var s=0,l=0;e.size(a)>1&&(l=2*(s=2));var c=n.bounding,p={position:i(o),top:n.bounding.y-r-s,left:n.bounding.x-r-s,width:c.width+l,height:c.height+l};if(t.isOpen("se_editBoxPerformance")){var d="translate3d("+(c.x-r-s)+"px,"+(c.y-r-s)+"px,0)";p.top=0,p.left=0,p.WebkitTransform=d,p.transform=d}return p},findFirstContainerMatchingConditions:o}}),define("rEditor/rootComps/selectionBox/focusBoxMapper",["constants"],function(e){"use strict";function t(t,o){return{containerLayout:t.components.layout.getRelativeToScreen(o.focusedContainer),previewPosition:t.getPreviewPosition(),componentUIColor:function(t,o){return t.components.isShowOnAllPages(o)||t.components.isShowOnSomePages(o)?e.COMPONENT_UI_COLORS.ORANGE:e.COMPONENT_UI_COLORS.BLUE}(t,o.focusedContainer),isShowOnFixedPosition:t.components.layout.isShowOnFixedPosition([o.focusedContainer]),focusBoxNavType:t.components.is.focusBoxNavType(o.focusedContainer),modesAvailableInView:t.components.modes.getComponentModesAvailableInView(o.focusedContainer),modes:t.components.modes.getModes(o.focusedContainer),focusBoxNavContent:t.components.is.focusBoxNavContent(o.focusedContainer),activeModeIds:t.components.modes.getComponentActiveModeIds(o.focusedContainer),activateComponentMode:t.components.modes.activateComponentMode,deactivateComponentMode:t.components.modes.deactivateComponentMode,closePanelByName:t.panelManager.closePanelByName,selectComponentByCompRef:t.selection.selectComponentByCompRef,biError:t.documentServices.bi.error,refreshNavControlsSize:t.refreshNavControlsSize,hasOpacity:function(e,t){return e.components.is.descendantOfRepeaterItem(t)}(t,t.selection.getSelectedComponents())}}return t}),define("rEditor/rootComps/selectionBox/controllers/tab.rt",["react","lodash","util"],function(e,t,o){"use strict";return function(){return e.createElement("label",{className:"label-controller tab "+this.props.tabClass+" "+t({active:this.props.tab.active}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:function(){this.props.onTabClick(this.props.tab)}.bind(this)},e.createElement("div",{className:"label"},"\n        ",this.getTabLabel(),"\n    "),e.createElement("div",{className:"action",key:this.props.tabsAnimationText},"\n        ",o.translate(this.props.tabsAnimationText),"\n    "))}}),define("rEditor/rootComps/selectionBox/controllers/tab",["lodash","create-react-class","prop-types","util","rEditor/rootComps/selectionBox/controllers/tab.rt"],function(e,t,o,i,n){"use strict";return t({displayName:"selectionBoxTab",propTypes:{tab:o.shape({modeId:o.string.isRequired,label:o.string.isRequired,active:o.bool.isRequired}).isRequired,onTabClick:o.func.isRequired,translate:o.bool,tabClass:o.string.isRequired,tabsAnimationText:o.string},getTabLabel:function(){return this.props.translate?i.translate(this.props.tab.label):this.props.tab.label},render:n})}),define("rEditor/rootComps/selectionBox/controllers/tabsController.rt",["react","lodash","rEditor/rootComps/selectionBox/controllers/tab","uiAnimations"],function(e,t,o,i){"use strict";return function(){return e.createElement.apply(this,["div",{className:this.getTabControllerClasses()},t.map(this.props.tabs,function(t,n){return e.createElement(i.tabIndicationAnimation,{selectors:{label:".label",action:".action"},key:n+"-"+t.id,direction:this.props.isPositionTop?1:-1,immediatePlay:this.state.tabsAnimationStatus[n]},e.createElement(o,{tab:t,tabClass:this.tabIndexClass(n),translate:this.props.translate,onTabClick:this.props.onTabClick,tabsAnimationText:this.state.tabsAnimationText}))}.bind(this))])}}),define("rEditor/rootComps/selectionBox/controllers/tabsController",["lodash","constants","create-react-class","prop-types","rEditor/rootComps/selectionBox/controllers/tabsController.rt"],function(e,t,o,i,n){"use strict";function a(t){if(!t.tabIndicationState)return{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!1)),tabsAnimationText:""};switch(t.tabIndicationState.indication){case"DELETE":return{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_DELETED"};case"APPLY":return t.tabIndicationState.activeMode?{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"}:{tabsAnimationStatus:e(t.tabs).map("active").map(e.negate(e.identity)).value(),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"};case"ADD":return t.tabIndicationState.activeMode?{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"}:{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!0)),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"};default:return{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!1))}}}return o({displayName:"tabsController",propTypes:{tabs:i.arrayOf(i.shape({modeId:i.string,label:i.string.isRequired,active:i.bool.isRequired})).isRequired,translate:i.bool,tabIndicationState:i.shape({indication:i.string.isRequired,activeMode:i.bool}),onTabClick:i.func.isRequired,isPositionTop:i.bool.isRequired,componentUIColor:i.oneOf(e.values(t.COMPONENT_UI_COLORS))},getInitialState:function(){return a(this.props)},componentWillReceiveProps:function(e){this.setState(a(e))},getReversedTabs:function(){return e(this.props.tabs).cloneDeep().reverse()},getTabControllerClasses:function(){var o=e({"tabs-controller":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}).pickBy().keys().value();return(this.props.className||"")+" "+o.join(" ")},tabIndexClass:function(e){return 1===this.props.tabs.length?"left-most-tab right-most-tab":e===this.props.tabs.length-1?"right-most-tab":0===e?"left-most-tab":""},render:n})}),define("rEditor/rootComps/selectionBox/controllers/paginationController.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:this.getPaginationControllerClasses(),'"':!0},e.createElement("span",{className:"arrow prev-arrow",onClick:this.onPrev}),e.createElement("span",{className:"middle-label",onClick:this.onLabelClick},this.getLabel()),e.createElement("span",{className:"arrow next-arrow",onClick:this.onNext}))}}),define("rEditor/rootComps/selectionBox/controllers/paginationController",["create-react-class","prop-types","lodash","constants","util","rEditor/rootComps/selectionBox/controllers/paginationController.rt"],function(e,t,o,i,n,a){"use strict";return e({displayName:"paginationController",render:a,mixins:[n.translationMixin],propTypes:{label:t.string.isRequired,labelParams:t.object.isRequired,onNext:t.func.isRequired,onPrev:t.func.isRequired,onLabelClick:t.func.isRequired,componentUIColor:t.oneOf(o.values(i.COMPONENT_UI_COLORS))},getLabel:function(){return this.translateTemplate(this.props.label,this.props.labelParams)},onNext:function(){this.props.onNext()},onPrev:function(){this.props.onPrev()},getPaginationControllerClasses:function(){var e=o({"pagination-controller":!0,"components-ui-color-orange":this.props.componentUIColor===i.COMPONENT_UI_COLORS.ORANGE}).pickBy().keys().value();return(this.props.className||"")+" "+e.join(" ")},onLabelClick:function(){this.props.onLabelClick()}})}),define("rEditor/rootComps/selectionBox/navControls.rt",["react","lodash","util","baseUI","rEditor/rootComps/selectionBox/controllers/tabsController","rEditor/rootComps/selectionBox/controllers/paginationController"],function(e,t,o,i,n,a){"use strict";return function(){function o(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}return e.createElement("div",{onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:this.getCalculatedStyle(),className:"nav-controls "+this.getPositionClass()},this.props.navType===i.uiConstants.NAVIGATION_TYPES.TABS?e.createElement(n,o({key:"tabsController",className:this.getPositionClass(),isPositionTop:this.isPositionTop(),componentUIColor:this.props.componentUIColor,tabIndicationState:this.props.tabIndicationState},this.props.content)):null,this.props.navType===i.uiConstants.NAVIGATION_TYPES.PAGINATION?e.createElement(a,o({key:"paginationController",componentUIColor:this.props.componentUIColor,biError:this.props.biError,className:this.getPositionClass()},this.props.content)):null)}}),define("rEditor/rootComps/selectionBox/navControls",["create-react-class","prop-types","lodash","constants","rEditor/rootComps/selectionBox/navControls.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"navControls",propTypes:{navType:t.oneOf(o.values(i.UI.NAVIGATION_TYPES)),content:t.object.isRequired,componentUIColor:t.oneOf(o.values(i.COMPONENT_UI_COLORS)),style:t.object,onMouseEnterControls:t.func,onMouseLeaveControls:t.func},onMouseEnter:function(){o.isFunction(this.props.onMouseEnterControls)&&this.props.onMouseEnterControls()},onMouseLeave:function(){o.isFunction(this.props.onMouseLeaveControls)&&this.props.onMouseLeaveControls()},stopEventPropagation:function(e){e.stopPropagation()},getPositionClass:function(){return this.isPositionTop()?"comp-top":"comp-bottom"},isPositionTop:function(){return o.get(this.props,"style.top")!==i.UI.NAVIGATION_CONTROLS_POS.BOTTOM},getCalculatedStyle:function(){return{marginLeft:this.props.style&&this.props.style.left||0}},render:n})}),define("rEditor/rootComps/selectionBox/focusBox.rt",["react","lodash","rEditor/rootComps/selectionBox/navControls"],function(e,t,o){"use strict";return function(){return function(){this.getFocusedContainerLayout();var i=this.getNavControlsContent();return e.createElement("div",{className:t(this.getFocusBoxClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getFocusBoxStyle()},e.createElement(o,{ref:"navControls",style:this.props.navControlsStyle,navType:this.getNavType(),content:i,biError:this.props.biError,componentUIColor:this.props.componentUIColor,isShowOnSomePages:this.props.isShowOnSomePages,onMouseEnterControls:this.onMouseEnterControls,onMouseLeaveControls:this.onMouseLeaveControls,tabIndicationState:this.props.tabIndicationState}),e.createElement("div",{className:"focus-frame"}))}.apply(this,[])}}),define("rEditor/rootComps/selectionBox/focusBox",["create-react-class","prop-types","reactDOM","lodash","constants","coreUtilsLib","higherOrderComponents","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment","rEditor/rootComps/selectionBox/focusBoxMapper","rEditor/rootComps/selectionBox/focusBox.rt"],function(e,t,o,i,n,a,r,s,l,c,p){"use strict";function d(e,t){var o=void 0;switch(t.type){case"DEFAULT":o="HOVER_BOX_STATE_REGULAR";break;case"HOVER":o="HOVER_BOX_STATE_HOVER";break;case"SCROLL":o="scroll > "+t.params.scrollPos;break;case"WIDTH":o="width > "+t.params.width;break;default:o=t.label||"unknown-mode"}return i.assign({},t,{active:!!e[t.modeId],label:o})}var u=e({displayName:"focusBox",propTypes:{tabIndicationState:t.object.isRequired,navControlsStyle:t.object.isRequired,componentUIColor:t.oneOf(i.values(n.COMPONENT_UI_COLORS)),isShowOnFixedPosition:t.bool.isRequired,hasOpacity:t.bool.isRequired,focusedContainer:t.object.isRequired,containerLayout:t.object.isRequired,previewPosition:t.object.isRequired,focusBoxNavType:t.string,modes:t.array.isRequired,focusBoxNavContent:t.object,activeModeIds:t.object.isRequired,activateComponentMode:t.func.isRequired,closePanelByName:t.func.isRequired,selectComponentByCompRef:t.func.isRequired,selectedComponents:t.oneOfType([t.object,t.arrayOf(t.object)]).isRequired,biError:t.func.isRequired,deactivateComponentMode:t.func.isRequired,refreshNavControlsSize:t.func.isRequired,modesAvailableInView:t.arrayOf(t.object).isRequired},getInitialState:function(){return{mouseOverNavControls:!1}},componentDidMount:function(){this.props.refreshNavControlsSize(this.getNavControlsSize())},componentDidUpdate:function(){this.props.refreshNavControlsSize(this.getNavControlsSize())},componentWillUnmount:function(){this.props.refreshNavControlsSize(!1)},getFocusedContainerLayout:function(){return s.getBoundingStyle(this.props.isShowOnFixedPosition,this.props.containerLayout,[this.props.focusedContainer],0)},getFocusBoxClasses:function(){return{focusbox:!0,"components-ui-color-orange":this.props.componentUIColor===n.COMPONENT_UI_COLORS.ORANGE,"with-opacity":this.props.hasOpacity}},getFocusBoxStyle:function(){var e=this.getFocusedContainerLayout();return"fixed"===e.position&&(e.top+=this.props.previewPosition.top,e.left+=this.props.previewPosition.left),e},getNavControlsSize:function(){if(this.refs.navControls){var e=a.domMeasurements.getBoundingRect(o.findDOMNode(this.refs.navControls));return i.pick(e,["width","height"])}return!1},onMouseEnterControls:function(){this.state.mouseOverNavControls||this.setState({mouseOverNavControls:!0})},onMouseLeaveControls:function(){this.state.mouseOverNavControls&&this.setState({mouseOverNavControls:!1})},getNavType:function(){return this.componentHaveModes()?n.UI.NAVIGATION_TYPES.TABS:this.props.focusBoxNavType},getNavControlsContent:function(){return this.componentHaveModes()?this.getModesTabsContent():this.props.focusBoxNavContent},getModesTabsContent:function(){return{tabs:this.createModeTabs(),translate:!0,onTabClick:function(e){return this.handleTabClick(e)}.bind(this)}},createModeTabs:function(){return i.map(this.props.modesAvailableInView,i.partial(d,this.props.activeModeIds))},handleTabClick:function(e){if(this.props.activeModeIds[e.modeId])this.props.selectComponentByCompRef(this.props.focusedContainer),l.isOpen("applicativeModes")&&this.props.deactivateComponentMode(this.props.focusedContainer,e.modeId);else{this.props.activateComponentMode(this.props.focusedContainer,e.modeId);var t=i.head(i.filter(this.props.modes,{type:"DEFAULT"}));t&&t.modeId===e.modeId&&function(e){i.forEach(["compPanels.dynamicPanels.animationPanel"],e)}(this.props.closePanelByName)}},componentHaveModes:function(){return!i.isEmpty(this.props.modes)},render:p}),m=r.connectEditorAPI(c)(r.renderWhenMutated(u));return m.pure=u,m}),define("rEditor/utils/mouseMoveActions/closeGaps",["lodash","core","constants"],function(e,t,o){"use strict";var i=t.utils.mouseCoordinatesHandler,n=void 0,a=void 0,r=void 0,s=void 0,l=void 0,c=void 0,p=void 0;return{start:function(e,t){a=e,n=t.comps,r=a.components.is.page(n);var o=a.siteSegments.getGaps();c=o[s=r?"headerToPagesGap":"pagesToFooterGap"]||0;var l=i.fitMouseCoordinatesToViewer(a,t.evt);p=l.pageY},on:function(t){var o=i.fitMouseCoordinatesToViewer(a,t),n=p-o.pageY,r=e.max([0,c-n]),d=e.set({},s,r);l=r,a.siteSegments.updateGaps(d)},end:function(e){i.fitMouseCoordinatesToViewer(a,e).pageY<p&&(a.bi.event(t.bi.events.editBox.DRAG_GAP,{gap_type:s,gap_size_start:c,gap_size_end:l}),a.history.add("gap updated"))},type:o.MOUSE_ACTION_TYPES.CLOSE_GAPS}}),define("rEditor/utils/mouseMoveActions/baseResize",["lodash","core","experiment","constants","stateManagement","util"],function(e,t,o,i,n,a){"use strict";function r(e){return{x:e.pageX,y:e.pageY}}function s(){return function(t){var o=T.components.getType(t);return e.has(A,o)}(b)?function(t){var o=T.components.getType(t),i=T.store.getState(),n=m(i),a=A[o],r=e.isFunction(a)?a(b):!!a,s=e.pick(R,["topRight","topLeft","bottomRight","bottomLeft"]),l=e.includes(s,E),c=e.map(b,"id"),p=e.map(n,"id");return((e.difference(c,p).length?T.getCompRestrictions(b).resizeOnlyProportionally:g(i).resizeOnlyProportionally)||!v)&&l&&r}(b):(v||T.components.is.group(b)||T.multiselect.isMultiselect(b))&&T.components.is.proportionallyResizable(b)}function l(t){var o=r(t),i=function(e){return k[e]}(S),n=T.components.layout.getRelativeToScreen(b),a=T.components.getType(b);C=s(),function(t){return e.has(w,t)}(a)&&(n=function(e,t){return w[t](e)}(n,a));var l=function(t){if(T.components.is.repeaterItem(b)){var o=T.components.getContainer(b),i=T.components.layout.get(o),n=T.components.getChildren(o),a=e.findIndex(n,b[0]);if("right"===S||"left"===S){var r=Math.floor(i.width/t.width),s=(a+1)%r;return 0===s?r:s}if("bottom"===S||"top"===S){var l=Math.floor(i.height/t.height),c=(a+1)%l;return 0===c?l:c}}return 1}(n);y=new h.Resize(n,o,i,C,l),I=T.components.layout.getProportionStructure(b,i)}function c(t,i){b=(T=t).multiselect.getComponentsWhichDontHaveAncestorsInTheArray(i.comps);var n=e.map(b,"id");T.documentServices.renderPlugins.setCompsToShowOnTop(n),o.isOpen("changeOpacityOnDrag")&&T.documentServices.renderPlugins.setCompsToShowWithOpacity(n,.9),v=i.evt.shiftKey,o.isOpen("se_unpackTextReportOnTextHeightChange")&&(O=i.evt.clientY),S=i.directionName,P=new f(T,i.comps),E=function(e){return R[e]}(i.directionName),M=e.map(b,function(e){return new _(T,e)}),e.forEach(M,function(e){e.highlightDragConstraints()}),l(i.evt),o.isOpen("se_continuous_actions")&&(C?T.components.layout.continuousUpdateAndPreserveProportions.start():T.components.layout.continuousUpdate.start())}function p(e){var i=r(e),n=e.altKey;if(v!==e.shiftKey){v=e.shiftKey;var a=C;l(e),a!==C&&o.isOpen("se_continuous_actions")&&(C?(T.components.layout.continuousUpdate.end(),T.components.layout.continuousUpdateAndPreserveProportions.start()):(T.components.layout.continuousUpdateAndPreserveProportions.end(),T.components.layout.continuousUpdate.start()))}var c=y.getLayout(i);T.getViewTools().snapToEnabled&&0===c.rotationInDegrees&&function(e){var t=P.getClosestLayoutDistance(T,e,E);Math.abs(t.x)<5&&(E.right?(s()&&e.height&&(e.height+=t.x),e.width+=t.x):E.left&&(s()&&e.height&&(e.height-=t.x),e.x+=t.x,e.width-=t.x)),Math.abs(t.y)<5&&(E.top?(s()&&e.width&&(e.width-=t.y),e.y+=t.y,e.height-=t.y):E.bottom&&(s()&&e.width&&(e.width+=t.y),e.height+=t.y))}(c);var p=T.components.layout.getRelativeToScreen(b);c=t.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(T,b[0],c,p),o.isOpen("se_continuous_actions")?C?T.components.layout.continuousUpdateAndPreserveProportions.on(b,c,I):T.components.layout.continuousUpdate.on(b,c,!0):C?T.components.layout.updateRelativeToScreenAndPreserveProportions(b,c,I):T.components.layout.updateRelativeToScreen(b,c,!0),T.documentServices.waitForChangesApplied(function(){if(P){var e=T.components.layout.getRelativeToScreen(b);n?function(e){if(E.right)e.width-=e.width%5;else if(E.left){var t=e.x%5;e.x-=t,e.width+=t}if(E.top){var o=e.y%5;e.y-=o,e.height+=o}else E.bottom&&(e.height-=e.height%5)}(e):T.getViewTools().snapToEnabled&&0===e.rotationInDegrees&&function(e){var t=P.getSnapData(e,E);T.snapData.set(t)}(e)}})}function d(i){if(o.isOpen("se_unpackTextReportOnTextHeightChange")&&function(e){if(e&&"wysiwyg.viewer.components.WRichText"===T.components.getType(b)&&"bottom"===S){var o="increase";e.clientY<O?o="decrease":e.clientY===O&&(o="no change"),O=null,T.bi.event(t.bi.events.editBox.TEXT_COMPONENT_RESIZE,{value:o})}}(i),P=null,o.isOpen("se_continuous_actions")&&(C?T.components.layout.continuousUpdateAndPreserveProportions.end():T.components.layout.continuousUpdate.end()),T.snapData.clear(),T.documentServices.renderPlugins.setCompsToShowOnTop(null),o.isOpen("changeOpacityOnDrag")&&T.documentServices.renderPlugins.setCompsToShowWithOpacity(null),T.history.add("Resize component"),e.forEach(M,function(e){e.removeHighlightDragConstraints()}),M=[],T.components.layout.isPinned(b)){var n=T.components.layout.getDock(b),r=a.pinModeUtils.getDockedDirection(n),s=T.components.layout.get(b);a.pinModeUtils.checkSizeRestrictions(r,s)&&T.panelHelpers.openPinModeSizeRestrictionPanel({state:"on resize",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}}var u=n.selection.selectors,m=u.getSelectedCompsRefs,g=u.getSelectedCompRestrictions,f=t.utils.SnapToHandler,h=t.utils.layoutTransitionsUtil,b=void 0,y=void 0,v=void 0,S=void 0,P=void 0,E=void 0,C=void 0,T=void 0,I=void 0,_=t.utils.DragConstraintsHandler,M=[],O=void 0,A={"wysiwyg.viewer.components.WPhoto":function(e){return"stretch"!==T.components.properties.get(e).displayMode},"wysiwyg.viewer.components.SiteButton":!0,"wysiwyg.viewer.components.inputs.Checkbox":!0,"wysiwyg.common.components.imagebutton.viewer.ImageButton":!0,"wysiwyg.viewer.components.ClipArt":!0,"wysiwyg.viewer.components.svgshape.SvgShape":!0,"wysiwyg.viewer.components.MatrixGallery":!0,"tpa.viewer.components.Thumbnails":!0,"wysiwyg.viewer.components.PaginatedGridGallery":!0,"wysiwyg.viewer.components.SlideShowGallery":!0,"wysiwyg.viewer.components.Video":!0,"wysiwyg.viewer.components.mobile.TinyMenu":!0,"wysiwyg.viewer.components.inputs.RadioButton":!0,"wysiwyg.viewer.components.MediaPlayer":!0,"wysiwyg.viewer.components.MediaOverlayControls":!0,"wysiwyg.viewer.components.VectorImage":!0,"wysiwyg.viewer.components.WRichText":!1,"wixui.ToggleSwitch":!0},w={"wysiwyg.viewer.components.PopupContainer":function(t){var o=T.components.properties.get(b);return e.assign({},t,{symmetry:{horizontal:"center"===o.horizontalAlignment,vertical:"center"===o.verticalAlignment}})}},R={right:{right:!0},left:{left:!0},top:{top:!0},bottom:{bottom:!0},topRight:{top:!0,right:!0},topLeft:{top:!0,left:!0},bottomRight:{bottom:!0,right:!0},bottomLeft:{bottom:!0,left:!0}},k={right:{x:1,y:0},left:{x:-1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},topRight:{x:1,y:-1},topLeft:{x:-1,y:-1},bottomRight:{x:1,y:1},bottomLeft:{x:-1,y:1}};return{start:c,on:p,end:d,type:i.MOUSE_ACTION_TYPES.RESIZE}}),define("rEditor/utils/mouseMoveActions/pageResize",["lodash","core","constants"],function(e,t,o){"use strict";function i(e){return{x:e.pageX,y:e.pageY}}function n(t){var n=i(t).y-s.y;c=Math.max(function(e){var t=l+e,i=r.isMobileEditor()?o.CONSTRAINS.PAGE_MIN_HEIGHT.MOBILE:o.CONSTRAINS.PAGE_MIN_HEIGHT.DESKTOP;return Math.max(t,i)}(n),u),r.pages.properties.update(p,{minHeight:c}),d=!e.isEqual(c,l)}function a(){r.history.add("Resize page")}var r=void 0,s=void 0,l=void 0,c=void 0,p=void 0,d=void 0,u=void 0;return{start:function(e,t){var o=(r=e).documentServices.pages.getPrimaryPageId();s=i(t.evt),p=r.documentServices.pages.getReference(o),u=r.pages.getPageBottomByComponents(p.id),l=r.components.layout.get(p).height},on:n,end:function(){d&&(a(),r.bi.event(t.bi.events.pageResize.PAGE_MIN_HEIGHT_RESIZE,{yCoordinate_new:c,yCoordinate_old:l}),d=!1)},reset:function(){r.pages.properties.update(p,{minHeight:null}),a()},type:o.MOUSE_ACTION_TYPES.RESIZE_PAGE}}),define("rEditor/utils/mouseMoveActions/pushingComponentSnapper",["lodash","core"],function(e,t){"use strict";function o(e,t,o){e.waitForChangesApplied(function(){if(a){var i=e.getRelativeToScreen(o);e.snapToEnabled&&0===t.rotationInDegrees&&function(e,t){var o=a.getSnapData(t,n,!0);e(o)}(e.snapDataSetter,i)}})}var i=t.utils.SnapToHandler,n=void 0,a=void 0,r=function(e,t,o){var i=e.width?e.width:t,n=e.x,a=n+i,r=o.x,s=r+o.width,l=!1;return r>=n&&r<=a?l=!0:s>=n&&s<=a?l=!0:n>=r&&n<=s?l=!0:a>=r&&a<=s&&(l=!0),l};return{init:function(e,t,o){n=o,a=new i(e,t)},snapIfPossible:function(t,o,i){var s=e(r).negate().partial(o,i).value(),l=a.getClosestLayoutDistance(t,o,n,s);Math.abs(l.y)<5&&(n.top&&n.bottom?(o.y+=l.y,o.height-=l.y):n.bottom&&(o.height+=l.y))},waitForChangesAppliedAndDrawSnapLines:o,clear:function(e){a=null,n=null,e.snapData.clear()}}}),define("rEditor/utils/mouseMoveActions/baseResizeAndPush",["lodash","core","experiment","constants","rEditor/utils/mouseMoveActions/pushingComponentSnapper"],function(e,t,o,i,n){"use strict";function a(e){var t=s.fitMouseCoordinatesToViewer(c,e);return{x:t.pageX,y:t.pageY}}var r=t.utils.layoutTransitionsUtil,s=t.utils.mouseCoordinatesHandler,l=void 0,c=void 0,p=void 0;return{start:function(t,i){c=t,l=i.comps,n.init(c,l,{bottom:!0}),c.selection.setIsMouseUpSelectionEnabled(!1);var s=e.map(l,"id");c.documentServices.renderPlugins.setCompsToShowOnTop(s),o.isOpen("se_continuous_actions")&&c.components.layout.continuousUpdateAndAdjustLayout.start();var d=a(i.evt),u=c.components.layout.getRelativeToScreen(l);p=new r.Resize(u,d,{x:0,y:1},!1)},on:function(t){var i=a(t),r=p.getLayout(i),s=c.components.layout.getMinDimensions(l);r.bounding=c.utils.getBoundingLayout(r);var d=c.components.layout.getRelativeToScreen(l).width;n.snapIfPossible(c,r,d),r.height>=s.height&&(o.isOpen("se_continuous_actions")?c.components.layout.continuousUpdateAndAdjustLayout.on(l,e.pick(r,["height","width"]),!0):c.components.layout.updateRelativeToScreenAndAdjustLayout(l,e.pick(r,["height","width"]),!0));var u={waitForChangesApplied:c.documentServices.waitForChangesApplied,getRelativeToScreen:c.components.layout.getRelativeToScreen,snapToEnabled:c.getViewTools().snapToEnabled,snapDataSetter:c.snapData.set};n.waitForChangesAppliedAndDrawSnapLines(u,r,l)},end:function(){o.isOpen("se_continuous_actions")&&c.components.layout.continuousUpdateAndAdjustLayout.end(),n.clear(c),c.documentServices.renderPlugins.setCompsToShowOnTop(null),c.history.add("Resize component")},type:i.MOUSE_ACTION_TYPES.RESIZE_PUSH}}),define("rEditor/utils/mouseMoveActions/baseRotate",["lodash","core","constants"],function(e,t,o){"use strict";function i(e){!function(e){e.rotationInDegrees<0&&(e.rotationInDegrees+=360);var t=e.rotationInDegrees%m;t<=u?e.rotationInDegrees-=t:t>=m-u&&(e.rotationInDegrees+=m-t)}(e),d.components.layout.updateRelativeToScreen(p,e,!0)}function n(e){var t=r.fitMouseCoordinatesToViewer(d,e),o={x:t.pageX,y:t.pageY},n=c.getLayout(o);e.shiftKey?(s||(l=d.components.layout.getRelativeToScreen(p).rotationInDegrees),function(e){var t=Math.floor(l<0?l+360:l),o=Math.floor(e.rotationInDegrees<0?e.rotationInDegrees+360:e.rotationInDegrees)-t,i=Math.floor(o/g);e.rotationInDegrees=l+i*g,d.components.layout.updateRelativeToScreen(p,e,!0)}(n)):i(n),s=e.shiftKey}var a=t.utils.layoutTransitionsUtil,r=t.utils.mouseCoordinatesHandler,s=!1,l=void 0,c=void 0,p=void 0,d=void 0,u=3,m=90,g=15;return{start:function(t,o){p=o.comps,(d=t).selection.setIsMouseUpSelectionEnabled(!1);var i=e.map(p,"id");d.documentServices.renderPlugins.setCompsToShowOnTop(i);var n=d.components.layout.getRelativeToScreen(p),s=d.getPreviewPosition(),l=e.defaults({y:n.y+s.top,x:n.x+s.left},n),u=r.fitMouseCoordinatesToViewer(d,o.evt),m={x:u.pageX,y:u.pageY};c=new a.Rotate(n,m,l)},on:n,end:function(){d.documentServices.waitForChangesApplied(function(){var e=d.components.layout.get(p).rotationInDegrees;d.bi.event(t.bi.events.editBox.ROTATE_COMPONENT,{value:parseInt(e,10),origin:"editBox"})}),d.documentServices.renderPlugins.setCompsToShowOnTop(null),d.history.add("Rotate component")},type:o.MOUSE_ACTION_TYPES.ROTATE}}),define("rEditor/utils/mouseMoveActions/baseDragAndPush",["lodash","core","experiment","constants","rEditor/utils/mouseMoveActions/pushingComponentSnapper"],function(e,t,o,i,n){"use strict";function a(t){var o=p.components.getContainer(c),i=p.components.layout.getRelativeToScreen(o),n=function(t){var o=p.components.getSiblings(c),i=e(o).map(function(e){return p.components.layout.getRelativeToScreen(e)}).filter(function(e){return function(e,t){var o=t.x+t.width<=e.x,i=t.x>=e.x+e.width;return!(o||i)&&t.y+t.height<=e.y}(t,e)}).value();if(0===i.length)return 0;var n=e.maxBy(i,function(e){return e.y+e.height});return n.y+n.height}(t);return Math.max(n,i.y)}var r=t.utils.layoutTransitionsUtil,s=t.utils.mouseCoordinatesHandler,l=void 0,c=void 0,p=void 0,d=void 0,u=0,m=void 0;return{start:function(t,i){p=t,c=i.comps,n.init(p,c,{top:!0,bottom:!0,centerY:!0}),m=i.onDragAndPushEnd;var d=e.map(c,"id");p.documentServices.renderPlugins.setCompsToShowOnTop(d),o.isOpen("se_continuous_actions")&&p.components.layout.continuousUpdateAndAdjustLayout.start();var g=e.omit(p.components.layout.getRelativeToScreen(c),"bounding"),f=e.map(c,function(t){return e.omit(p.components.layout.getRelativeToScreen(t),"bounding")});u=a(g);var h=s.fitMouseCoordinatesToViewer(p,i.evt),b={x:h.pageX,y:h.pageY};l=new r.Drag(g,b,f)},on:function(t){var i=s.fitMouseCoordinatesToViewer(p,t),a={x:i.pageX,y:i.pageY},r=l.getLayout(a);r.y=Math.max(r.y,u),n.snapIfPossible(p,r),d=l.getBoundComponentLayouts(r);for(var m=0;m<c.length;m++)o.isOpen("se_continuous_actions")?p.components.layout.continuousUpdateAndAdjustLayout.on(c[m],e.pick(d[m],"y")):p.components.layout.updateRelativeToScreenAndAdjustLayout(c[m],e.pick(d[m],"y"));var g={waitForChangesApplied:p.documentServices.waitForChangesApplied,getRelativeToScreen:p.components.layout.getRelativeToScreen,snapToEnabled:p.getViewTools().snapToEnabled,snapDataSetter:p.snapData.set};n.waitForChangesAppliedAndDrawSnapLines(g,r,c)},end:function(){if(o.isOpen("se_continuous_actions"))p.components.layout.continuousUpdateAndAdjustLayout.end();else if(d){for(var t=0;t<c.length;t++)p.components.layout.updateRelativeToScreen(c[t],e.pick(d[t],"y"));d=null}p.documentServices.waitForChangesApplied(function(){n.clear(p),p.documentServices.renderPlugins.setCompsToShowOnTop(null)}),e.isFunction(m)&&m()},type:i.MOUSE_ACTION_TYPES.DRAG_PUSH}}),define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt",["react","lodash","util","symbols","uiConstants"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("div",{className:"quick-tip",onMouseDown:this.onMouseDown,style:{padding:"6px"}},e.createElement("div",{className:"close-quick-tip",onClick:this.close},e.createElement("span",{},e.createElement(i.symbol,{name:"bubble-close"}))),e.createElement("div",{className:"quick-tip-image"},e.createElement(i.symbol,{name:"idea-bulb"})),e.createElement("div",{className:"text-container",style:{textAlign:"left"}},e.createElement("div",{className:"text"},"\n            ",o.translate(this.props.text),"\n        "),e.createElement("div",{className:"text link-action",onClick:this.onLinkClick},"\n\n            ",o.translate(this.props.linkActionText),"\n        ")))}}),define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion",["create-react-class","prop-types","core","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt"],function(e,t,o,i){"use strict";return e({displayName:"applyModeFromClipboardSuggestion",mixins:[o.mixins.editorAPIMixin],propTypes:{text:t.string.isRequired,linkActionText:t.string.isRequired},componentWillUnmount:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},close:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},onMouseDown:function(e){e.stopPropagation()},onLinkClick:function(e){e.preventDefault(),this.getEditorAPI().copyPaste.removePastedComponentAndApplyModeFromClipboard()},render:i})}),define("rEditor/utils/mouseMoveActions/baseDoubleClick",["lodash","core","rEditor/rootComps/gfpp/gfppModel"],function(e,t,o){"use strict";return{doubleClick:function(i,n){var a=i.components.getType(n.comp),r=i.pluginService.getPlugin(i.pluginService.pluginConstants.DOUBLE_CLICK,a);if(e.isFunction(r))r(i,n);else{var s=o.getComponentMainActionClick(i,n.comp);e.isFunction(s)&&s(i,n.comp,t.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}}}),define("rEditor/rootComps/selectionBox/editBoxMapper",["lodash","core","constants","rEditor/utils/mouseMoveActions/baseDoubleClick","util","stateManagement","rEditor/rootComps/selectionBox/selectionBoxCommons"],function(e,t,o,i,n,a,r){"use strict";function s(e,t,o){var i=e.components.layout.getRelativeToScreen(t);if(o){var n=e.getPreviewPosition();i.y+=n.top,i.bounding.y+=n.top,i.x+=n.left,i.bounding.x+=n.left}return i}function l(e,t){return e.components.isShowOnAllPages(t)||e.components.isShowOnSomePages(t)?o.COMPONENT_UI_COLORS.ORANGE:o.COMPONENT_UI_COLORS.BLUE}function c(o,i,n,a,r,s){var l=o.components.is.page(i),c=o.documentServices.components.layout.RESIZE_SIDES,p=e.difference(a.resizeableSides,a.disabledKnobs),d=o.components.layout.isPinned(i),u=!o.multiselect.isMultiselect(i)&&o.components.layout.getDock(i)||{},g=o.components.layout.isHorizontallyStretchedToScreen(i),f=a.canResizeDiagonally,h=a.resizeOnlyProportionally,b=function(t,o){var i=t?m.MOBILE:m.DESKTOP;return e.some(o,function(e){return i[e]})}(o.isMobileEditor(),s),y=e.includes(p,c.TOP)&&!b,v=e.includes(p,c.BOTTOM)&&!b,S=e.includes(p,c.LEFT),P=e.includes(p,c.RIGHT),E=!g&&(y&&S&&f||h&&!u.top&&!u.left),C=!g&&(y&&P&&f||h&&!u.top&&!u.right),T=!g&&(v&&S&&f||h&&!u.bottom&&!u.left),I=!g&&(v&&P&&f||h&&!u.bottom&&!u.right),_=o.siteSegments.getGaps(),M="FooterContainer"===r,O=e.has(_,"pagesToFooterGap"),A=M&&O;return{top:y,bottom:v,left:S,right:P,topLeft:E,topRight:C,bottomLeft:T,bottomRight:I,closeGaps:l&&e.has(_,"headerToPagesGap")||A,dragAndPush:function(e,t,o,i){var n=e.multiselect.containsSiblingsOnly(t),a=e.components.layout.isPinned(t),r=e.components.is.repeaterItem(t)||e.components.is.descendantOfRepeaterItem(t),s=0!==o.rotationInDegrees;return n&&(i.verticallyMovable||i.canMoveUp)&&i.anchorableFrom&&!a&&!r&&!s}(o,i,n,a),resizeOnlyProportionally:a.resizeOnlyProportionally,resizeAndPush:function(o,i,n,a){var r=e.some(i,function(e){return o.components.getType(e)===t.constants.COMP_TYPES.POPUP_CONTAINER}),s=o.components.is.repeaterItem(i)||o.components.is.descendantOfRepeaterItem(i),l=0!==n.rotationInDegrees,c=o.multiselect.isMultiselect(i),p=o.components.is.group(i),d=o.components.layout.isPinned(i);return!c&&a.verticallyResizable&&a.canResizeWithAnchors&&!a.resizeOnlyProportionally&&!d&&!r&&!p&&!s&&!l}(o,i,n,a),rotate:a.rotatable&&!d,bottomPage:l||M&&!O}}function p(t){var a=t.store.getState(),p=t.selection.getSelectedComponents(),m=t.components.layout.isShowOnFixedPosition(p),g=s(t,p,m),f=t.multiselect.isMultiselect(p),h=f?p:t.components.getChildren(p),b=r.getPosition(m),y=d.getCompTypeSuffix(p,t.documentServices),v=e.map(p,function(e){return t.components.getType(e)}),S=t.components.data.get(e.head(p)),P=t.components.is.groupedComponent(p),E=r.getBoundingStyle(m,g,p,1),C=t.components.is.page(p),T=t.documentServices.siteSegments.getPagesContainer(),I=t.documentServices.siteSegments.getFooter(),_=t.documentServices.siteSegments.getSiteStructure(),M=C?t.getCompRestrictions(T):u.getSelectedCompRestrictions(a),O=M.isControlledByParent&&t.getCompRestrictions(t.components.getContainer(p));return{comps:p,compType:y,compTypes:v,position:b,layout:g,subComps:h,subCompLayouts:function(e,t){return t.reduce(function(o,i){var n=t&&e.components.layout.isShowOnFixedPosition(i);return o[i.id]=s(e,i,n),o},{})}(t,h),isShowOnAllPages:t.components.isShowOnAllPages(p),componentUIColor:l(t,p),subComponentsUIColor:function(e,t){return t.reduce(function(t,o){return t[o.id]=l(e,o),t},{})}(t,h),possibleLayoutActionsMap:M,relativeToStructureLayout:t.components.layout.getRelativeToStructure(p),isHorizontallyStretchedToScreen:t.components.layout.isHorizontallyStretchedToScreen(p),isSameRef:t.utils.isSameRef,registerMouseMoveAction:t.mouseActions.registerMouseMoveAction,biEvent:t.bi.event,componentType:f?"multiselect":y,setIsMouseUpSelectionEnabled:t.selection.setIsMouseUpSelectionEnabled,updateLayout:t.components.layout.update,addToHistory:t.history.add,isGroupedComponent:P,isGroup:t.components.is.group(p),areComponentsOfSamePage:t.multiselect.areComponentsOfSamePage(p),isMultiSelectKeyPressed:t.selection.isMultiSelectKeyPressed,doubleClick:e.partial(i.doubleClick,t),compsWithoutSelectedAncestors:t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(p),moveToFooter:t.components.moveToFooter,compsData:S,isMultiselect:f,isMobile:t.documentServices.viewMode.get()===t.documentServices.viewMode.VIEW_MODES.MOBILE,isMobileEditor:t.isMobileEditor(),boundingStyle:E,isShowOnFixedPosition:m,isCurrentPageLandingPage:t.isCurrentPageLandingPage(),pagesContainer:T,isPage:C,isDirectChildOfMasterPage:t.utils.isSameRef(t.components.getContainer(p),_),pagesContainerLayout:t.components.layout.getRelativeToScreen(T),footerLayout:t.components.layout.getRelativeToScreen(I),getGaps:t.siteSegments.getGaps,updateGaps:t.siteSegments.updateGaps,isUsingSectionsLayout:t.siteSegments.isUsingSectionsLayout(),canToggleShowOnAllPages:M.canToggleShowOnAllPages,isEditingText:t.text.isEditingText(),reAddedHiddenElement:t.mobile.hiddenComponents.getReAddedHiddenElement(),dimCompLabels:t.panelManager.getPanelsOfType(o.PANEL_TYPES.COMP).length>0,isContainsSiblingsOnly:t.multiselect.containsSiblingsOnly(p),isDeveloperModeEnabled:t.developerMode.isEnabled(),hideApplyModeFromClipboardSuggestion:t.copyPaste.hideApplyModeFromClipboardSuggestion,compNickname:t.components.getNickname(p[0]),compLinkValue:S&&n.link.getLinkValueAsString(t,S.link),groupAncestorStyle:function(e,t,o,i,n){var a=!o&&i?r.findFirstContainerMatchingConditions(e,t,[e.components.is.group]):null;if(!a)return null;var s=e.components.layout.getRelativeToScreen(a);return r.getBoundingStyle(n,s,t,1)}(t,p,f,P,m),setRotateKnobRect:t.setEditBoxRotateKnobRect,knobsMap:c(t,p,g,M,y,v),dimmedHandles:!1,draggable:O?O.horizontallyMovable||O.verticallyMovable:M.horizontallyMovable||M.verticallyMovable}}var d=a.components.selectors,u=a.selection.selectors,m={DESKTOP:{"wysiwyg.viewer.components.HeaderContainer":!0,"wysiwyg.viewer.components.FooterContainer":!0},MOBILE:{"wysiwyg.viewer.components.HeaderContainer":!0,"wysiwyg.viewer.components.SiteRegionContainer":!0,"wysiwyg.viewer.components.FooterContainer":!0}};return p}),define("rEditor/rootComps/selectionBox/groupSelectionFrame.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{},this.props.groupAncestorStyle?e.createElement("div",{key:"markContainer",className:t({layout:!0,"secondary-component":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.groupAncestorStyle}):null)}}),define("rEditor/rootComps/selectionBox/groupSelectionFrame",["create-react-class","prop-types","lodash","rEditor/rootComps/selectionBox/groupSelectionFrame.rt"],function(e,t,o,i){"use strict";return e({displayName:"groupSelectionFrame",PropTypes:{selectedComponents:t.oneOfType([t.object,t.arrayOf(t.object)]).isRequired,groupAncestorStyle:t.object},render:i})}),define("rEditor/rootComps/selectionBox/componentLabels.rt",["react","lodash","baseUI","constants"],function(e,t,o,i){"use strict";return function(){return e.createElement("span",{className:t(this.getContainerClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.labelInlineStyles},this.props.isPinnedToPage?e.createElement("span",{key:"pinModeIndicator",className:t(this.getPinSymbolContainerClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(o.symbol,{name:"pinModeIndicator",className:"symbol-pinModeIndicator"})):null,this.props.showComponentType&&this.props.componentType?e.createElement("span",{key:"componentTypeLabel",className:t(this.getComponentTypeLabelClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},this.props.componentType):null,this.props.showComponentNickname&&this.props.componentNickname?e.createElement(o.tooltip,{value:"PLATFORM_CONNECTED_ELEMENT_SETTINGS_TOOLTIP",styleType:"normal",alignment:i.UI.TOOLTIP.ALIGNMENT.TOP,key:"componentNicknameLabel",disabled:!this.props.isConnected,shouldTranslate:!0},e.createElement("span",{className:t(this.getComponentNicknameClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}," ",this.props.componentNickname)):null,this.props.infoText&&this.props.shouldShowConnectionIndication?e.createElement(o.infoIcon,{key:"infoIcon",className:"label-info-icon-container",text:this.props.infoText,symbolName:"connectedInfoIcon"}):null)}}),define("rEditor/rootComps/selectionBox/componentLabels",["lodash","constants","create-react-class","prop-types","rEditor/rootComps/selectionBox/componentLabels.rt"],function(e,t,o,i,n){"use strict";return o({displayName:"componentLabels",propTypes:{showComponentType:i.bool,showComponentNickname:i.bool,shouldShowConnectionIndication:i.bool,isLabelLarge:i.bool,isLabelBelowLine:i.bool,componentUIColor:i.oneOf(e.values(t.COMPONENT_UI_COLORS)),isPinnedToPage:i.bool,componentType:i.string,componentNickname:i.string,labelInlineStyles:i.object,isDimmed:i.bool,isLabelBottom:i.bool},getContainerClasses:function(){return{"component-labels":!0,"label-small":!this.props.isLabelLarge,"label-large":this.props.isLabelLarge,"label-above-line":!this.props.isLabelBelowLine,dimmed:this.props.isDimmed,"label-bottom":this.props.isLabelBottom,"label-top":!this.props.isLabelBottom}},getComponentTypeLabelClasses:function(){return{"label-comp-type":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},getComponentNicknameClasses:function(){return{"label-comp-nickname":!0,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},getPinSymbolContainerClasses:function(){return{"symbol-container":!0,"connected-comp":this.props.showComponentNickname&&this.props.isConnected,"components-ui-color-orange":this.props.componentUIColor===t.COMPONENT_UI_COLORS.ORANGE}},render:n})}),define("rEditor/rootComps/selectionBox/editBox.rt",["react","lodash","core","baseUI","baseUILib","util","rEditor/rootComps/selectionBox/groupSelectionFrame","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(e,t,o,i,n,a,r,s,l){"use strict";return function(){function l(){var l=this.props.knobsMap,c=a.translate;return e.createElement.apply(this,["div",{className:t(this.getEditBoxClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},this.hasSubComponents()?t.map(this.props.subComps,function(o,i,n,a){return e.createElement("div",{className:t(this.getSubComponentLayoutClasses(n.id)).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:a,style:this.getLayoutStyle(this.props.subCompLayouts[n.id])})}.bind(this,l,c)):null,e.createElement(r,{selectedComponents:this.props.comps,groupAncestorStyle:this.props.groupAncestorStyle}),this.shouldShowPadding()?function(t,o){var i=this.getPaddingStyle();return e.createElement("div",{className:"padding-wrapper",key:"paddingWrapper",style:i.wrapper},e.createElement("div",{className:"left-padding",style:i.left},e.createElement("div",{className:"min-indicator-margin",style:{top:this.getMarginLabelTop()}},this.props.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleLeft"},this.getMarginValue("left"),"\n                "):null)),e.createElement("div",{className:"right-padding",style:i.right},e.createElement("div",{className:"min-indicator-margin",style:this.props.layout.x<56?{right:0,position:"absolute",top:this.getMarginLabelTop()}:{top:this.getMarginLabelTop()}},this.props.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleRight"},this.getMarginValue("right"),"\n                "):null)))}.apply(this,[l,c]):null,e.createElement(n.Tooltip,this.getTooltipProps(),e.createElement("div",{className:t(this.getBoundingClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.boundingStyle},this.shouldShowDragBounding()?e.createElement("span",{className:"indicator dragging",key:"dragBoundingStyle"},"\n                x: ",parseInt(this.props.relativeToStructureLayout.bounding.x,10),", y: ",parseInt(this.props.relativeToStructureLayout.bounding.y,10),"\n            "):null,!this.props.possibleLayoutActionsMap.resizable&&!this.props.possibleLayoutActionsMap.resizeOnlyProportionally||this.isHorizontallyStretchedToScreen?null:e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyle"},"\n                     W: ",parseInt(this.props.relativeToStructureLayout.bounding.width,10),", H: ",parseInt(this.props.relativeToStructureLayout.bounding.height,10),"\n            "))),e.createElement(i.tooltip,{id:this.getLinkedToTooltipId(this.props.compsData),key:this.getLinkedToTooltipId(this.props.compsData),value:this.getLinkDescriptionFromData(this.props.compsData),alignment:"right",delay:"500",width:"260px",marginsFromElement:9,disabled:!this.shouldShowLinkedToTooltip(),shouldTranslate:!1,openTriggers:[i.uiConstants.TOOLTIP.TRIGGERS.IMMEDIATE,i.uiConstants.TOOLTIP.TRIGGERS.MOUSE_ENTER]},e.createElement("div",{className:t(this.getLayoutClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.isMultiselect?this.props.boundingStyle:this.getLayoutStyle(this.props.layout)},this.props.comps&&1===this.props.comps.length?e.createElement(s,{key:"compLabels",shouldShowConnectionIndication:this.shouldShowConnectionIndication(),infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",showComponentNickname:this.props.isDeveloperModeEnabled,componentUIColor:this.props.componentUIColor,componentNickname:this.getComponentNickname(),labelInlineStyles:this.getComponentLabelsInlineStyles(),isDimmed:this.props.dimCompLabels,isLabelBottom:this.props.isLabelBottom}):null,l.topLeft?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP_LEFT")+" handle handle-resize-corner top left","data-direction-name":"topLeft",ref:"resizeTopLeft",onMouseDown:this.startResize,key:"resizeTopLeft"}):null,l.top?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP")+" handle handle-resize-side top","data-direction-name":"top",onMouseDown:this.startResize,key:"resizeTopCenter"}):null,l.topRight?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP_RIGHT")+" handle handle-resize-corner top right","data-direction-name":"topRight",onMouseDown:this.startResize,key:"resizeTopRight"}):null,l.right?e.createElement("span",{className:this.getResizeHandleCursorClass("RIGHT")+" handle handle-resize-side right","data-direction-name":"right",onMouseDown:this.startResize,key:"resizeMiddleRight"}):null,l.bottomRight?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_RIGHT")+" handle handle-resize-corner bottom right","data-direction-name":"bottomRight",onMouseDown:this.startResize,key:"resizeBottomRight"}):null,l.bottom?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM")+" handle handle-resize-side bottom","data-direction-name":"bottom",onMouseDown:this.startResize,key:"resizeBottomCenter"}):null,l.bottomPage?e.createElement(i.tooltip,{id:"pageResizeKnobTooltip",key:"pageResizeKnobTooltip",value:"OnStage_PageMinHeightHandle_Tooltip",alignment:"top",delay:"500",openTriggers:[],closeTriggers:[],onOpen:function(e,t){this.props.biEvent(o.bi.events.pageResize.PAGE_MIN_HEIGHT_TOOLTIP_APPEARED)}.bind(this,l,c)},e.createElement("span",{id:"resize-page",className:t({"footer-handle":"FooterContainer"===this.props.compType}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")+" "+this.getDragHandlersClass("resize","push"),onMouseDown:this.startPageResize,onDoubleClick:this.resetPageSize,onMouseEnter:this.showPageResizeKnobTooltip,onMouseLeave:this.hidePageResizeKnobTooltip,key:"resizeBottomPage"},e.createElement(i.symbol,{name:"adjustPageHeightButtonIcon"}),"\n                ",a.translate("OnStage_PageMinHeightHandle_Label"),"\n\n            ")):null,l.bottomLeft?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_LEFT")+" handle handle-resize-corner bottom left","data-direction-name":"bottomLeft",onMouseDown:this.startResize,key:"resizeBottomLeft"}):null,l.left?e.createElement("span",{className:this.getResizeHandleCursorClass("LEFT")+" handle handle-resize-side left","data-direction-name":"left",onMouseDown:this.startResize,key:"resizeMiddleLeft"}):null,l.rotate?e.createElement("span",{className:"handle handle-rotate",onMouseDown:this.startRotate,key:"rotate",ref:"rotate"},e.createElement(i.symbol,{name:"rotate"})):null,l.rotate&&this.isComponentRotated()?e.createElement("span",{className:"handle handle-rotate-cancel",onMouseDown:this.cancelRotation,style:{transform:"rotate("+(360-this.props.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"cancelRotate",ref:"cancelRotate"},e.createElement(i.symbol,{name:"rotateCancel"})):null,l.dragAndPush?e.createElement(i.tooltip,{id:"dragWithAnchorsVerticalTooltip",key:"dragWithAnchorsVerticalTooltip",value:"ONSTAGE_DragHandle_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("drag","push"),onMouseEnter:this.showDragWithAnchorsKnobTooltip,onMouseLeave:this.hideDragWithAnchorsKnobTooltip,onMouseDown:this.startDragAndPush,key:"dragWithAnchorsVertical"},e.createElement(i.symbol,{name:"pushAndEnforceAnchors"}),"\n            ",a.translate("ONSTAGE_DragHandle_Hover_Text"))):null,l.closeGaps?e.createElement(i.tooltip,{id:"closeGapsKnobTooltip",key:"closeGapsTooltip",value:this.props.isPage?"Onstage_DragPage_CloseGap_Tooltip":"OnStage_DragFooter_CloseGap_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("drag","pull"),onMouseEnter:this.showCloseGapsKnobTooltip,onMouseLeave:this.hideCloseGapsKnobTooltip,onDoubleClick:this.closeGap.bind(this,this.props.isPage),onMouseDown:this.startCloseGap},e.createElement(i.symbol,{name:"pullAndEnforceAnchors"}),a.translate(this.props.isPage?"Onstage_DragPage_CloseGap_Label":"OnStage_DragFooter_CloseGap_Label"))):null,l.resizeAndPush?e.createElement(i.tooltip,{id:"resizeWithAnchorsBottomTooltip",key:"resizeWithAnchorsBottomTooltip",value:"OnStage_StretchHandle_Tooltip",alignment:"bottom",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:this.getDragHandlersClass("resize","push"),onMouseEnter:this.showResizeWithAnchorsKnobTooltip,onMouseLeave:this.hideResizeWithAnchorsKnobTooltip,onMouseDown:this.startResizeAndPush,key:"resizeWithAnchorsBottom"},e.createElement(i.symbol,{name:"resizeAndEnforceAnchors"}),"\n            ",a.translate("OnStage_StretchHandle_Hover_Text"))):null,this.props.possibleLayoutActionsMap.rotatable?e.createElement("span",{className:"indicator",style:{transform:"rotate("+(360-this.props.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"rotationIndicator"},Math.floor(this.props.layout.rotationInDegrees),"°\n        "):null)),this.canBeMovedToFooter()?e.createElement("span",{className:"move-to-footer",key:"moveToFooter",style:this.getMoveToFooterStyle(),onMouseDown:this.moveToFooter},c("OnStage_MoveToFooter_Button"),"\n\n            ",e.createElement(i.symbol,{name:"moveToFooterArrow"})):null])}return l.apply(this,[])}}),define("rEditor/rootComps/selectionBox/editBox",["react","create-react-class","prop-types","lodash","core","constants","baseUI","experiment","rEditor/utils/mouseMoveActions/closeGaps","rEditor/utils/mouseMoveActions/baseResize","rEditor/utils/mouseMoveActions/pageResize","rEditor/utils/mouseMoveActions/baseResizeAndPush","rEditor/utils/mouseMoveActions/baseRotate","rEditor/utils/mouseMoveActions/baseDragAndPush","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion","util","higherOrderComponents","rEditor/rootComps/selectionBox/editBoxMapper","rEditor/rootComps/selectionBox/editBox.rt"],function(e,t,o,i,n,a,r,s,l,c,p,d,u,m,g,f,h,b,y){"use strict";function v(e,t){var o=t-(e.bounding.y+e.bounding.height);return o>=0&&o<=S}var S=21,P={px:"px",pct:"%",vw:"%"},E=["TOP_LEFT","TOP","TOP_RIGHT","RIGHT","BOTTOM_RIGHT","BOTTOM","BOTTOM_LEFT","LEFT"],C=["top-left-resize-cursor","top-resize-cursor","top-right-resize-cursor","right-resize-cursor","bottom-right-resize-cursor","bottom-resize-cursor","bottom-left-resize-cursor","left-resize-cursor"],T=t({displayName:"editBox",propTypes:{comps:o.oneOfType([o.object,o.arrayOf(o.object)]).isRequired,isPinMode:o.bool,isConnectedToDataBinding:o.bool,isDim:o.bool,isResizing:o.bool,isDragging:o.bool,isRotating:o.bool,applyModeFromClipboardSuggestion:o.object,labelsOffset:o.number,layout:o.object,subComps:o.array,subCompLayouts:o.object,isShowOnAllPages:o.bool,componentUIColor:o.oneOf(i.values(a.COMPONENT_UI_COLORS)),subComponentsUIColor:o.object,possibleLayoutActionsMap:o.object,relativeToStructureLayout:o.object,isHorizontallyStretchedToScreen:o.bool,isSameRef:o.func,registerMouseMoveAction:o.func,biEvent:o.func,componentType:o.string,setIsMouseUpSelectionEnabled:o.func,updateLayout:o.func,addToHistory:o.func,isGroupedComponent:o.bool,isGroup:o.bool,areComponentsOfSamePage:o.bool,compType:o.oneOfType([o.string,o.arrayOf(o.string)]),compTypes:o.array,isMultiSelectKeyPressed:o.func,doubleClick:o.func,compsWithoutSelectedAncestors:o.oneOfType([o.object,o.arrayOf(o.object)]),moveToFooter:o.func,compsData:o.object,isMultiselect:o.bool,isMobile:o.bool,isMobileEditor:o.bool,boundingStyle:o.object,isShowOnFixedPosition:o.bool,isCurrentPageLandingPage:o.bool,pagesContainer:o.object,isPage:o.bool,pagesContainerLayout:o.object,footerLayout:o.object,updateGaps:o.func,getGaps:o.func,isDirectChildOfMasterPage:o.bool,isUsingSectionsLayout:o.bool,canToggleShowOnAllPages:o.bool,isEditingText:o.bool,reAddedHiddenElement:o.object,dimCompLabels:o.bool,isDeveloperModeEnabled:o.bool,hideApplyModeFromClipboardSuggestion:o.func,compNickname:o.string,compLinkValue:o.string,groupAncestorStyle:o.object,position:o.string,setRotateKnobRect:o.func,knobsMap:o.object,dimmedHandles:o.bool,draggable:o.bool},getEditBoxClasses:function(){return{"edit-box":!0,small:this.props.layout.width<=50,"dimmed-handles":this.props.dimmedHandles,draggable:this.props.draggable,"show-move-to-footer-button":this.shouldShowMoveToFooterButton,dragging:this.props.isDragging,resizing:this.props.isResizing,rotating:this.props.isRotating,"multi-select":this.props.isMultiselect}},isComponentRotated:function(){return 0!==this.props.layout.rotationInDegrees},getLayoutStyle:function(e){var t="rotate("+e.rotationInDegrees+"deg)",o={position:this.props.position,top:e.y-1,left:e.x-1,width:e.width,height:e.height,transform:t,WebkitTransform:t};if("StripColumnsContainer"===this.props.compType&&(o.boxSizing="border-box",o.height+=1),s.isOpen("se_editBoxPerformance")){var i="translate3d("+(e.x-1)+"px,"+(e.y-1)+"px,0) "+t;o.left=0,o.top=0,o.transform=i,o.WebkitTransform=i}return o},getMoveToFooterStyle:function(e){return{top:(e=e||this.props.layout).bounding.y+e.bounding.height-14,left:e.bounding.x+e.bounding.width/2}},shouldShowPadding:function(){return s.isOpen("se_screenWidthEditBox")&&this.isHorizontallyStretchedToScreen},getPaddingStyle:function(){var e=this.props.isShowOnFixedPosition?"fixed":"absolute";return{wrapper:{top:this.props.layout.y-1,height:this.props.layout.height+2,position:e},left:{top:0,bottom:0,left:0,width:this.props.layout.x},right:{top:0,bottom:0,left:this.props.layout.x+this.props.layout.width,right:0}}},componentWillReceiveProps:function(e){var t=!e.isSameRef(this.props.comps,e.comps);this.props.isResizing||this.props.isRotating||this.props.isPinMode||t?this.shouldShowMoveToFooterButton=!1:e.isDragging&&(this.shouldShowMoveToFooterButton=this.getShouldShowMoveToFooterButton(e))},getResizeHandleCursorClass:function(e){var t=i.indexOf(E,e),o=this.props.layout.rotationInDegrees+22.5;o>=360&&(o-=360);var n=t+Math.floor(o/45);n>=C.length&&(n-=C.length);return C[n]},getShouldShowMoveToFooterButton:function(e){return!(e.isMobileEditor||e.isCurrentPageLandingPage||e.isShowOnFixedPosition||e.isEditingText)&&(e.isUsingSectionsLayout&&e.isDirectChildOfMasterPage?v(e.layout,e.footerLayout.y):!(e.isShowOnAllPages||!e.canToggleShowOnAllPages)&&v(e.layout,e.pagesContainerLayout.y+e.pagesContainerLayout.height))},startPageResize:function(e){this.props.registerMouseMoveAction(p,{evt:e,comps:this.props.comps}),this.hidePageResizeKnobTooltip(),e.stopPropagation()},resetPageSize:function(e){p.reset(),this.props.biEvent(n.bi.events.pageResize.PAGE_MIN_HEIGHT_RESET_MIN_HEIGHT),e.stopPropagation()},startResize:function(e){var t=e.target.getAttribute("data-direction-name");this.props.registerMouseMoveAction(c,{evt:e,directionName:t,comps:this.props.comps}),this.props.biEvent(n.bi.events.editBox.RESIZE,{origin:"editBox",handle_value:t,component_type:this.props.componentType}),e.stopPropagation()},startRotate:function(e){this.props.registerMouseMoveAction(u,{evt:e,comps:this.props.comps}),e.stopPropagation()},cancelRotation:function(e){this.props.setIsMouseUpSelectionEnabled(!1),this.props.updateLayout(this.props.comps,{rotationInDegrees:0}),this.props.biEvent(n.bi.events.editBox.CANCEL_ROTATE_COMPONENT),this.props.addToHistory("Rotation canceled"),e.stopPropagation()},canBeMovedToFooter:function(){return!this.props.isGroupedComponent&&this.props.areComponentsOfSamePage},startDragAndPush:function(e){this.props.registerMouseMoveAction(m,{evt:e,comps:this.getCompToDragAndPush()}),this.props.biEvent(n.bi.events.editBox.DRAG_BY_HANDLE,{component_type:this.props.compType}),this.hideKnobTooltip("dragWithAnchorsVerticalTooltip"),e.stopPropagation()},startCloseGap:function(e){this.props.registerMouseMoveAction(l,{evt:e,comps:this.props.comps}),this.hideKnobTooltip("closeGapsKnobTooltip"),e.stopPropagation()},closeGap:function(e,t){var o=e?"headerToPagesGap":"pagesToFooterGap",a=i.set({},o,0);this.props.updateGaps(a),this.props.biEvent(n.bi.events.editBox.DRAG_GAP,{gap_type:o,gap_size_start:i.get(this.props.getGaps(),o),gap_size_end:0}),this.props.addToHistory("gap removed"),t.stopPropagation()},startResizeAndPush:function(e){this.props.registerMouseMoveAction(d,{evt:e,comps:this.props.comps}),this.props.biEvent(n.bi.events.editBox.RESIZE_BY_HANDLE,{component_type:this.props.compType}),this.hideKnobTooltip("resizeWithAnchorsBottomTooltip"),e.stopPropagation()},onDoubleClick:function(e){if(!this.props.isMultiSelectKeyPressed(e)){var t={evt:e,comp:this.props.comps};this.props.doubleClick(t)}},showKnobTooltip:function(e){this.props.isResizing||this.props.isDragging||(this.showTooltipTimeout=window.setTimeout(function(){r.tooltipManager.show(e)},800))},hideKnobTooltip:function(e){this.showTooltipTimeout&&(window.clearTimeout(this.showTooltipTimeout),this.showTooltipTimeout=null),r.tooltipManager.hide(e)},showDragWithAnchorsKnobTooltip:function(){this.showKnobTooltip("dragWithAnchorsVerticalTooltip")},showResizeWithAnchorsKnobTooltip:function(){this.showKnobTooltip("resizeWithAnchorsBottomTooltip")},showPageResizeKnobTooltip:function(){this.showKnobTooltip("pageResizeKnobTooltip")},showCloseGapsKnobTooltip:function(){this.showKnobTooltip("closeGapsKnobTooltip")},hidePageResizeKnobTooltip:function(){this.hideKnobTooltip("pageResizeKnobTooltip")},hideDragWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("dragWithAnchorsVerticalTooltip")},hideCloseGapsKnobTooltip:function(){this.hideKnobTooltip("closeGapsKnobTooltip")},hideResizeWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("resizeWithAnchorsBottomTooltip")},moveToFooter:function(e){this.props.moveToFooter(this.props.compsWithoutSelectedAncestors),this.props.biEvent(n.bi.events.editBox.MOVE_TO_FOOTER,{component_type:this.props.compType}),this.shouldShowMoveToFooterButton=!1,e.stopPropagation()},hasSubComponents:function(){return this.props.isGroup||"StripColumnsContainer"===this.props.compType||this.props.isMultiselect},setRotateKnobRect:function(){if(!this.isDuringMouseAction()){var e=this.props.layout.rotationInDegrees?this.refs.cancelRotate&&this.refs.cancelRotate.getBoundingClientRect():this.refs.rotate&&this.refs.rotate.getBoundingClientRect(),t=i.pick(e,["x","y","width","height","top","right","bottom","left"]);e&&this.props.setRotateKnobRect(t)}},getMarginLabelTop:function(){return this.props.layout.height/2-30},getLinkedToTooltipId:function(e){return e?"linkedTo-"+e.id:"linkedTo"},getLinkDescriptionFromData:function(t){if(!t)return"";var o=f.translate("mobile_link_notification_tooltip"),i=this.props.compLinkValue;return e.createElement(r.popoverTemplates.iconAndText,{text:o+" "+i,icon:"mobileCompWithLink",shouldTranslate:!1})},isDuringMouseAction:function(){return this.props.isDragging||this.props.isResizing||this.props.isRotating},shouldShowLinkedToTooltip:function(){var e=!(!this.props.compsData||!this.props.compsData.link),t=i.get(this.props.reAddedHiddenElement,"addingPhase")!==n.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE;return this.props.isMobile&&!this.isDuringMouseAction()&&!this.props.isMultiselect&&e&&!t},getMarginValue:function(e){var t=this.props.layout.docked&&this.props.layout.docked[e].px>=0?"px":"vw";return this.props.layout.docked&&this.props.layout.docked[e][t]+P[t]},getApplyModeFromClipboardSuggestion:function(){return e.createElement(g,{text:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_TEXT",linkActionText:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_BUTTON"})},shouldShowDragBounding:function(){var e=i.every(this.props.compTypes,function(e){return"platform.components.AppController"===e});return this.props.possibleLayoutActionsMap.movable&&!e},shouldShowConnectionIndication:function(){return this.props.isConnectedToDataBinding&&!this.props.isDragging},shouldShowMobileReAddedBubble:function(){if(!s.isOpen("se_animateReAddMobileItem"))return!1;var e=i.get(this.props.reAddedHiddenElement,["compRef","id"]),t=!!e&&i.get(i.head(this.props.comps),"id")===e,o=i.get(this.props.reAddedHiddenElement,"addingPhase")===n.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.FINISH;return this.props.isMobileEditor&&t&&o},getComponentNickname:function(){return"#"+this.props.compNickname},getComponentLabelsInlineStyles:function(){return{left:this.props.labelsOffset}},getCompToDragAndPush:function(){return this.props.isPage?[this.props.pagesContainer]:this.props.compsWithoutSelectedAncestors},componentDidMount:function(){this.setRotateKnobRect()},componentDidUpdate:function(){this.setRotateKnobRect()},getTooltipProps:function(){if(this.shouldShowMobileReAddedBubble())return{id:"reAddedMobileCompRef",key:"reAddedMobileCompRef",content:"mobile_hidden_items_show_success_tooltip",alignment:"RIGHT",isOpen:!0,openOnMouseEnter:!1,closeOnMouseLeave:!1};if(this.props.applyModeFromClipboardSuggestion){var e=this.props.isSameRef(this.props.comps,this.props.applyModeFromClipboardSuggestion.selectedComponents);return{id:"applyModeFromClipboardSuggestion",key:"applyModeFromClipboardSuggestion",content:this.getApplyModeFromClipboardSuggestion(),onOuterClick:this.props.hideApplyModeFromClipboardSuggestion,maxWidth:320,isOpen:e,alignment:"LEFT"}}return{isOpen:!1,openOnMouseEnter:!1}},getDragHandlersClass:function(e,t){var o="handle handle-"+t+" handle-"+e+"-with-anchors";if(s.isOpen("se_showTextOnDragAnchors")){if(this.props.layout.width>=400)return o+" showHover"}return o},getSubComponentLayoutClasses:function(e){return{layout:!0,"secondary-component":this.props.isGroup,"components-ui-color-orange":this.props.subComponentsUIColor[e]===a.COMPONENT_UI_COLORS.ORANGE}},getBoundingClasses:function(){return{bounding:!0,"components-ui-color-orange":this.props.componentUIColor===a.COMPONENT_UI_COLORS.ORANGE}},getLayoutClasses:function(){return{layout:!0,"secondary-component":this.props.isMultiselect,"components-ui-color-orange":this.props.componentUIColor===a.COMPONENT_UI_COLORS.ORANGE}},render:y}),I=h.connectEditorAPI(b)(h.renderWhenMutated(T));return I.pure=T,I}),define("rEditor/rootComps/compControls/compControls.rt",["react","lodash","rEditor/rootComps/gfpp/gfpp","rEditor/rootComps/selectionBox/focusBox","rEditor/rootComps/selectionBox/editBox","core","experiment"],function(e,t,o,i,n,a,r){"use strict";return function(){return e.createElement("div",{style:{visibility:1===this.props.siteScale?"visible":"hidden"},onMouseEnter:this.props.clearHoverBox},this.props.panel?e.createElement(a.lazyComponent,t.assign({},{ref:"compPanel",moduleName:this.props.panel.name,key:a.lazyComponent.isLoaded(this.props.panel.name)?this.props.panel.name:"loading",onModuleLoaded:function(){this.forceUpdate()}.bind(this)},this.getPanelProps())):null,this.getColumnsContainer()?e.createElement(a.lazyComponent,t.assign({},{moduleName:"columnsControls",key:"columnsControls"},this.getColumnsControlsProps())):null,this.shouldShowFocusBox()?e.createElement(i,{key:"focusBox-"+this.props.focusedContainer.id,ref:"focusBox",navControlsStyle:this.state.navControlsStyle,focusedContainer:this.props.focusedContainer,selectedComponents:this.props.selectedComponents,tabIndicationState:this.props.tabIndicationState}):null,this.shouldShowAttachFocusBox()?e.createElement(i,{key:"attachFocusBox",navControlsStyle:this.state.attachCandidateNavControlsStyle,focusedContainer:this.props.attachCandidate,selectedComponents:this.props.selectedComponents}):null,this.shouldRenderEditBox()?e.createElement(n,{ref:"editBox",key:"editBox",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,isPinMode:this.props.isPinMode,isDim:this.isDesignPanelOpen(),isConnectedToDataBinding:this.isConnectedToDataBinding(),focusedContainer:this.props.focusedContainer,performingMouseMoveAction:this.props.performingMouseMoveAction,onContextMenu:this.props.onContextMenu,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,labelsOffset:this.state.editBoxLabelsOffset}):null,this.shouldShowGfpp()?e.createElement(o,{key:"gfpp",setGFPPMeasureFunc:this.setGFPPMeasureFunc,style:this.state.gfppStyle,selectedComponent:this.props.selectedComponents}):null)}}),define("rEditor/rootComps/compControls/compControls",["reactDOM","create-react-class","prop-types","lodash","core","jquery","uiConstants","rEditor/rootComps/compControls/compControls.rt"],function(e,t,o,i,n,a,r,s){"use strict";function l(e,t){return Math.ceil(e-t+m)}function c(e,t,o,a){var s=this.getEditorAPI(),l=void 0,c={id:i.head(s.selection.getSelectedComponents()).id,layout:e},d=i.head(s.selection.getSelectedComponents()),u=d&&s.documentServices.platform.controllers.connections.get(d);c=d?{id:d.id,layout:e,hasLabels:!i.isEmpty(u)}:{},this.isCompRequiresCustomGfppPos(e,s.selection.getSelectedComponents())&&(l=this.props.lastSelectionClickPos);var m=s.getLeftBarButtonsBoundingRect(),g=(this.props.focusedContainer&&(this.props.focusedContainer.id,s.selection.getSelectedComponents()[0].id),s.getNavControlsSize()),f=this.props.focusedContainer&&this.getBoundingLayoutRelativeToScreen(this.props.focusedContainer),h=this.props.focusedContainer?{id:this.props.focusedContainer.id,layout:f}:null,b={gfppSize:o,viewPort:function(e,t,o,i,a){var s=!t.fixedPosition,l=n.utils.stageUtils.getViewPort(s,o);return a&&(l.y=s?n.utils.scrollUtils.getScroll().scrollTop+r.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS:r.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS),l||{}}(0,e,m,0,g),navControlsSize:g,pageXBoundary:function(e){var t=e.documentServices.siteSegments.getPagesContainer();return e.components.layout.getRelativeToScreen(t).x}(s),rotateKnobMargins:a,alignToPageBoundaries:s.documentServices.viewMode.get()===s.documentServices.viewMode.VIEW_MODES.MOBILE};return p.getCompControlsPositions(h,t,c,b,l)}var p=n.utils.compControlsMeasurer,d=["wysiwyg.common.components.anchor.viewer.Anchor"],u=["wysiwyg.viewer.components.WRichText","wysiwyg.viewer.components.HoverBox","wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShow",n.constants.COMP_TYPES.POPUP_CONTAINER],m=3,g={top:0,bottom:0,left:0,right:0};return t({displayName:"compControls",mixins:[n.mixins.editorAPIMixin],propTypes:{panel:o.shape({name:o.string,props:o.object}),isDragging:o.bool,isResizing:o.bool,isRotating:o.bool,isSectionDragging:o.bool,selectedComponents:o.arrayOf(o.object).isRequired,focusedContainer:o.object,hoveredComp:o.oneOfType([o.bool,o.object]),clearHoverBox:o.func,performingMouseMoveAction:o.bool,lastSelectionClickPos:o.object,onContextMenu:o.func,previewPosition:o.object.isRequired,attachCandidate:o.object,applyModeFromClipboardSuggestion:o.object},getInitialState:function(){return this.panelReady=!1,this.lastMeasuredPanelHeight=0,this.throttledSetCompsStyle=i.throttle(this.setCompsStyle,50,{leading:!1,trailing:!0}),{gfppStyle:{top:0,left:0,visibility:"hidden",position:"absolute"},compPanelStyle:{top:0,left:0,opacity:0,visibility:"hidden"},navControlsStyle:{top:0,left:0},editBoxLabelsOffset:0,isSelectedComponentConnected:!1}},setGFPPMeasureFunc:function(e){this.gfppMeasureFunc=e},isCompsStyleSet:function(){return!this.props.panel||"hidden"!==this.state.compPanelStyle.visibility&&!!this.lastMeasuredPanelHeight&&0!==this.state.compPanelStyle.left&&0!==this.state.compPanelStyle.top},shouldShowGfpp:function(){return!this.props.isDragging&&!this.props.isResizing&&!this.props.isRotating},getBoundingLayoutRelativeToScreen:function(e){var t=this.getEditorAPI(),o=t.components.layout.getRelativeToScreen(e);return i.assign(o.bounding,{fixedPosition:t.components.layout.isShowOnFixedPosition(e),rotationInDegrees:o.rotationInDegrees})},getCompControlsStyles:function(e,t,o,n,a){var r=this.getEditorAPI(),s=this.props.panel&&(e||!this.isCompsStyleSet()),l=c.call(this,n,o,t,a);if(l.gfppStyle.visibility="inherit",l.gfppStyle.visibility="inherit",s){if(l.compPanelStyle.top+=this.props.previewPosition.top,i.has(l.compPanelStyle,"left")&&(l.compPanelStyle.left+=this.props.previewPosition.left),!n.fixedPosition){var p=r.ui.scroll.getScroll();l.compPanelStyle.top-=p.scrollTop}i.assign(l.compPanelStyle,this.getPanelStyle())}else l=i.pick(l,["gfppStyle","navControlsStyle","editBoxLabelsOffset"]);return n.fixedPosition?(l.gfppStyle.top+=this.props.previewPosition.top,i.has(l.gfppStyle,"left")&&(l.gfppStyle.left+=this.props.previewPosition.left),l.gfppStyle.position="fixed"):l.gfppStyle.position="absolute",this.props.isPinMode&&(l.gfppStyle.visibility="hidden"),l},getPanelStyle:function(){var e={};return this.panelReady?(e.visibility="inherit",e.opacity=1):(e.visibility="hidden",e.opacity=0),e},isCompRequiresCustomGfppPos:function(e){var t=this.getEditorAPI();if(i.includes(u,t.components.getType(t.selection.getSelectedComponents())))return!1;var o=r.CUSTOM_GFPP_POS.HEIGHT_TO_APPLY;return e.height>=o},getRotateKnobRect:function(){return this.getEditorAPI().getEditBoxRotateKnobRect()},isDesignPanelOpen:function(){var e=this.getEditorAPI().panelManager.getOpenPanels();return!!i.find(e,{name:n.constants.componentPanels.design})},getRotateKnobMargins:function(e){if(!e.rotationInDegrees)return g;var t=this.getRotateKnobRect();if(!t)return g;var o=this.getEditorAPI().ui.scroll.getScroll(),i=o.scrollTop-this.props.previewPosition.top,n=o.scrollLeft-this.props.previewPosition.left;return t={top:t.top+i,bottom:t.bottom+i,left:t.left+n,right:t.right+n},function(e,t){return t?{top:l(e.y,t.top),bottom:l(t.bottom,e.y+e.height),left:l(e.x,t.left),right:l(t.right,e.x+e.width)}:g}(e,t)},setCompsStyle:function(t){var o=this.getEditorAPI(),n=this.gfppMeasureFunc?this.gfppMeasureFunc():null;if(this.props.isPinMode&&(n={width:0,height:0}),n){var r=this.refs.compPanel?e.findDOMNode(this.refs.compPanel):null;this.lastMeasuredPanelHeight=r?a(r).height():0;var s=this.getBoundingLayoutRelativeToScreen(o.selection.getSelectedComponents()),l=this.getRotateKnobMargins(s),c=this.getCompControlsStyles(t,n,r,s,l);this.lastMeasuredPanelHeight||(c.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"});var p=i.pick(this.state,i.keys(c));i.every(c,function(e,t){var o=p[t];return i.every(e,function(e,t){var n=o[t];return i.isFinite(n)&&i.isFinite(e)?function(e,t,o){return o=o||0,Math.abs(e-t)<=o}(n,e,2):i.isEqual(n,e)})})||this.setState(c)}},onWindowScroll:function(){this.setCompsStyle()},onWindowResize:function(){this.debouncedSetCompsStyle||(this.debouncedSetCompsStyle=i.debounce(this.setCompsStyle,200)),this.debouncedSetCompsStyle(!0)},shouldShowFocusBox:function(){var e=this.getEditorAPI(),t=i.head(e.selection.getSelectedComponents()),o=i.get(this.props,"focusedContainer.id")===t.id;return this.props.focusedContainer&&(!(this.props.performingMouseMoveAction&&o)||i.isEqual(this.getEditorAPI().pages.popupPages.getPopupContainer(),t))},shouldShowAttachFocusBox:function(){return this.getEditorAPI().selection.getParentToFocus([this.props.attachCandidate])},shouldRenderEditBox:function(){var e=this.getEditorAPI();if(!e.selection.getSelectedComponents()||this.props.isSectionDragging)return!1;var t=this.getEditorAPI().components.getType(e.selection.getSelectedComponents());return!i.includes(d,t)},componentDidMount:function(){this.throttledSetCompsStyle();this.getEditorAPI().ui.scroll.addListener(this.onWindowScroll),window.addEventListener("resize",this.onWindowResize)},componentWillUnmount:function(){this.getEditorAPI().ui.scroll.removeListener(this.onWindowScroll),window.removeEventListener("resize",this.onWindowResize)},componentWillReceiveProps:function(e){var t=this.getEditorAPI(),o={},n=!i.get(e.panel,["props","useLastPanelPosition"]);!i.isEqual(this.props.panel,e.panel)&&n&&(o.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"},e.panel||(this.panelReady=!1));var a=!t.utils.isSameRef(t.selection.getSelectedComponents(),e.selectedComponents),r=!this.props.performingMouseMoveAction&&e.performingMouseMoveAction;(a||r)&&(o.gfppStyle={top:0,left:0,visibility:"hidden",position:"absolute"},o.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"}),i.isEmpty(o)||this.setState(o)},setAttachCandidateNavControlsStyle:function(){var t=this.refs.compPanel?e.findDOMNode(this.refs.compPanel):null,o=this.getBoundingLayoutRelativeToScreen(this.props.attachCandidate),i=!o.fixedPosition,a=this.getEditorAPI().getLeftBarButtonsBoundingRect(),r=n.utils.stageUtils.getViewPort(i,a),s={id:this.props.attachCandidate.id,layout:o},l=p.getCompControlsPositions(s,t,s,{viewPort:r});this.setState({attachCandidateNavControlsStyle:l.navControlsStyle})},componentDidUpdate:function(e){(function(e,t){var o=!i.isEqual(e.hoveredComp,t.hoveredComp),n=!i.isEqual(e.selectedComponents,t.selectedComponents);return(!t.performingMouseMoveAction||e.performingMouseMoveAction!==t.performingMouseMoveAction)&&(!o||n)})(e,this.props)&&this.throttledSetCompsStyle(),!i.isEqual(e.attachCandidate,this.props.attachCandidate)&&this.shouldShowAttachFocusBox()&&this.setAttachCandidateNavControlsStyle()},onPanelDragEnd:function(e){this.setState({compPanelStyle:e})},onCompPanelLoaded:function(){this.panelReady=!0,this.throttledSetCompsStyle()},getPanelProps:function(){var e=this.getEditorAPI();return i.assign({onDragEnd:this.onPanelDragEnd,onCompPanelLoaded:this.onCompPanelLoaded,style:this.state.compPanelStyle,selectedComponent:e.selection.getSelectedComponents(),compType:e.components.getType(e.selection.getSelectedComponents())},this.props.panel.props)},isColumnsContainer:function(e){return"wysiwyg.viewer.components.StripColumnsContainer"===this.getEditorAPI().components.getType(e)},getColumnsContainer:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents();if(this.isColumnsContainer(t))return t;var o=this.getEditorAPI().utils.findAncestorMatchesCondition(t,this.isColumnsContainer);return o?e.components.asArray(o):null},getColumnsControlsProps:function(){return{selectedComponents:this.getEditorAPI().selection.getSelectedComponents(),columnsContainer:this.getColumnsContainer()}},isConnectedToDataBinding:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents();return 1===t.length&&e.platform.controllers.connections.isConnectedToDataBindingController(t[0])},render:s})}),define("rEditor/rootComps/attachHighlight/attachHighlightMapper",["lodash","experiment","rEditor/rootComps/selectionBox/selectionBoxCommons"],function(e,t,o){"use strict";function i(t,o){if(o){var i=function(t,o){var i=e(o).thru(t.components.getType).thru(function(t){return e.split(t,".")}).last();return"Column"!==i||t.components.getSiblings(o).length?t.components.is.repeaterItem(o)?"repeaterItem":i:"StripContainer"}(t,o);return s[i]}}function n(e,t){return e.components.layout.getRelativeToScreen(t)}function a(e){var t=function(e){return n(e,e.selection.getSelectedComponents()[0])}(e);return{top:t.y,left:t.x,width:t.width,height:t.height}}function r(r,s){var l={label:i(r,s.attachCandidate),position:function(e,t){var i=function(e,t){var o=e.components.layout.getRelativeToScreen(t);if(e.components.layout.isShowOnFixedPosition(t)){var i=e.getPreviewPosition();o.y+=i.top,o.bounding.y+=i.top,o.x+=i.left,o.bounding.x+=i.left}return o}(e,t),n=e.components.layout.isShowOnFixedPosition(t),a=o.getPosition(n);return{top:i.y-2,left:i.x-2,height:i.height,width:i.width,position:a}}(r,s.attachCandidate),isMaster:function(e,t){return e.components.isShowOnAllPages(t)||e.components.isShowOnSomePages(t)}(r,s.attachCandidate)};return t.isOpen("attachImprovements")&&e.assign(l,{attachOverlayLayoutStyle:a(r),isBoxContainer:function(e,t){return"mobile.core.components.Container"===e.components.getType(t)}(r,s.attachCandidate),boxPosition:function(e,t){var o=n(e,t);return{top:o.y,left:o.x,height:o.height,width:o.width}}(r,s.attachCandidate)}),l}var s={HeaderContainer:"OnStage_AttachTo_Header",Page:"OnStage_AttachTo_Page",FooterContainer:"OnStage_AttachTo_Footer",Container:"OnStage_AttachTo_Box",HoverBox:"OnStage_AttachTo_Hover_Box",BoxSlideShowSlide:"OnStage_AttachTo_Slide",StripContainerSlideShowSlide:"OnStage_AttachTo_Slide",StripContainer:"OnStage_AttachTo_Strip",Column:"OnStage_AttachTo_Column",PopupContainer:"OnStage_AttachTo_PopUp",SiteRegionContainer:"OnStage_AttachTo_members_bar",repeaterItem:"OnStage_AttachTo_Repeater_Item"};return r}),define("rEditor/rootComps/attachHighlight/attachHighlight.rt",["react","lodash","experiment"],function(e,t,o){"use strict";return function(){return e.createElement("div",{},o.isOpen("attachImprovements")?e.createElement("div",{key:"attach-highlight",className:"attach-highlight"},e.createElement("div",{className:t({"highlight-container-exp":!0,master:this.props.isMaster,box:this.props.isBoxContainer}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.boxPosition},e.createElement("label",{},this.translateIfNeeded(this.props.label))),e.createElement("div",{style:this.props.attachOverlayLayoutStyle(),className:"attach-overlay"})):null,o.isOpen("attachImprovements")?null:e.createElement("div",{key:"experiment.isOpen('attachImprovements')",className:t({"highlight-container":!0,master:this.props.isMaster}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.position},e.createElement("label",{},this.translateIfNeeded(this.props.label))))}}),define("rEditor/rootComps/attachHighlight/attachHighlight",["create-react-class","prop-types","util","lodash","higherOrderComponents","rEditor/rootComps/attachHighlight/attachHighlightMapper","rEditor/rootComps/attachHighlight/attachHighlight.rt"],function(e,t,o,i,n,a,r){"use strict";var s=e({displayName:"attachHighlight",mixins:[o.translationMixin],propTypes:{label:t.string,position:t.shape({top:t.number,left:t.number,height:t.number,width:t.number}),isMaster:t.bool,attachCandidate:t.object,attachOverlayLayoutStyle:t.object,isBoxContainer:t.bool,boxPosition:t.object},render:r}),l=i.flow(n.connectEditorAPI(a))(s);return l.pure=s,l}),define("rEditor/rootComps/constraintArea/constraintArea.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["div",{},t.map(this.props.area,function(t,o){return e.createElement("div",{className:"negative-constraint-indication constraint-area",style:this.getPosition(t)},e.createElement("div",{className:"box"},e.createElement("label",{},this.translateIfNeeded("mobilemenu_Settings_fixed_area_label"))))}.bind(this))])}}),define("rEditor/rootComps/constraintArea/constraintArea",["create-react-class","core","lodash","util","rEditor/rootComps/constraintArea/constraintArea.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"constraintArea",mixins:[t.mixins.editorAPIMixin,i.translationMixin],getPosition:function(e){return{top:e.top,left:e.left,height:e.height,width:e.width}},render:n})}),define("rEditor/rootComps/snapLayer/snapLayer.rt",["react","lodash"],function(e,t){"use strict";return function(){return this.props.snapData?e.createElement("div",{className:"snap-layer",key:"layer"},e.createElement.apply(this,["svg",{},t.map(this.getRectanglesDrawData(),function(o,i){return e.createElement("rect",{className:t({"components-ui-color-orange":o.isOnMasterPage}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),x:o.x,y:o.y,height:o.height,width:o.width,key:"rectDrawData"+i})}.bind(this)),t.map(this.getLines(),function(t,o){return e.createElement("line",{x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y,key:"snapLine"+o})}.bind(this))])):null}}),define("rEditor/rootComps/snapLayer/snapLayer",["create-react-class","prop-types","lodash","rEditor/rootComps/snapLayer/snapLayer.rt"],function(e,t,o,i){"use strict";return e({displayName:"snapLayer",propTypes:{snapData:t.array},getRectanglesDrawData:function(){return o.flatMap(this.props.snapData,"rectanglesDrawData")},getLines:function(){return o.map(this.props.snapData,"line")},render:i})}),define("rEditor/rootComps/highlightsLayer/highlightsLayerUtils",["lodash"],function(e){"use strict";function t(t,o,i){var n={top:(o=function(t,o,i){if(o=e.cloneDeep(o),t.components.layout.isShowOnFixedPosition(i)){var n=t.getPreviewPosition();o.y+=n.top,o.bounding.y+=n.top,o.x+=n.left,o.bounding.x+=n.left}return o}(t,o,i)).y,left:o.x,width:o.width,height:o.height};if(o.rotationInDegrees){var a="rotate("+o.rotationInDegrees+"deg)";e.assign(n,{transform:a,WebkitTransform:a})}var r=t.components.layout.isShowOnFixedPosition(i)?"fixed":"absolute";e.assign(n,{position:r});return t.components.is.fullWidth(i)&&e.assign(n,{borderLeft:0,borderRight:0}),n}return{getStyle:t}}),define("rEditor/rootComps/highlightsLayer/highlightsLayerMapper",["lodash","rEditor/rootComps/highlightsLayer/highlightsLayerUtils","stateManagement"],function(e,t,o){"use strict";return function(i){var n=i.store.getState(),a=o.stage.selectors.isPerformingMouseMoveAction(n),r=o.highlights.selectors.getHighlights(n),s=e.map(r,function(o){var n=i.components.isShowOnAllPages(o.compRef)||i.components.isShowOnSomePages(o.compRef);return e.assign({},o,{style:t.getStyle(i,o.layout,o.compRef),isShownOnAllPages:n})});return{highlights:a?[]:s}}}),define("rEditor/rootComps/highlightsLayer/highlightsLayer.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["div",{},t.map(this.props.highlights,function(t,o){return e.createElement("div",{key:"highlight"+o,className:this.getHighlightClass(t),style:t.style})}.bind(this))])}}),define("rEditor/rootComps/highlightsLayer/highlightsLayer",["create-react-class","lodash","prop-types","higherOrderComponents","rEditor/rootComps/highlightsLayer/highlightsLayerMapper","rEditor/rootComps/highlightsLayer/highlightsLayer.rt"],function(e,t,o,i,n,a){"use strict";var r=e({displayName:"highlightsLayer",propTypes:{highlights:o.arrayOf(o.object)},getHighlightClass:function(e){var o=["highlightFrame",e.type];return e.isShownOnAllPages&&o.push("show-on-all-pages"),t.compact(o).join(" ")},stopEventPropagation:function(e){e.stopPropagation()},render:a}),s=t.flow(i.renderWhenMutated,i.connectEditorAPI(n))(r);return s.pure=r,s}),define("rEditor/rootComps/anchor/anchor.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("div",{className:"anchorWrapper",style:{top:this.getTopPosition()}},e.createElement("div",{className:"anchor-line before"}),e.createElement("div",{className:"anchor "+(this.props.isSelected?"anchor-selected":"")},e.createElement("div",{className:"anchorContent",onMouseDown:this.onMouseDown,onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},e.createElement(o.symbol,{className:"anchorIcon",name:"anchor"}),e.createElement("div",{className:"anchorName"},this.getAnchorName()),e.createElement(o.symbol,{className:"rightIcon",name:this.isLocked()?"anchorLock":"anchorDragHandle"}))),e.createElement("div",{className:"anchor-line after-with-sections-reorganize"}))}}),define("rEditor/rootComps/anchor/anchor",["create-react-class","prop-types","lodash","core","rEditor/utils/mouseMoveActions/baseDoubleClick","rEditor/rootComps/anchor/anchor.rt"],function(e,t,o,i,n,a){"use strict";return e({displayName:"anchor",propTypes:{compRef:t.object.isRequired,isSelected:t.bool.isRequired},mixins:[i.mixins.editorAPIMixin],getInitialState:function(){return this.editorAPI=this.getEditorAPI(),{}},getAnchorName:function(){return this.editorAPI.components.data.get(this.props.compRef).name},onDoubleClick:function(e){var t={evt:e,comp:[this.props.compRef]};n.doubleClick(this.getEditorAPI(),t)},getTopPosition:function(){return this.editorAPI.components.layout.getRelativeToStructure(this.props.compRef).y},isLocked:function(){return!1},render:a})}),define("rEditor/rootComps/anchor/anchorsContainer.rt",["react","lodash","rEditor/rootComps/anchor/anchor"],function(e,t,o){"use strict";return function(){return e.createElement.apply(this,["div",{className:t({"anchors-container":!0,"mobile-editor":this.editorAPI.isMobileEditor()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.getAnchors(),function(t,i){return e.createElement(o,{key:"anchor"+i,compRef:t,onContextMenu:this.props.onContextMenu,isSelected:this.isSelectedComp(t)})}.bind(this))])}}),define("rEditor/rootComps/anchor/anchorsContainer",["create-react-class","lodash","core","rEditor/rootComps/anchor/anchorsContainer.rt"],function(e,t,o,i){"use strict";return e({displayName:"stageComps",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return this.editorAPI=this.getEditorAPI(),{}},getAnchors:function(){var e=this.editorAPI.documentServices.pages.getReference(this.editorAPI.documentServices.pages.getFocusedPageId());return this.editorAPI.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",e)},isSelectedComp:function(e){return this.editorAPI.selection.isComponentSelected(e)},render:i})}),define("rEditor/rootComps/selectionBox/hoverBox.rt",["react","lodash","baseUI","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("div",{style:this.getHoverBoxStyles(),className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(i,{key:"newComponentLabel",showComponentType:this.shouldShowComponentType(),showComponentNickname:this.shouldShowComponentNickname(),shouldShowConnectionIndication:this.shouldShowConnectionIndication(),infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",isLabelLarge:this.isRootComponent(this.getEditorAPI(),this.props.hoveredComp),isLabelBelowLine:this.isSiteHeaderHovered(this.getEditorAPI(),this.props.hoveredComp),componentType:this.getComponentType(),componentNickname:this.getComponentNickname(),labelInlineStyles:this.getHoverBoxLabelStyles(),componentUIColor:this.getComponentUIColor(),isPinnedToPage:this.isCompPinned(),isLabelBottom:this.props.isLabelBottom}))}}),define("rEditor/rootComps/selectionBox/hoverBox",["reactDOM","lodash","constants","create-react-class","jquery","core","rEditor/rootComps/selectionBox/hoverBox.rt"],function(e,t,o,i,n,a,r){"use strict";function s(e,t){return function(e,t){return e.outerWidth()/t.outerWidth()<2}(e,t)?function(e,t){var o=a.utils.stageUtils.getViewPort();return e.offset().left-t.width()>o.x}(e,t)?l.LEFT:l.RIGHT:l.INNER}var l={INNER:"inner",LEFT:"left",RIGHT:"right"};return i({displayName:"hoverBox",mixins:[a.mixins.editorAPIMixin],getInitialState:function(){return{labelPosition:l.INNER,shouldCalculateLabelPosition:!0}},componentDidMount:function(){if(this.state.shouldCalculateLabelPosition){var t=n(e.findDOMNode(this)),o=n(e.findDOMNode(this.refs.label));this.setState({labelPosition:s(t,o),shouldCalculateLabelPosition:!1})}},componentDidUpdate:function(){if(this.state.shouldCalculateLabelPosition){var t=n(e.findDOMNode(this)),o=n(e.findDOMNode(this.refs.label));this.setState({labelPosition:s(t,o),shouldCalculateLabelPosition:!1})}},componentWillReceiveProps:function(e){e.hoveredComp.id!==this.props.hoveredComp.id&&this.setState({shouldCalculateLabelPosition:!0})},isRootComponent:function(e,t){return"SITE_FOOTER"===t.id||"SITE_HEADER"===t.id||t.id===e.documentServices.pages.getFocusedPageId()},isSiteHeaderHovered:function(e,t){return"SITE_HEADER"===t.id},shouldShowConnectionIndication:function(){return this.getEditorAPI().platform.controllers.connections.isConnectedToDataBindingController(this.props.hoveredComp)},isHoveredSelectedComp:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents();return e.utils.isSameRef(t,this.props.hoveredComp)},isConnectedToControllers:function(e){return e.documentServices.platform.controllers.connections.get(this.props.hoveredComp).length>0},getComponentType:function(){return this.isHoveredSelectedComp()?"":this.getEditorAPI().components.getDisplayName(this.props.hoveredComp)},getComponentNickname:function(){var e=this.getEditorAPI().components.getNickname(this.props.hoveredComp);return this.isHoveredSelectedComp()||!e?"":"#"+e},getHoverBoxStyles:function(){var e=function(e,t){var o=e.components.layout.getRelativeToScreen(t);if(e.components.layout.isShowOnFixedPosition(t)){var i=e.getPreviewPosition();o.y+=i.top,o.bounding.y+=i.top,o.x+=i.left,o.bounding.x+=i.left}return o}(this.getEditorAPI(),this.props.hoveredComp),o={top:e.y-1,left:e.x-1,width:e.width,height:e.height};if(e.rotationInDegrees){var i="rotate("+e.rotationInDegrees+"deg)";t.assign(o,{transform:i,WebkitTransform:i})}return this.getEditorAPI().components.is.fullWidth(this.props.hoveredComp)&&t.assign(o,{borderLeft:0,borderRight:0}),o},getClasses:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp,o=e.components.isShowOnAllPages(t),i=e.components.isShowOnSomePages(t);return{"hover-box":!0,"components-background-color":!e.components.is.page(t),"components-ui-color-orange":o||i,"fixed-position":e.components.layout.isShowOnFixedPosition(t),overlay:this.props.overlay}},isShownOnAllPages:function(){return this.getEditorAPI().components.isShowOnAllPages(this.props.hoveredComp)},getComponentUIColor:function(){return function(e,t){return e.components.isShowOnAllPages(t)||e.components.isShowOnSomePages(t)?o.COMPONENT_UI_COLORS.ORANGE:o.COMPONENT_UI_COLORS.BLUE}(this.getEditorAPI(),this.props.hoveredComp)},getHoverBoxLabelStyles:function(){var e=this.getEditorAPI();if(e.components.is.fullWidth(this.props.hoveredComp)){return{left:e.isMobileEditor()?0:e.siteSegments.getPagesContainerAbsLayout().x+2}}},getIndicatorClasses:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp,o=e.components.isShowOnAllPages(t),i=e.components.isShowOnSomePages(t);return{"components-ui-color-orange":o||i}},shouldShowComponentType:function(){return this.props.hoveredComp&&!(this.getEditorAPI().developerMode.isEnabled()&&this.shouldShowConnectionIndication())},shouldShowComponentNickname:function(){return this.props.hoveredComp&&this.getEditorAPI().developerMode.isEnabled()},isCompPinned:function(){return this.getEditorAPI().components.layout.isPinned(this.props.hoveredComp)&&!this.isHoveredSelectedComp()},render:r})}),define("rEditor/rootComps/selectionBox/overlay.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t({overlay:!0,visible:this.state.shouldShowOverlay}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getStyles()},"\n    ",this.getOverlay(),"\n")}}),define("rEditor/rootComps/selectionBox/overlay",["create-react-class","lodash","core","rEditor/rootComps/selectionBox/overlay.rt"],function(e,t,o,i){"use strict";return e({displayName:"overlay",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return{shouldShowOverlay:!1}},overlayProps:{},getOverlay:function(){return this.getEditorAPI().components.is.getOverlay(this.state.hoveredComp)||""},getStyles:function(){return this.overlayProps=this.getEditorAPI().components.is.getOverlayProperties(this.state.hoveredComp),this.overlayProps?function(e,t){return e[t]?{transitionDuration:(e[t].duration||0)+"ms",transitionDelay:(e[t].delay||0)+"ms"}:{}}(this.overlayProps,function(){return this.leaveAnimationId?"leave":"enter"}.call(this)):{}},componentWillReceiveProps:function(e){var t=e.hoveredComp&&this.getEditorAPI().components.is.exist(e.hoveredComp)&&this.getEditorAPI().components.is.shouldBeOverlayed(e.hoveredComp);if(!this.state.hoveredComp||this.getEditorAPI().components.is.exist(this.state.hoveredComp)){if(this.getEditorAPI().overlay.shouldUpdate()){if(t)this.componentWillEnter(e.hoveredComp);else{if(!this.state.shouldShowOverlay)return;this.componentWillLeave()}this.setState({shouldShowOverlay:t})}}else this.setState({shouldShowOverlay:!1,hoveredComp:null})},componentWillEnter:function(e){this.leaveAnimationId&&(this.leaveAnimationId=window.clearTimeout(this.leaveAnimationId)),this.setState({hoveredComp:e})},componentWillLeave:function(){this.leaveAnimationId=window.setTimeout(this.componentHasLeft,this.overlayProps.leave.duration)},componentHasLeft:function(){this.leaveAnimationId=null,this.setState({hoveredComp:null})},render:i})}),define("rEditor/rootComps/lasso/lasso.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"lasso-layer"},e.createElement.apply(this,["svg",{className:"lasso-highlights"},e.createElement("rect",t.assign({},{className:"lasso-rect"},this.props.lassoLayout)),t.map(this.props.candidates,function(o,i){return e.createElement("rect",t.assign({},{className:t({"lasso-candidate":!0,"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(o.component)}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:i},o.layout.bounding))}.bind(this))]))}}),define("rEditor/rootComps/lasso/lasso",["create-react-class","prop-types","lodash","core","rEditor/rootComps/lasso/lasso.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"lasso",mixins:[i.mixins.editorAPIMixin],propTypes:{lassoLayout:t.shape({x:t.number,y:t.number,width:t.number,height:t.number}),candidates:t.arrayOf(t.shape({component:t.object,layout:t.object}))},render:n})}),define("rEditor/rootComps/mouseCatcher.rt",["react","lodash","uiConstants","rEditor/rootComps/compControls/compControls","rEditor/rootComps/attachHighlight/attachHighlight","rEditor/rootComps/constraintArea/constraintArea","rEditor/rootComps/snapLayer/snapLayer","rEditor/rootComps/highlightsLayer/highlightsLayer","rEditor/rootComps/anchor/anchorsContainer","rEditor/rootComps/selectionBox/hoverBox","rEditor/rootComps/selectionBox/overlay","rEditor/rootComps/lasso/lasso"],function(e,t,o,i,n,a,r,s,l,c,p,d){"use strict";return function(){return e.createElement("div",{className:t({parentSizeAbs:!0,mouseCatcher:!0,draggable:this.isCompDraggable()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDoubleClick:this.onDoubleClick,onContextMenu:this.props.onContextMenu,onMouseMove:this.onMouseMove,onMouseLeave:this.clearHoverBox},e.createElement(p,{hoveredComp:this.props.hoveredComp}),this.props.constraintArea?e.createElement(a,{key:"constraintArea",area:this.props.constraintArea}):null,this.props.attachCandidate?e.createElement(n,{key:"attachHighlight",attachCandidate:this.props.attachCandidate}):null,this.props.lassoLayout?e.createElement(d,{key:"lassoLayout",lassoLayout:this.props.lassoLayout,candidates:this.props.lassoCandidates}):null,1===this.props.siteScale&&this.props.hoveredComp&&this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&!this.props.isPinMode?e.createElement(c,{overlay:this.props.hoverBoxOverlay,hoveredComp:this.props.hoveredComp,key:"hoverBox",isLabelBottom:this.isLabelBottom()}):null,e.createElement(s,{}),1!==this.props.siteScale||t.isEmpty(this.props.selectedComponents)?null:e.createElement(i,{key:"compControls",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,focusedContainer:this.props.focusedContainer,hoveredComp:this.props.hoveredComp,clearHoverBox:this.clearHoverBox,lastSelectionClickPos:this.props.lastSelectionClickPos,panel:this.props.compPanel,previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,isPinMode:this.props.isPinMode,onContextMenu:this.props.onContextMenu,isSectionDragging:this.props.isSectionDragging,attachCandidate:this.props.attachCandidate,tabIndicationState:this.props.tabIndicationState,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion}),e.createElement(r,{key:"snapLayer",snapData:this.props.snapData}),this.props.previewMode||!this.props.editorIsInit||this.props.isPinMode?null:e.createElement(l,{key:"anchorsContainer",onContextMenu:this.props.onContextMenu}),this.showMarginsIndicator()?function(){var t=this.getMarginsIndicatorStyles(this.getCompToShowMarginsIndicator());return e.createElement("div",{key:"marginsIndicator",className:"margins-indicator",style:t.indicator},t.marginLeft?e.createElement("div",{key:"leftMarginIndicator",className:"left",style:{width:t.marginLeft}}):null,t.marginRight?e.createElement("div",{key:"rightMarginIndicator",className:"right",style:{width:t.marginRight}}):null)}.apply(this,[]):null)}}),define("rEditor/utils/mouseMoveActions/baseDrag",["core","lodash","constants","stateManagement","experiment"],function(e,t,o,i,n){"use strict";function a(e){var t=function(e){var t=A||O;return{x:Math.abs(t.x-e.x),y:Math.abs(t.y-e.y)}}(e);return t.x>d||t.y>d}function r(){if(S){var e=t.map(E,"component"),o=t.map(E,function(t){var o=t.attachUtil.getCurrentAttachCandidate(null,e),i=t.component;return o?{attachCandidate:o,component:i}:{component:i}}),i=function(e){return t.reduce(e,function(e,t){var o=t.attachCandidate,i=t.component;return o?(e[o.id]?e[o.id].components.push(i):e[o.id]={attachCandidate:o,components:[i]},e):e},{})}(o),n=t.map(i,function(e){return M.components.setContainer(e.components,e.attachCandidate)});if(!t.isEmpty(n)){var a=t.some(e,M.components.isShowOnSomePages);M.documentServices.waitForChangesApplied(function(){var e=t.some(n,M.components.isShowOnSomePages);a&&!e?M.panelHelpers.openDetachedFromSOSPPanel():!a&&e&&M.panelHelpers.openAttachToSOSPPanel();var i=t(o).reject("attachCandidate").map("component").value();M.selection.selectComponentByCompRef(t.flatten(n).concat(i))})}}}function s(e,o,i){var n=e.x-o.x+i.x,a=e.y-o.y+i.y;return t.defaults({x:n,y:a},e)}function l(e,o){if(M=e||M,v=o.selectedComp,O=o.initMousePosition,A=null,R=i.componentMetaData.isHorizontallyMovable(M.components.asArray(o.selectedComp),M.documentServices),k=M.components.is.verticallyMovable(o.selectedComp),D=M.components.layout.getRelativeToScreen(v),o.initMousePosition){I=!0;var a=M.components.layout.getRelativeToScreen(v);N=t.map(v,function(e){return M.components.layout.getRelativeToScreen(e)}),x=t.map(v,function(e){return M.components.layout.get(e)}),S=function(e){return!t.some(e,function(e){return M.components.is.groupedComponent(e)})}(v),M.multiselect.isMultiselect(v)?E=function(e){return t.map(e,function(e){return{component:e,attachUtil:new m(M,{comp:e,layout:M.components.layout.getRelativeToScreen(e)},m.TYPES.COMP)}})}(v):P=n.isOpen("attachImprovements")?new g(M,{layout:a,comp:v},m.TYPES.COMP):new m(M,{layout:a,comp:v},m.TYPES.COMP),_=new b(M,v),w=new f(M,v),y=new h.Drag(D,O,N),L=function(e){return t.map(e,function(e){return u[M.components.getType(M.components.getContainer(e))]})}(v)}else I=!1}function c(o){var i=e.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(M,o),r={x:i.pageX,y:i.pageY,isShiftPressed:o.shiftKey};if(function(e){return!!T||I&&(Math.abs(e.pageX-O.x)>2||Math.abs(e.pageY-O.y)>2)}(i)){M.selection.setIsMouseUpSelectionEnabled(!1),T||(T=!0,M.documentServices.renderPlugins.setCompsToShowOnTop(t.map(v,"id")),n.isOpen("changeOpacityOnDrag")&&M.documentServices.renderPlugins.setCompsToShowWithOpacity(t.map(v,"id"),.9),n.isOpen("se_continuous_actions")&&M.components.layout.continuousUpdate.start());var l=y.getLayout(r);if(M.multiselect.isMultiselect(v)&&(l=e.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(M,v,l,D)),R||(l.x=D.x),k||(l.y=D.y),o.altKey?function(e){e.x-=e.x%5,e.y-=e.y%5}(l):M.getViewTools().snapToEnabled&&(a(r)?M.snapData.clear():(l.bounding=M.utils.getBoundingLayout(l),function(e){if(w){var t=w.getClosestLayoutDistance(M,e.bounding,C);Math.abs(t.x)<5&&(e.x+=t.x,e.bounding.x+=t.x),Math.abs(t.y)<5&&(e.y+=t.y,e.bounding.y+=t.y)}}(l),function(e){if(w){var t=w.getSnapData(e.bounding,C);M.snapData.set(t)}}(l))),S&&!M.multiselect.isMultiselect(v)){var c=P.getCurrentAttachCandidate(null,{x:i.clientX,y:i.clientY});P.highlightAttachCandidate(c),_.highlightDragConstraints()}for(var p=y.getBoundComponentLayouts(l),d=0;d<v.length;d++){var u=s(p[d],N[d],x[d]);n.isOpen("se_continuous_actions")?M.components.layout.continuousUpdate.on(v[d],u,!0):L[d]?M.components.layout.updateRelativeToScreen(v[d],p[d],!0):M.components.layout.update(v[d],u,!0)}}A=r}function p(e){n.isOpen("se_continuous_actions")&&M.components.layout.continuousUpdate.end(),M.multiselect.isMultiselect(v)?r():(!function(e){if(S){var t={x:e.clientX,y:e.clientY},o=P.getCurrentAttachCandidate(null,t);if(o){var i=M.components.isShowOnSomePages(v),n=M.components.setContainer(v,o);M.documentServices.waitForChangesApplied(function(){var e=M.components.isShowOnSomePages(n);i&&!e?M.panelHelpers.openDetachedFromSOSPPanel():!i&&e&&M.panelHelpers.openAttachToSOSPPanel()})}}}(e),P.clearHighlightAttachCandidate(!1)),_.removeHighlightDragConstraints(),w=null,M.snapData.clear(),M.documentServices.waitForChangesApplied(function(){M.history.add("Dragged component")}),M.openCompOutOfGridPanelIfNeeded(v),M.documentServices.renderPlugins.setCompsToShowOnTop(null),n.isOpen("changeOpacityOnDrag")&&M.documentServices.renderPlugins.setCompsToShowWithOpacity(null),T=!1}var d=15,u={"wysiwyg.viewer.components.Group":!0},m=e.utils.AttachHandler,g=e.utils.AttachHandlerExperimentAttachImprovements,f=e.utils.SnapToHandler,h=e.utils.layoutTransitionsUtil,b=e.utils.DragConstraintsHandler,y=void 0,v=void 0,S=void 0,P=void 0,E=void 0,C={top:!0,right:!0,bottom:!0,left:!0,centerX:!0,centerY:!0},T=!1,I=!1,_=void 0,M=void 0,O=void 0,A=void 0,w=void 0,R=void 0,k=void 0,D=void 0,x=void 0,N=void 0,L=void 0;return{start:l,on:c,end:function(t){T&&p(e.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(M,t));O=null},type:o.MOUSE_ACTION_TYPES.DRAG}}),define("rEditor/utils/mouseMoveActions/dragAttempt",["lodash","core","stateManagement","constants"],function(e,t,o,i){"use strict";function n(e){var t=Math.abs(e.pageX-l.x),o=Math.abs(e.pageY-l.y);(s=s||function(e,t){return e>=d||t>=d}(t,o))&&p.selection.setIsMouseUpSelectionEnabled(!1)}var a=o.pinMode.selectors,r=o.pinMode.logic,s=void 0,l=void 0,c=void 0,p=void 0,d=5,u=o.selection.selectors;return{start:function(e,t){p=e,s=!1,l=t.initMousePosition,c=t.selectedComp},on:n,end:function(){var e=p.store,i=e.getState(),n=a.isOpen(i);s&&p.components.layout.isPinned(c)&&!n&&(e.dispatch(r.open("on_drag")),e.dispatch(o.bi.event(t.bi.events.pinToScreen.DRAG_ATTEMPT,{component_type:u.getSelectedComponentType(i,p.documentServices)})))},type:i.MOUSE_ACTION_TYPES.DRAG_ATTEMPT}}),define("rEditor/utils/lassoMouseMoveActions/lassoDrag",["core","lodash","util","constants"],function(e,t,o,i){"use strict";function n(e){var t=g.components.layout.getRelativeToScreen(e);return"wysiwyg.viewer.components.WRichText"===g.components.getType(e)&&function(e,t){var o=g.components.layout.getEffectiveTextDimensions(e);o&&(t.width=o.width,t.height=o.height,t.bounding.width=o.width,t.bounding.height=o.height,t.x+=o.dx,t.y+=o.dy,t.bounding.x+=o.dx,t.bounding.y+=o.dy)}(e,t),{component:e,layout:t}}function a(e){return g.components.is.fullWidth(e.component)||g.components.layout.isHorizontallyStretchedToScreen(e.component)?"fullWidth":"standard"}function r(e){if(function(e){if(m)return!0;var t=v.fitMouseCoordinatesToViewer(g,e),o=t.pageY,i=t.pageX,n=Math.abs(i-u.x),a=Math.abs(o-u.y);return m=n>l&&a>l}(e)){y&&(g.selection.deselectComponents(),y=!1),b&&(g.selection.selectComponentByCompRef(f),b=!1),d=function(e){var t=v.fitMouseCoordinatesToViewer(g,e),o=Math.min(t.pageX,u.x),i=Math.min(t.pageY,u.y);return{x:o,y:i,width:Math.max(t.pageX,u.x)-o,height:Math.max(t.pageY,u.y)-i}}(e),p=t.filter(c.standard,function(e){return o.layoutUtils.isLayoutContainedWithinRect(e.layout.bounding,d)});var i=t.filter(c.fullWidth,function(e){return function(e,t){return t.y<=e.bounding.y&&t.y+t.height>=e.bounding.y+e.bounding.height}(e.layout,d)});p=p.concat(i),g.lasso.setCandidates(p),g.lasso.setLayout(d)}}var s=["SITE_PAGES","PAGES_CONTAINER","SITE_HEADER","SITE_FOOTER"],l=4,c=void 0,p=void 0,d=void 0,u=void 0,m=void 0,g=void 0,f=void 0,h=void 0,b=void 0,y=void 0,v=e.utils.mouseCoordinatesHandler;return{start:function(e,o){var i=(g=e).documentServices.pages.getFocusedPageId();h=o.selectedComponents;var r=s.concat(t.map(h,"id")),l=g.components.getAllComponents(i,function(e){return!t.includes(r,e.id)&&!g.components.is.page(e)});f=o.prevSelectedComps,b=f!==h&&o.initMousePosition.isSpecialKeyPressed,y=g.selection.isSingleSelectionComponent(h),u=t.clone(o.initMousePosition),m=!1,p=[],d=t.pick(u,["x","y"]),c=t(l).map(n).groupBy(a).value()},on:r,end:function(i){var n=o.browserUtil.isSpecialKeyPressed(i);if(!t.isEmpty(p)){var a=t.map(p,"component");a.length>1&&(a=t.reject(a,g.selection.isSingleSelectionComponent)),(a.length>1||1===a.length&&f&&f.length>0)&&g.bi.event(e.bi.events.selection.MULTISELECT,{num_of_elements_selected:a.length,selection_method:"lasso"}),g.closeCompPanelIfExists(),n?g.selection.addComponentToSelectionByRef(a):g.selection.selectComponentByCompRef(a)}g.lasso.clear()},type:i.MOUSE_ACTION_TYPES.LASSO}}),define("rEditor/rootComps/mouseCatcher",["reactDOM","create-react-class","prop-types","jquery","lodash","rEditor/rootComps/mouseCatcher.rt","core","util","rEditor/utils/mouseMoveActions/baseDrag","rEditor/utils/mouseMoveActions/dragAttempt","rEditor/utils/lassoMouseMoveActions/lassoDrag","constants"],function(e,t,o,i,n,a,r,s,l,c,p,d){"use strict";function u(e,t){if(!e.components.is.exist(t))return!1;var o=e.selection.getSelectedComponents(),i=e.components.getType(t);return(!e.selection.isComponentSelected(t)||e.multiselect.isMultiselect(o))&&!n.includes(g,i)}function m(e){return!!e.store.getState().lassoLayout}var g=["wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.PageGroup","wysiwyg.common.components.anchor.viewer.Anchor"],f=r.utils.mouseCoordinatesHandler;return t({displayName:"mouseCatcher",mixins:[r.mixins.editorAPIMixin],propTypes:{selectedComponents:o.oneOfType([o.object,o.arrayOf(o.object)]),focusedContainer:o.object,config:o.object,onContextMenu:o.func,performingMouseMoveAction:o.bool,hoveredComp:o.object,isDragging:o.bool,isResizing:o.bool,isRotating:o.bool,isPinMode:o.bool,compPanel:o.object,editingAreaLayout:o.object,previewPosition:o.object,previewMode:o.bool.isRequired,attachCandidate:o.object,snapData:o.array,applyModeFromClipboardSuggestion:o.object,tabIndicationState:o.object.isRequired,lastSelectionClickPos:o.object,lassoCandidates:o.array,lassoLayout:o.object,constraintArea:o.object},componentWillMount:function(){this.compsBeforeSelection=null,this.shouldStartDragging=!1,this.shouldStartLasso=!1,this.initMousePosition=null,this.isWaitingForUpdate=!1},componentDidMount:function(){i(e.findDOMNode(this)).on("mouseenter",this.onMouseEnter)},componentWillUnmount:function(){i(e.findDOMNode(this)).off("mouseenter",this.onMouseEnter)},componentWillReceiveProps:function(e){var t=this.getEditorAPI();if(this.shouldStartDragging){var o=function(e,t){var o=e.components.is.controlledByParent;return n(t).map(function(t){return o(t)?e.utils.findAncestorMatchesCondition(t,n.negate(o)):t}).thru(e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray).value()}(t,e.selectedComponents),i=!n.isEmpty(o)&&function(e,t){return function(e,t){var o=e.getCompDragRestrictions(t);return o.horizontallyMovable||o.verticallyMovable}(e,t)?l:c}(t,o);i&&t.mouseActions.registerMouseMoveAction(i,{initMousePosition:this.initMousePosition,selectedComp:o})}else this.shouldStartLasso&&t.mouseActions.registerMouseMoveAction(p,{initMousePosition:this.initMousePosition,prevSelectedComps:this.compsBeforeSelection,selectedComponents:e.selectedComponents});this.shouldStartDragging=!1,this.shouldStartLasso=!1},onMouseDown:function(e){var t=this.getEditorAPI();s.keyboardShortcuts.enable();var o=f.fitMouseCoordinatesToViewer(t,e);this.initMousePosition={x:o.pageX,y:o.pageY,isShiftPressed:e.shiftKey,isSpecialKeyPressed:s.browserUtil.isSpecialKeyPressed(e),isAltKeyPressed:e.altKey},this.shouldStartLasso=t.mouseActions.shouldInitLassoToolOnMouseDown(e),this.shouldStartDragging=!this.shouldStartLasso&&(!t.selection.isMultiSelectKeyPressed(e)||function(e,t){var o=e.selection.getComponentUnderClickToBeSelected(t.clientX,t.clientY);return e.selection.isComponentSelected(o)}(t,e)),t.selection.isHiddenComponentDraggedNext()?t.selection.setIsHiddenComponentDraggedNext(!1):m(t)||(this.compsBeforeSelection=this.props.selectedComponents,t.selection.selectComponentByClick(e),this.shouldStartDragging=this.shouldStartDragging&&t.selection.isComponentExplicitlySelected()),t.closeRightClickMenu(),t.panelManager.notifyMouseDown()},onMouseUp:function(e){var t=this.getEditorAPI();2===e.button||(this.deselectClickedCompIfNeeded(e),t.selection.getIsMouseUpSelectionEnabled()&&!m(t)&&t.selection.selectNonGroupCompUnderCursor(e,this.props.siteScale)),t.selection.setIsMouseUpSelectionEnabled(!1),this.initMousePosition=null,this.shouldStartDragging=!1,this.shouldStartLasso=!1},onMouseMove:function(e){var t=this.getEditorAPI(),o=f.fitMouseCoordinatesToViewer(t,e);this.props.registeredMouseMoveAction||this.updateHoverBox(e),t.cursor.updateMousePosition(o.pageX,o.pageY)},onMouseEnter:function(e){1!==e.which&&this.getEditorAPI().endMouseMoveActionIfNeeded(n.clone(e))},updateHoverBox:function(e){if(!this.isWaitingForUpdate){this.isWaitingForUpdate=!0;var t=this.getEditorAPI();e.persist(),t.documentServices.waitForChangesApplied(function(){this.isWaitingForUpdate=!1;var o=t.selection.getComponentToBeMarkedByHoverBox(e,this.shouldStartDragging),i=this.props.hoverBoxOverlay;!this.props.hoveredComp&&o?u(t,o)&&this.props.setHoverBox(o,i):this.props.hoveredComp&&!o?this.props.clearHoverBox():this.props.hoveredComp&&o&&(u(t,o)?this.props.hoveredComp.id!==o.id&&this.props.setHoverBox(o,i):this.props.clearHoverBox())}.bind(this))}},clearHoverBox:function(){this.props.clearHoverBox()},deselectClickedCompIfNeeded:function(e){var t=this.getEditorAPI();if(t.selection.isMultiSelectKeyPressed(e)&&this.initMousePosition){var o=t.selection.getComponentUnderClickToBeSelected(e),i=!!n.find(this.compsBeforeSelection,o),a=f.fitMouseCoordinatesToViewer(t,e),r=!this.isPointsDistanceBiggerThan(this.initMousePosition,{x:a.pageX,y:a.pageY},2);i&&r&&(t.selection.setIsMouseUpSelectionEnabled(!1),t.selection.deselectComponents(o))}},isPointsDistanceBiggerThan:function(e,t,o){var i=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);return Math.sqrt(i)>o},isComponentSelected:function(){return this.getEditorAPI().selection.isComponentSelected()},getComponentLabel:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)},isCompDraggable:function(){var e=this.getEditorAPI();if(e.store.getState().performingMouseMoveAction)return!0;var t=this.props.hoveredComp;if(t&&e.components.is.exist(t)){var o=e.components.is.controlledByParent(t);return u(e,t)&&e.components.is.draggable(o?e.components.getContainer(t):t)}return!1},getCompToShowMarginsIndicator:function(){var e=this.getEditorAPI();return this.props.attachCandidate?this.props.attachCandidate:this.props.isDragging?e.components.getContainer(this.getEditorAPI().selection.getSelectedComponents()):null},showMarginsIndicator:function(){var e=this.getEditorAPI(),t=this.getCompToShowMarginsIndicator();return t&&e.components.is.showMarginsIndicator(t)},getMarginsIndicatorStyles:function(e){var t=this.getEditorAPI(),o=t.components.layout.getRelativeToScreen(e),i=t.components.layout.getCompMargin(e);return{indicator:{top:o.y,left:o.x,width:o.width,height:o.height},marginLeft:Math.max(0,i.left),marginRight:Math.max(0,i.right),inlineWidth:o.width-n.sum(i)}},isRootComponent:function(e,t){return"SITE_FOOTER"===t.id||"SITE_HEADER"===t.id||t.id===e.documentServices.pages.getFocusedPageId()},isLabelBottom:function(){var e=this.getEditorAPI(),t=e.components.layout.getRelativeToScreen(this.props.hoveredComp),o=!t.fixedPosition,i=r.utils.stageUtils.getViewPort(o,e.getLeftBarButtonsBoundingRect()),n=this.isRootComponent(this.getEditorAPI(),this.props.hoveredComp);return t.y-(n?20:16)<=i.y-d.UI.VIEWPORT_VERTICAL_MARGINS},render:a})}),define("rEditor/rootComps/textEditor.rt",["react","lodash","wixRichText"],function(e,t,o){"use strict";return function(){return e.createElement("div",{style:this.getTextEditorStyles(),className:this.props.isResizing?"resizing":""},e.createElement(o.TextEditor,{initialData:"<p></p>",onReady:this.setReady,validateHtml:!1,showToolbar:!1,documentServicesApi:this.getEditorAPI(),onCut:this.onCutOrCopy,onCopy:this.onCutOrCopy,stylesManager:this.getStyleManager(),onDataChange:this.handleDataChange,linksManager:this.getLinksManager(),shouldInjectFontsToDocument:!1}))}}),define("rEditor/rootComps/textEditor",["create-react-class","prop-types","lodash","rEditor/rootComps/textEditor.rt","core","util","textControls"],function(e,t,o,i,n,a,r){"use strict";var s=!1;return e({displayName:"textEditor",propTypes:{openPanels:t.array.isRequired},render:i,mixins:[n.mixins.editorAPIMixin],getComponentDataFromProps:function(e){return this.getEditorAPI().components.data.get(this.getTextComponentFromProps(e))},getTextComponentFromProps:function(e){return(e=e||this.props).selectedTextComp},getValue:function(){if(this.props.selectedTextComp){var e=this.getComponentDataFromProps();return{text:e.text,linkList:e.linkList}}return{text:"",linkList:[]}},setReady:function(e){this.manager=e,this.getEditorAPI().text.setCurrentTextEditor(this.manager),this.manager.execCommand("wixCss",{id:"overFlowCss",value:"body {overflow: hidden !important;}",isLink:!1,force:!1})},componentDidUpdate:function(e){if(this._internalTextValue=this.getValue().text,this.manager&&this.props.selectedTextComp&&!e.isOpenTextEditor&&this.props.isOpenTextEditor){this.editedTextComponent=this.props.selectedTextComp;var t=a.browserUtil.isIE()?"none":"all",i=this.manager;this.manager.setData(this.getValue().text,{validateHtml:!1,cursorLocation:t,removeNestedStyles:!0,callback:function(){"none"===t&&i.commands.selectAll()}}),this.getEditorAPI().renderPlugins.setHideTextComponent(this.getTextComponentFromProps().id),this.manager.refreshPropsCollector(),this.manager.focus(),this.manager.resetUndo();var n=r.fontUtils.getUploadedUsedFonts(this.getValue().text,this.getEditorAPI().documentServices.theme.fonts.getAll());r.ckUtils.insertUploadedFontsToCk(n,this.manager),this.linksHelper.setCurrentLinks(this.getValue().linkList),this.getEditorAPI().openComponentPanel("textSettingsPanel",{onCmdStateChange:this.manager.onCmdStateChange.bind(this.manager),getCommandsStates:this.manager.getCommandsStates.bind(this.manager),unRegisterListener:this.manager.unRegisterListener.bind(this.manager),getLink:this.linksHelper.getLink.bind(this.linksHelper),saveLink:this.linksHelper.saveLink.bind(this.linksHelper)})}!this.manager&&!this.props.isResizing||o.isEqual(this.props.layout,e.layout)||this.manager.resize(this.props.layout.width,this.props.layout.height)},componentWillUpdate:function(e){(this.props.selectedTextComp&&!o.isEqual(this.props.selectedTextComp,e.selectedTextComp)||this.props.isOpenTextEditor&&!e.isOpenTextEditor)&&this.stopTextEditing()},componentWillUnmount:function(){this.stopTextEditing(),this.getEditorAPI().text.setCurrentTextEditor(void 0)},componentWillReceiveProps:function(e){var t=o.find(this.props.openPanels,{name:"panels.focusPanels.createNewTextBoxPanel"}),i=o.find(e.openPanels,{name:"panels.focusPanels.createNewTextBoxPanel"});t&&!i&&(r.ckUtils.setCkReadOnly(this.manager,!1,!0),this.manager.focus())},stopTextEditing:function(){if(!s&&o.isEqual(this.editedTextComponent,this.props.selectedTextComp)){if(this.props.isOpenTextEditor&&this.props.selectedTextComp){s=!0;var e=this.getEditorAPI(),t=this;this.stopRichTextInput(),this.getEditorAPI().renderPlugins.setHideTextComponent(null);var i=this.getTextComponentFromProps();e.documentServices.waitForChangesApplied(function(){t.deleteTextEditorComponentIfEmpty(i),s=!1})}this.getEditorAPI().text.stopEditing()}},stopRichTextInput:function(){this.clearUnusedLinks()},clearUnusedLinks:function(){if(this.manager){var e=this.linksHelper.getAllLinks(),t=this.manager.getLinkRefsList(),i=o.filter(e,function(e){return o.includes(t,e.id)});this.setComponentData({text:this._internalTextValue,linkList:i})}},handleDataChange:function(e){if(!o.isEqual(e,this._internalTextValue)){this._internalTextValue=e;var t=this.getEditorAPI();if(this.isHtmlTooLong(e))r.textLimitsUtils.handleTextLengthExceeded(this.getEditorAPI().panelManager,this.manager);else{this.setComponentData({text:e,linkList:this.linksHelper.getAllLinks()}),t.documentServices.waitForChangesApplied(this.takeSnapshot);var i=r.dataUtils.getTextContentFromHtml(e).length;r.textLimitsUtils.isNewTextLengthLimitExceeded(i)&&r.textLimitsUtils.handleTextLengthExceeded(this.getEditorAPI().panelManager,this.manager),r.textLimitsUtils.setCachedTextReadableLength(i)}}},setComponentData:function(e){var t=this.getComponentDataFromProps();o.forOwn(e,function(e,o){t[o]=e}),this.getEditorAPI().components.data.update(this.getTextComponentFromProps(),t,!0)},isHtmlTooLong:function(e){var t=this.getEditorAPI().data.getSchema("StyledText");return o.get(t,"text.maxLength")<e.length},takeSnapshot:function(){this.snapshotTimeoutHandle&&window.clearTimeout(this.snapshotTimeoutHandle);var e=this;this.snapshotTimeoutHandle=window.setTimeout(function(){e.getEditorAPI().history.add("RT:Change"),delete e.snapshotTimeoutHandle},1e3)},deleteTextEditorComponentIfEmpty:function(e){var t=this.getEditorAPI().components.data.get(e);if(t){var o=t.text;r.dataUtils.isEmptyHtmlText(o)&&this.getEditorAPI().components.remove(e)}},componentWillMount:function(){this.linksHelper=new r.LinksHelper([]),this.linksManager=new r.TextLinksManager(this.linksHelper),this.stylesManager={getFonts:o.partial(r.fontUtils.getCurrentSelectableFontsWithParams,this.getEditorAPI(),!1,!0)}},getStyleManager:function(){return this.stylesManager},getLinksManager:function(){return this.linksManager},onCutOrCopy:function(){this.linksHelper.cacheCopiedLinks()},getTextEditorStyles:function(){return this.props.layout.visibility||this.manager?this.props.isResizing?o.assign(this.props.layout,{pointerEvents:"none"}):this.props.layout:o.assign(this.props.layout,{visibility:"hidden"})}})}),define("rEditor/rootComps/gridLines/gridLines.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement.apply(this,["svg",{className:"gridLines "+t({fade:this.props.fade}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.props.gridLines,function(t,o){return e.createElement("line",{key:o+"backLine",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,className:"backLine"})}.bind(this)),t.map(this.props.gridLines,function(t,o){return e.createElement("line",{key:o+"frontLine",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,className:"frontLine"})}.bind(this))])}}),define("rEditor/rootComps/gridLines/gridLines",["create-react-class","prop-types","lodash","core","rEditor/rootComps/gridLines/gridLines.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"gridLines",mixins:[i.mixins.editorAPIMixin],propTypes:{gridLines:t.arrayOf(t.object),fade:t.bool},getDefaultProps:function(){return{fade:!1}},render:n})}),define("rEditor/rootComps/rulers/guide.rt",["react","lodash","core","baseUI","uiConstants","symbols"],function(e,t,o,i,n,a){"use strict";return function(){return e.createElement("div",{className:this.props.rulerDirection+"-guide-container",style:this.getGuideContainerStyle()},e.createElement("div",{className:this.props.rulerDirection+"-guide",style:this.getGuideStyle()}),e.createElement("div",{ref:"guide",className:this.props.rulerDirection+"-guide-catcher",onClick:this.handleGuideClick,onMouseDown:function(e){this.onContainerMouseDown(e)}.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.createElement("div",{className:this.props.rulerDirection+"-guide-handler"},this.shouldShowSelectedGuide()?e.createElement(a.symbol,{key:"selected",name:"guidesHandler_selected"}):null,this.shouldShowSelectedGuide()?null:e.createElement(a.symbol,{key:"regular",name:"guidesHandler_regular"}))),this.getBubbleMode()?e.createElement(i.bubble,t.assign({},{ref:"bubble",key:"hoverBubble"},this.getBubbleProps())):null)}}),define("rEditor/rootComps/rulers/rulersComputations",["lodash","jquery"],function(e,t){"use strict";function o(e,t,o,i,n){for(var a=function(e,t,o,i,n){var a=0,r="vertical"===n?Math.floor(t.width/100):Math.round((t.height+t.y)/100);return e&&"horizontal"===n&&(r=Math.floor(o+i.top)/100),e||"horizontal"!==n||(a=Math.floor(t.y/100)+1),[a,r]}(e,t,o,i,n),r=a[0],s=a[1],l=[],c=r;c<=s;c++)l.push(100*c);return l}function i(e,t,o,i){var a=e?0:-t.x;return{vertical:{min:a,max:e?t.width:i-t.x,minInView:a},horizontal:{min:e?0:n,max:o.maxBottomY+o.marginBottom,minInView:e?o.scrollTop:o.scrollTop+n}}}var n=22;return{getRulerNumbers:o,isGuideOutOfLimits:function(e,t,o,n,a,r){var s=i(e,t,o,n);return s="vertical"===a?s.vertical:s.horizontal,r<s.min||r>s.max},isGuideOutOfViewLimits:function(e,t,o,n,a,r){var s=i(e,t,o,n);return s="vertical"===a?s.vertical:s.horizontal,r<s.minInView||r>s.max},getHorizontalTicksHeight:function(e,t){return e?t?t.maxBottomY+t.marginBottom:0:"calc(100% - "+n+"px)"},calcNewGuidePosition:function(e,t,o){return"vertical"===t?o.pageX-e.getPreviewPosition().left-e.siteSegments.getPagesContainerAbsLayout().x:o.pageY-e.getPreviewPosition().top+e.site.getScroll().y},calcHorizontalDraggingPosition:function(e,o){return e-(t(o).offset().top-parseInt(t(o).css("top"),10))},getVerticalTicksWidth:function(e,t){return e?t.width:"calc(100% - "+n+"px)"},getVerticalGuidePosition:function(e,t){var o=e.siteSegments.getPagesContainerAbsLayout();return e.isMobileEditor()?t:t+o.x}}}),define("rEditor/rootComps/rulers/guide",["reactDOM","create-react-class","prop-types","lodash","core","util","uiConstants","rEditor/rootComps/rulers/guide.rt","rEditor/rootComps/rulers/rulersComputations"],function(e,t,o,i,n,a,r,s,l){"use strict";return t({displayName:"guide",mixins:[n.mixins.editorAPIMixin,a.draggableMixin],propTypes:{rulerDirection:o.string.isRequired,guidePosition:o.number.isRequired,guideId:o.string.isRequired,isSelected:o.bool,isGuideOutOfLimitsFunc:o.func.isRequired,isMouseOverRulers:o.bool,toolsHidden:o.bool,disableInteraction:o.bool,previewSize:o.object.isRequired},getInitialState:function(){return this.preventClickAfterDragEnd=!1,{isHoverBubble:!1,mouseOverGuide:!1,guidePosition:this.props.guidePosition,stepperSymbol:"guideToolTipTrash",stepperValueInvalid:!1,selectedDueToHoverBubbleClick:!1,isFirstRender:!0}},componentWillReceiveProps:function(e){this.isBeingDragged||this.setState({stepperValueInvalid:!1,guidePosition:e.guidePosition})},componentWillUpdate:function(e,t){!this.props.toolsHidden&&e.toolsHidden&&e.isSelected&&this.getEditorAPI().rulers.deselectGuide(),!this.state.isHoverBubble&&t.isHoverBubble&&this.getEditorAPI().rulers.sendBIEvent("GUIDE_TOOLTIP_APPEAR",{})},setGuideSelected:function(e){this.state.isFirstRender&&this.setState({isFirstRender:!1}),this.getEditorAPI().rulers.selectGuide(this.props.guideId,e),this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},shouldShowSelectedGuide:function(){return this.isBeingDragged||this.state.mouseOverGuide||this.props.isSelected},getGuideContainerStyle:function(){return"horizontal"===this.props.rulerDirection?{top:this.state.guidePosition}:{left:l.getVerticalGuidePosition(this.getEditorAPI(),this.state.guidePosition)}},getGuideStyle:function(){var e=this.getEditorAPI(),t=this.props.previewSize;if("horizontal"===this.props.rulerDirection){var o=t.width;return{left:-o,width:o}}return{height:e.isMobileEditor()?t.height+r.MOBILE_PREVIEW_TOP:t.height}},removeGuide:function(){this.getEditorAPI().rulers.removeGuideById(this.props.guideId)},onDragStart:function(){this.getEditorAPI().rulers.updateEditorRulersState("isDragging",!0),this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},getDragPosition:function(t){var o=e.findDOMNode(this);return"horizontal"===this.props.rulerDirection?l.calcHorizontalDraggingPosition(t.top,o):t.left-this.getEditorAPI().siteSegments.getPagesContainerAbsLayout().x},whileDrag:function(e){var t=this.getDragPosition(e);this.props.isGuideOutOfLimitsFunc(t)?this.endDrag():this.setState({guidePosition:t})},onDragEnd:function(e){var t=this.getEditorAPI();t.rulers.updateStateOnDragEnd(this.props.isMouseOverRulers);var o=this.getDragPosition(e);this.props.isGuideOutOfLimitsFunc(o)?(t.rulers.sendBIEvent("GUIDE_DELETED",{origin:"drag_outside"}),this.removeGuide()):(this.sendDragBIEvent(this.props.guidePosition,o),this.preventClickAfterDragEnd=!0,t.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,o))},getDragLimits:function(){return"horizontal"===this.props.rulerDirection?{lockedX:!0}:{lockedY:!0}},sendDragBIEvent:function(e,t){var o={xCoordinate_new:0,xCoordinate_old:0,yCoordinate_new:0,yCoordinate_old:0};"vertical"===this.props.rulerDirection?(o.xCoordinate_new=t,o.xCoordinate_old=e):(o.yCoordinate_new=t,o.yCoordinate_old=e),this.getEditorAPI().rulers.sendBIEvent("GUIDE_DRAGGED",o)},closeHoverBubble:function(){this.setState({isHoverBubble:!1})},deselectGuide:function(){this.isBeingDragged||this.getEditorAPI().rulers.deselectGuide()},onStepperValueChangeApproval:function(e){if(!this.props.isGuideOutOfLimitsFunc(i.parseInt(e))){this.getEditorAPI().rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,i.parseInt(e)),this.setState({stepperSymbol:"smallVApproval"}),window.setTimeout(this.deselectGuide.bind(this),700)}},onStepperSteppingValueChange:function(e){var t=i.parseInt(e),o=!this.props.isGuideOutOfLimitsFunc(t),n=this.props.guidePosition===e;if(this.sendStepperValueChangeBIEvent(e,o,n),this.setState({stepperValueInvalid:!o}),o){this.getEditorAPI().rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,t)}else window.setTimeout(function(){this.setState({stepperValueInvalid:!1})}.bind(this),900)},sendStepperValueChangeBIEvent:function(e,t,o){var i=void 0;i=o?"no_change":t?"accepted":"denied";var n={type:this.props.rulerDirection,value:e,valid_value:i};this.getEditorAPI().rulers.sendBIEvent("VALUE_CHANGE_IN_GUIDE_TOOLTIP",n)},stepperSymbolClickFunc:function(){"guideToolTipTrash"===this.state.stepperSymbol&&(this.getEditorAPI().rulers.sendBIEvent("GUIDE_DELETED",{origin:"trash_icon"}),this.removeGuide())},stepperClick:function(){this.state.isHoverBubble?(this.setState({isHoverBubble:!1,stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash",selectedDueToHoverBubbleClick:!0}),this.setGuideSelected("click_on_tooltip")):this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},getStepperWithSVGProps:function(){return{showSymbol:this.props.isSelected&&!this.state.isFirstRender,stepperClickFunc:this.stepperClick,symbolClickFunc:this.stepperSymbolClickFunc,symbolName:this.state.stepperSymbol,stepperProps:{min:-99999,max:99999,step:1,selectedUnits:"px",units:"px",afterBlur:this.onStepperValueChangeApproval,isInvalidValue:this.state.stepperValueInvalid,valueLink:{value:this.state.guidePosition,requestChange:this.onStepperSteppingValueChange},dynamicInputSize:{characterWidth:10,minWidth:20},inputInFocus:this.state.selectedDueToHoverBubbleClick}}},getOverridePositionAdjustments:function(e){if("horizontal"!==this.props.rulerDirection)return{type:r.TOOLTIP.ALIGNMENT.TOP,value:"hover"===e?3:6}},getBubbleMode:function(){return this.props.isSelected&&!this.state.isFirstRender?"selected":this.state.isHoverBubble&&!this.props.toolsHidden?"hover":null},getHoverBubbleProps:function(){return{closeTrigger:[],hideMethod:this.closeHoverBubble,timeoutForMouseOverBubble:600,mouseLeftTargetNode:!this.isBeingDragged&&!this.state.mouseOverGuide,className:"hover-bubble"}},getSelectedBubbleProps:function(){return{closeTrigger:[r.TOOLTIP.TRIGGERS.OUTER_CLICK],hideMethod:this.deselectGuide,timeoutForMouseOverBubble:0,mouseLeftTargetNode:null,className:"selected-bubble"}},getBubbleProps:function(){var t=this.getBubbleMode(),o="hover"===t?this.getHoverBubbleProps():this.getSelectedBubbleProps(),i=this.getOverridePositionAdjustments(t),n="horizontal"===this.props.rulerDirection?5:-5,a="horizontal"===this.props.rulerDirection?r.TOOLTIP.ALIGNMENT.LEFT:r.TOOLTIP.ALIGNMENT.RIGHT;return{value:{classPath:"baseUI.stepperWithSVG",props:this.getStepperWithSVGProps()},styleType:r.TOOLTIP.STYLE_TYPE.NORMAL,alignment:a,noArrow:!0,targetNode:e.findDOMNode(this.refs.guide),closeTriggers:o.closeTrigger,hideMethod:o.hideMethod,marginsFromWindow:0,mouseLeftTargetNode:o.mouseLeftTargetNode,marginsFromElement:n,timeoutForMouseOverBubble:o.timeoutForMouseOverBubble,overridePositionAdjustments:i,customClasses:[o.className]}},onContainerMouseDown:function(e){e.stopPropagation(),this.props.toolsHidden||this.startDrag(e,this.getDragLimits())},onMouseLeave:function(){this.setState({mouseOverGuide:!1})},activateHoverBubble:function(){this.state.mouseOverGuide&&this.setState({isHoverBubble:!0,selectedDueToHoverBubbleClick:!1})},onMouseEnter:function(){!this.props.disableInteraction&&(!this.props.isSelected&&!this.props.toolsHidden||this.props.isSelected&&this.state.isFirstRender)&&(this.setState({mouseOverGuide:!0}),window.setTimeout(this.activateHoverBubble,500))},handleGuideClick:function(e){e.stopPropagation(),this.props.disableInteraction||this.props.toolsHidden||(this.state.isHoverBubble&&this.setState({isHoverBubble:!1}),this.preventClickAfterDragEnd?this.preventClickAfterDragEnd=!1:this.setGuideSelected("click_on_guide"))},render:s})}),define("rEditor/rootComps/rulers/rulers.rt",["react","lodash","core","util","rEditor/rootComps/rulers/guide"],function(e,t,o,i,n){"use strict";return function(){return e.createElement.apply(this,["div",{className:t({rulers:!0,"mobile-editor-rulers":this.getEditorAPI().isMobileEditor(),"vertical-ruler":"vertical"===this.props.rulerDirection,"horizontal-ruler":"horizontal"===this.props.rulerDirection}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),ref:"rulerContainer",style:this.getRulersStyle(),onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:function(e){e.preventDefault()}.bind(this)},this.props.toolsHidden?null:e.createElement("div",{className:this.props.rulerDirection+"-ticks",key:this.props.rulerDirection+"-ruler"},this.getEditorAPI().isMobileEditor()||"vertical"!==this.props.rulerDirection?null:e.createElement("div",{className:"rulers-separator-blocker",key:"rulers-separator-blocker"}),this.getEditorAPI().isMobileEditor()||"horizontal"!==this.props.rulerDirection?null:e.createElement("div",{className:"rulers-separator "+t({"rulers-separator-hover":this.props.isHovered}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"rulers-separator"}),e.createElement("div",{className:"rulers-background "+t({"rulers-background-hover":this.props.isHovered,"rulers-background-mobile":this.getEditorAPI().isMobileEditor()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"rulers-"+this.props.rulerDirection+"-ticks",style:this.getTicksPositionInBackgroundStyle()}),e.createElement.apply(this,["div",{className:"ruler-numbers-container",style:this.getRulersNumbersStyle()},t.map(this.getRulerNumbers(),function(t,o){return e.createElement("div",{key:"number-"+t,className:"ruler-number"},t)}.bind(this))]))),t.map(this.props.guidesInRuler,function(t,o){return e.createElement(n,{key:t.guideId,rulerDirection:this.props.rulerDirection,guidePosition:t.guidePosition,guideId:t.guideId,isSelected:this.props.selectedGuide===t.guideId,isGuideOutOfLimitsFunc:this.isGuideOutOfLimits,isMouseOverRulers:this.isMouseOver,toolsHidden:this.props.toolsHidden,disableInteraction:this.props.isDragging,previewSize:this.props.previewSize})}.bind(this))])}}),define("rEditor/rootComps/rulers/rulers",["reactDOM","jquery","create-react-class","prop-types","lodash","core","util","rEditor/rootComps/rulers/rulers.rt","rEditor/rootComps/rulers/rulersComputations"],function(e,t,o,i,n,a,r,s,l){"use strict";return o({displayName:"rulers",mixins:[a.mixins.editorAPIMixin],propTypes:{rulerDirection:i.string.isRequired,guidesInRuler:i.array.isRequired,selectedGuide:i.string,isHovered:i.bool,previewHeight:i.number,toolsHidden:i.bool,selectedComponents:i.array,isDragging:i.bool,previewSize:i.object.isRequired},getInitialState:function(){return this.isMouseOver=!1,this.viewPort=a.utils.stageUtils.getViewPort(!0),this.verticalRulersComponentWidth=null,{}},componentWillMount:function(){var e=r.keyboardShortcuts.extendContext(r.keyboardShortcuts.CONTEXTS.EDITOR,this.getRulersKeyboardShortcuts());r.keyboardShortcuts.registerContext(r.keyboardShortcuts.CONTEXTS.RULERS,e),this.horizontalTicksHeight=l.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidMount:function(){"vertical"===this.props.rulerDirection&&(this.verticalRulersComponentWidth=this.getVerticalRulerWidth())},shouldComponentUpdate:function(e){!this.props.isHovered&&e.isHovered&&"vertical"===this.props.rulerDirection&&this.getEditorAPI().rulers.sendBIEvent("RULERS_HOVER",{});var t=this.viewPort;return this.viewPort=a.utils.stageUtils.getViewPort(!0),this.props.previewHeight!==e.previewHeight||t!==this.viewPort||!n.isEqual(e,this.props)},componentWillUpdate:function(){this.horizontalTicksHeight=l.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidUpdate:function(e){n.isEmpty(e.selectedComponents)&&!n.isEmpty(this.props.selectedComponents)&&this.props.selectedGuide&&this.getEditorAPI().rulers.deselectGuide(),"vertical"===this.props.rulerDirection&&(this.verticalRulersComponentWidth=this.getVerticalRulerWidth())},componentWillUnmount:function(){r.keyboardShortcuts.unregisterContext(r.keyboardShortcuts.CONTEXTS.RULERS)},getRulersKeyboardShortcuts:function(){return{"del,backspace":this.getEditorAPI().rulers.removeGuideViaDelBtn,"shift + right":n.partial(this.changeGuidePositionViaKeyboard,"vertical",10),"shift + left":n.partial(this.changeGuidePositionViaKeyboard,"vertical",-10),"shift + up":n.partial(this.changeGuidePositionViaKeyboard,"horizontal",-10),"shift + down":n.partial(this.changeGuidePositionViaKeyboard,"horizontal",10),left:n.partial(this.changeGuidePositionViaKeyboard,"vertical",-1),right:n.partial(this.changeGuidePositionViaKeyboard,"vertical",1),up:n.partial(this.changeGuidePositionViaKeyboard,"horizontal",-1),down:n.partial(this.changeGuidePositionViaKeyboard,"horizontal",1)}},changeGuidePositionViaKeyboard:function(e,t){var o=this.getEditorAPI(),i=o.rulers.getSelectedGuideData();this.isGuideOutOfLimits(i.guidePosition+t,!1,e)||o.rulers.changeGuidePositionByPixels(e,t)},getVerticalRulerWidth:function(){return this.refs.rulerContainer&&e.findDOMNode(this.refs.rulerContainer)&&e.findDOMNode(this.refs.rulerContainer).getBoundingClientRect()&&e.findDOMNode(this.refs.rulerContainer).getBoundingClientRect().width||0},getRulerNumbers:function(){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout(),o=e.editorConfig.previewHeight;return l.getRulerNumbers(e.isMobileEditor(),t,o,e.getPreviewPosition(),this.props.rulerDirection)},getRulersNumbersStyle:function(){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout();return"vertical"===this.props.rulerDirection?{left:e.isMobileEditor()?4:t.x+4}:{top:e.isMobileEditor()?1:100*Math.floor(t.y/100)+80+1}},getRulersStyle:function(){if("vertical"===this.props.rulerDirection){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout(),o={width:l.getVerticalTicksWidth(e.isMobileEditor(),t)};return e.isMobileEditor()&&(o.left=t.x),o}return{height:this.horizontalTicksHeight}},getTicksPositionInBackgroundStyle:function(){var e=this.getEditorAPI();if("vertical"===this.props.rulerDirection){var t=e.siteSegments.getPagesContainerAbsLayout();return{backgroundPosition:e.isMobileEditor()?0:t.x+1}}return e.isMobileEditor()?{backgroundPosition:"5px 0"}:{backgroundPosition:"5px -21px"}},isGuideOutOfLimits:function(e,t,o){var i=this.getEditorAPI(),n=i.siteSegments.getPagesContainerAbsLayout();return o=o||this.props.rulerDirection,t?l.isGuideOutOfViewLimits(i.isMobileEditor(),n,this.viewPort,this.verticalRulersComponentWidth,o,e,t):l.isGuideOutOfLimits(i.isMobileEditor(),n,this.viewPort,this.verticalRulersComponentWidth,o,e,t)},handleMouseEnter:function(e){if(!t(e.target).hasClass("vertical-guide")&&!t(e.target).hasClass("horizontal-guide")){this.isMouseOver=!0;this.getEditorAPI().rulers.updateEditorRulersState("isHovered",!0)}},handleMouseLeave:function(){if(this.isMouseOver=!1,!this.props.isDragging){this.getEditorAPI().rulers.updateEditorRulersState("isHovered",!1)}},handleMouseDown:function(e){if(n.includes(["rulers-vertical-ticks","rulers-horizontal-ticks","ruler-number","ruler-numbers-container"],e.target.className)){var t=l.calcNewGuidePosition(this.getEditorAPI(),this.props.rulerDirection,e);this.isGuideOutOfLimits(t,!0)||this.setNewGuide(t)}},setNewGuide:function(e){var t=this.getEditorAPI(),o={};"vertical"===this.props.rulerDirection?(t.rulers.setVerticalGuide(e),o={xCoordinate:e,yCoordinate:0}):(t.rulers.setHorizontalGuide(e),o={xCoordinate:0,yCoordinate:e}),this.getEditorAPI().rulers.sendBIEvent("RULERS_CLICKED",o)},render:s})}),define("rEditor/rootComps/mobileFrame/mobileFrame.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t({"mobile-frame":!0,previewMode:this.props.previewMode}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getFrameStyle()},e.createElement("div",{className:"block-layer bottom"}),e.createElement("div",{className:"mobile-frame-top"}),e.createElement("div",{className:"site-shadow",key:"mobile-site-shadow"}),e.createElement("div",{className:"mobile-frame-bottom"}))}}),define("rEditor/rootComps/mobileFrame/mobileFrame",["lodash","create-react-class","prop-types","reactDOM","higherOrderComponents","rEditor/rootComps/mobileFrame/mobileFrame.rt"],function(e,t,o,i,n,a){"use strict";var r=t({displayName:"mobileFrame",propTypes:{displayShadow:o.bool,siteScale:o.number,previewMode:o.bool.isRequired,refreshMobileFramePosition:o.func,siteX:o.number},componentDidMount:function(){this.updateMobileFramePosition()},componentDidUpdate:function(){this.updateMobileFramePosition()},updateMobileFramePosition:function(){e(i.findDOMNode(this).getBoundingClientRect()).pick(["top","left","height","width"]).thru(this.props.refreshMobileFramePosition).value()},getFrameStyle:function(){var e={left:this.props.siteX};return this.props.previewMode||1===this.props.siteScale||(e.height=Math.round(100/this.props.siteScale)+"%",e.transform="scale("+this.props.siteScale+")"),e},render:a});return n.renderWhenMutated(r)}),define("rEditor/utils/mouseMoveActions/baseSpace",["lodash","core","constants"],function(e,t,o){"use strict";var i=t.utils.layoutTransitionsUtil,n=void 0,a=void 0,r=void 0,s=void 0,l=void 0,c=void 0,p=void 0,d=void 0;return{start:function(t,o){s=t,a=o.compsToPush,r=o.snapThreshold||0;var l=e.map(a,"id");s.documentServices.renderPlugins.setCompsToShowOnTop(l);var u=e.omit(s.components.layout.getRelativeToScreen(a),"bounding"),m=e.map(a,function(t){return e.omit(s.components.layout.getRelativeToScreen(t),"bounding")});c=o.minY,p=o.onSpaceEnd,d=o.onSpace;var g={x:o.evt.pageX,y:o.evt.pageY};n=new i.Drag(u,g,m)},on:function(t){var o={x:t.pageX,y:t.pageY},i=n.getLayout(o);i.y=Math.max(i.y,c),i.y-r<=c&&(i.y=c),l=n.getBoundComponentLayouts(i);for(var p=0;p<a.length;p++)s.components.layout.updateRelativeToScreenAndAdjustLayout(a[p],e.pick(l[p],"y"));e.isFunction(d)&&d(o.x,o.y)},end:function(){if(l){for(var t=0;t<a.length;t++)s.components.layout.updateRelativeToScreen(a[t],e.pick(l[t],"y"));l=null}s.documentServices.renderPlugins.setCompsToShowOnTop(null),e.isFunction(p)&&p()},type:o.MOUSE_ACTION_TYPES.SPACER}}),define("rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement(o.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip},e.createElement("div",{className:"section-controls-button "+(this.props.label?"with-label":"")+" "+(this.props.isDisabled?"disabled":""),onClick:function(){this.onClick()}.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e.createElement(o.symbol,{name:this.props.symbol}),e.createElement("span",{},this.props.label)))}}),define("rEditor/rootComps/sectionsReorganize/sectionControlsButton",["create-react-class","prop-types","lodash","rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt"],function(e,t,o,i){"use strict";return e({displayName:"sectionControlsButton",propTypes:{onClick:t.func,tooltip:t.string,symbol:t.string.isRequired,isDisabled:t.bool},onClick:function(){this.isDisabled||this.props.onClick()},render:i})}),define("rEditor/rootComps/sectionsReorganize/sectionControls.rt",["react","lodash","uiConstants","baseUI","util","rEditor/rootComps/sectionsReorganize/sectionControlsButton","constants"],function(e,t,o,i,n,a,r){"use strict";return function(){return function(){var r=this.getSectionStyle();return e.createElement("div",{className:t(this.getSectionControlsClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:r},e.createElement("div",{className:"highlight "+(this.props.isDragging?"with-shadow":""),style:this.getHighlightStyle(),onMouseDown:this.props.onDragHandleMouseDown}),this.shouldDisplayReorderButtons()?e.createElement("div",{key:"reorder-buttons",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},e.createElement(a,t.assign({},{onClick:this.props.isFirstSection?t.noop:this.props.onUpClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Up",symbol:"sectionMoveUp",",":!0,isDisabled:this.props.isFirstSection},this.getControlButtonProps())),e.createElement(a,t.assign({},{onClick:this.props.isLastSection?t.noop:this.props.onDownClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Down",symbol:"sectionMoveDown",isDisabled:this.props.isLastSection,",":!0},this.getControlButtonProps())),this.props.isMobileEditor?null:e.createElement(a,t.assign({},{key:"duplicate_btn",onClick:this.props.onDuplicateClicked,tooltip:"ZoomOut_Section_Tooltip_Copy_Section",symbol:"sectionDuplicate"},this.getControlButtonProps())),this.props.isSectionRemovable?e.createElement(a,t.assign({},{key:"remove_btn",onClick:this.props.onDeleteClicked,tooltip:this.props.isMobileEditor?"ZoomOut_Section_Tooltip_Hide_Section":"ZoomOut_Section_Tooltip_Delete_Section",symbol:this.props.isMobileEditor?"sectionMobileHide":"sectionDelete"},this.getControlButtonProps())):null)):null,this.props.isGap&&!this.props.isInCropMode?e.createElement("div",{key:"gap-delete",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},e.createElement(a,t.assign({},{onClick:this.props.onDeleteClicked,symbol:"sectionDelete",label:n.translate("ZoomOut_Delete_Space_Tooltip")},this.getControlButtonProps())))):null,this.props.isHeader||this.props.isFooter?e.createElement("div",{key:"header-footer-info",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},!this.props.isHeader||this.props.isMobileEditor&&1===this.props.siteScale?null:e.createElement(i.tooltip,{key:"header-info",value:"ZoomOut_Header_Tooltip",styleType:"small",alignment:o.TOOLTIP.ALIGNMENT.BOTTOM},e.createElement("div",{className:"header-footer-info",onMouseEnter:this.onHeaderOver},e.createElement(i.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"info-text"},n.translate("ZoomOut_Header")))),this.props.isFooter?e.createElement(i.tooltip,{key:"footer-info",value:"ZoomOut_Footer_Tooltip",styleType:"small",alignment:o.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"header-footer-info",onMouseEnter:this.onFooterOver},e.createElement(i.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"info-text"},n.translate("ZoomOut_Footer")))):null)):null)}.apply(this,[])}}),define("rEditor/rootComps/sectionsReorganize/sectionControls",["create-react-class","prop-types","lodash","core","rEditor/rootComps/sectionsReorganize/sectionControls.rt"],function(e,t,o,i,n){"use strict";return e({displayName:"sectionControls",propTypes:{isMobileEditor:t.bool,layout:t.object.isRequired,siteScale:t.number.isRequired,showDragHighlight:t.bool,isDragging:t.bool,isGap:t.bool,isSpacing:t.bool,isHeader:t.bool,isFooter:t.bool,isStaticSection:t.bool,isInCropMode:t.bool,isSectionRemovable:t.bool,onDragHandleMouseDown:t.func,onUpClicked:t.func,onDownClicked:t.func,onDuplicateClicked:t.func,onDeleteClicked:t.func},mixins:[i.mixins.editorAPIMixin],getDefaultProps:function(){return{isMobileEditor:!1,showDragHighlight:!1}},getInitialState:function(){return{isHoveringControlButton:!1}},componentWillMount:function(){this._setControlButtonHoverState=o.debounce(this.setControlButtonHoverState,100),this.throttledBi=o.throttle(this.bi,50,{leading:!1,trailing:!0})},getSectionControlsClasses:function(){return{"section-controls":!0,"show-highlight":this.props.showDragHighlight||this.state.isHoveringControlButton,"no-drag-handle":this.state.isHoveringControlButton||this.props.isSpacing,"header-footer-blocker":this.props.isHeader||this.props.isFooter||this.props.isStaticSection}},getSectionStyle:function(){return{top:this.props.layout.y*this.props.siteScale,height:this.props.layout.height*this.props.siteScale}},getHighlightStyle:function(){var e={width:"calc("+(this.props.isMobileEditor?"320px":"100%")+" * "+this.props.siteScale+" + 2px)"};return 1===this.props.siteScale&&(e.pointerEvents="none"),e},setControlButtonHoverState:function(e){this.state.isHoveringControlButton!==e&&this.setState({isHoveringControlButton:e})},shouldDisplayReorderButtons:function(){return!(this.props.isHeader||this.props.isFooter||this.props.isStaticSection||this.props.isGap||this.props.isDragging||this.props.isInCropMode)},getControlButtonProps:function(){var e=this;return{onMouseEnter:function(){e._setControlButtonHoverState(!0)},onMouseLeave:function(){e._setControlButtonHoverState(!1)}}},getButtonsWrapperStyle:function(){var e="calc(25% + 100% * "+this.props.siteScale+" + 36px)";return this.props.isMobileEditor&&(e="calc(50% + 320px / 2 * "+this.props.siteScale+" + 36px)"),{height:this.props.layout.height*this.props.siteScale,left:e}},bi:function(e){var t=this.getEditorAPI();t.bi.event(e,{editor_view_mode:t.getDeviceType()})},onHeaderOver:function(){this.throttledBi(i.bi.events.sectionReorganize.header_tooltip_hover)},onFooterOver:function(){this.throttledBi(i.bi.events.sectionReorganize.footer_tooltip_hover)},render:n})}),define("rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight.rt",["react","lodash","util","baseUI","baseUILib"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("div",{className:t({"recommended-mobile-header-height":!0,selected:this.isHeaderSelected()&&!this.props.isResizing}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"header-footer-info-tooltip",key:"recommended-mobile-header",style:this.getHeaderInfoStyle()},e.createElement(n.Tooltip,{key:"recommended-mobile-header-tooltip",id:"recommended-mobile-header-tooltip",content:"mobile_headerscroll_panel_size_tooltip",alignment:"BOTTOM"},e.createElement("div",{className:"header-tooltip-content"},e.createElement(i.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"recommended-mobile-header-height-title"},"\n          ",o.translate("mobile_headerscroll_panel_size_title"),"\n        ")))),e.createElement.apply(this,["svg",{className:"header-recommended-height-separator"},t.map(this.getRecommendedHeaderLines(),function(t,o){return e.createElement("line",{key:"recommended-height-separator-"+o,className:"header-recommended-height-separator",x1:t.x1,x2:t.x2,y1:t.y,y2:t.y})}.bind(this))]))}}),define("rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight",["lodash","create-react-class","prop-types","higherOrderComponents","constants","util","rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight.rt"],function(e,t,o,i,n,a,r){"use strict";var s=n.ROOT_COMPS.MOBILE_EDITOR.RECOMMENDED_MOBILE_HEADER_HEIGHT,l=n.ROOT_COMPS.MOBILE_EDITOR.MOBILE_FRAME_WIDTH,c=t({displayName:"recommendedMobileHeaderHeight",propTypes:{isResizing:o.bool,selectedComponents:o.arrayOf(o.object),stageLayout:o.object.isRequired},isHeaderSelected:function(){var t=e.head(this.props.selectedComponents);return t&&"SITE_HEADER"===t.id},getHeaderInfoStyle:function(){var e=this.props.stageLayout,t=a.uiUtils.getScrollbarWidth();return{left:(e.width-t-l)/2+l+36,top:s-14-12+1}},getRecommendedHeaderLines:function(){var e=this.props.stageLayout,t=a.uiUtils.getScrollbarWidth();return a.recommendedMobileHeaderHeightUtils.buildRecommendedHeaderLines(e,t)},render:r}),p=i.connectEditorAPI(function(e){return{selectedComponents:e.selection.getSelectedComponents()}})(i.renderWhenMutated(c));return p.pure=c,p}),define("rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt",["react","lodash","baseUI","rEditor/rootComps/sectionsReorganize/sectionControls","experiment","rEditor/rootComps/recommendedMobileHeaderHeight/recommendedMobileHeaderHeight","constants"],function(e,t,o,i,n,a,r){"use strict";return function(){function n(){var n=this.getSections(),s=this.getSpacerProps(n),l=this.getSectionControlsProps(n,s);return e.createElement("div",{className:"sections-reorganize-exp"},e.createElement.apply(this,["svg",{className:"section-separators"},t.map(this.getSeparatorLines(n),function(o,i,n,a,r){return e.createElement("line",{className:t({"section-separator":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"separator-"+r,x1:a.x1,x2:a.x2,y1:a.y,y2:a.y})}.bind(this,n,s,l))]),this.shouldDisplayRecommendedHeaderHeight()?e.createElement(a,{key:"recommendedMobileHeaderHeight",isResizing:this.props.isResizing,stageLayout:this.props.stageLayout}):null,l&&!this.state.isSpacing?e.createElement(i,t.assign({},{key:l.layout.y+"_"+l.layout.height,isMobileEditor:this.props.isMobileEditor},l)):null,!s||this.props.isMobileEditor&&1===this.props.siteScale?null:e.createElement(o.tooltip,{key:"spacer_tooltip",id:"zoom_mode_spacer_id",value:"ZoomOut_Change_Space_Tooltip",alignment:r.UI.TOOLTIP.ALIGNMENT.CENTER,delay:"0",disabled:this.state.isSpacing},e.createElement("div",{key:"spacer",className:"spacer-handle",style:s.style,onMouseDown:s.onMouseDown},e.createElement(o.symbol,{name:"spacerHandleDots"}))))}return n.apply(this,[])}}),define("rEditor/rootComps/sectionsReorganize/sectionsReorganize",["lodash","create-react-class","prop-types","core","util","baseUI","constants","rEditor/utils/mouseMoveActions/baseSpace","rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt"],function(e,t,o,i,n,a,r,s,l){"use strict";function c(t){if(this.props.selectedSection)return e.find(t,e.bind(function(t){return e.isEqual(t.comps,this.props.selectedSection.comps)},this));var o=this.state.stageMousePosition;if(o)for(var i=0;i<t.length;i++)if(o.y>=t[i].position.top&&o.y<=t[i].position.bottom)return t[i];return null}function p(t){return this.props.selectedSection&&e.isEqual(t.comps,this.props.selectedSection.comps)}function d(e){return function(e){if(!this.state.stageMousePosition)return!1;var t=this.state.stageMousePosition.y;return t>=e.position.top&&t<=e.position.bottom}.call(this,e)&&function(e,t,o){var n=void 0;if(o)n=320*t;else{var a=i.utils.stageUtils.getStageRect();n=(a.right-a.left)*t}return e.x*t>=n}(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor)}function u(e){return!(e.isCurrentPageLandingPage()||e.documentServices.pages.popupPages.isPopupOpened())}function m(e,t){return t.y>=e.y&&t.y<=e.y+e.height}function g(t){if(!t)return null;var o=e.clone(t),n=this.getEditorAPI();o=function(e,t){var o=i.utils.sectionsReorganizeUtil.getHeaderSection(e);return t.unshift(o),t}(n,o);var a=function(e){if(this.props.selectedSection)return-1;var t=this.state.stageMousePosition;if(t)for(var o=0;o<e.length-1;o++)if(t.y>e[o].position.bottom&&t.y<e[o+1].position.top)return o;return-1}.call(this,o);if(-1===a)return null;var r={y:o[a].position.bottom,height:o[a+1].position.top-o[a].position.bottom};return{isGap:!0,isInCropMode:n.imageCrop.isCropMode(),layout:r,siteScale:this.props.siteScale,onDeleteClicked:function(){this.closeGapBetweenSections(o,a)}.bind(this)}}var f=30,h=i.bi.events.sectionReorganize,b=r.ROOT_COMPS.MOBILE_EDITOR.SEPARATOR_LINE_LENGTH;return t({displayName:"sectionsReorganize",propTypes:{isMobileEditor:o.bool.isRequired,sections:o.array,selectedSection:o.object,isSectionDragging:o.bool,isCompDragging:o.bool,stageLayout:o.object.isRequired,siteScale:o.number.isRequired,isResizing:o.bool,isInZoomMode:o.bool},mixins:[i.mixins.editorAPIMixin],getInitialState:function(){return{isSpacing:!1,stageMousePosition:null}},componentDidMount:function(){this._throttledUpdateMousePosition=e.throttle(this.updateMousePosition,100),window.addEventListener("mousemove",this._throttledUpdateMousePosition)},componentWillUnmount:function(){window.removeEventListener("mousemove",this._throttledUpdateMousePosition)},updateMousePosition:function(t){if(function(e,t,o){return t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom}(i.utils.stageUtils.getStageLayout(),t.clientX,t.clientY)){var o=this.getEditorAPI();t=e.pick(t,["clientX","clientY","pageX","pageY"]);var n=i.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(o,t),a={x:n.pageX,y:n.pageY};this.setState({stageMousePosition:a})}else this.state.stageMousePosition&&this.setState({stageMousePosition:null})},getSections:function(){return this.props.sections?this.props.sections:i.utils.sectionsReorganizeUtil.getPageSections(this.getEditorAPI())},getSectionControlsProps:function(t,o){return function(){var t=this.state.stageMousePosition;if(!t)return null;var o=this.getEditorAPI();if(!u(o))return null;var i=o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getHeader()),n=o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getFooter()),a=void 0;return m(i,t)?a={layout:i,isHeader:!0}:m(n,t)&&(a={layout:n,isFooter:!0}),a?e.assign(a,{siteScale:this.props.siteScale}):null}.call(this)||g.call(this,t)||function(t,o){function n(e){u.bi.event(h.reorder_panel_clicked,{editor_view_mode:u.getDeviceType(),action_clicked:e})}if(!t||o&&o.isSpacerHovered)return null;var a=c.call(this,t);if(!a)return null;var r=e.findIndex(t,a);if(a.isStaticSection)return{layout:this.getSectionLayout(a),siteScale:this.props.siteScale,isStaticSection:!0};var s=p.call(this,a),l=1!==this.props.siteScale,d=this,u=d.getEditorAPI();return{section:a,siteScale:this.props.siteScale,layout:this.getSectionLayout(a),showDragHighlight:!this.props.isMobileEditor||l,isDragging:s,isInZoomMode:u.zoomMode.isInZoomMode(),isInCropMode:u.imageCrop.isCropMode(),isSpacing:this.state.isSpacing,tooltipId:"reorganize-section-tooltip",isFirstSection:0===r||e.get(t,[r-1,"isStaticSection"]),isLastSection:r===t.length-1||e.get(t,[r+1,"isStaticSection"]),isSectionRemovable:a.isRemovable,onDragHandleMouseDown:function(e){d.startSectionDrag(e,t,a)},onDuplicateClicked:function(){i.utils.sectionsReorganizeUtil.duplicateSection(u,t,e.findIndex(t,a)),n("duplicate")},onDeleteClicked:function(){i.utils.sectionsReorganizeUtil.deleteSection(u,t,e.findIndex(t,a)).then(function(e){e&&(u.history.add("Delete Section"),n("delete"))})},onUpClicked:function(){d.shiftSection(t,a,-1),n("up")},onDownClicked:function(){d.shiftSection(t,a,1),n("down")}}}.call(this,t,o)},getSpacerProps:function(t){if((this.props.isCompDragging||this.props.isSectionDragging)&&!this.state.isSpacing)return null;var o=this.state.stageMousePosition;if(!t||!o)return null;var n=function(t,o){if(this.state.isSpacing&&this.props.selectedSection)return e.findIndex(t,e.bind(p,this));for(var i=0;i<t.length;i++){var n=i>0?t[i-1]:null;if(o.y<=t[i].position.top+f&&(!n||o.y>n.position.top+f))return i}return-1}.call(this,t,o),r=function(e,t,o){var n=void 0;if(o)n=320*t;else{var a=i.utils.stageUtils.getStageRect();n=(a.right-a.left)*t}return e.x*t<=n}(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor),s=c.call(this,t),l=e.findIndex(t,s),u=!!s&&d.call(this,s);if(-1===n||!r||u)return null;var m=this,g=this.props.isMobileEditor?"320px":"100%";return{style:{top:this.getSectionLayout(t[n]).y*this.props.siteScale,width:"calc("+g+" * "+this.props.siteScale+" + 2px)"},onMouseDown:function(e){a.tooltipManager.hide("zoom_mode_spacer_id"),m.startSpacing(e,t,n)},isSpacerHovered:n===l}},getSeparatorLines:function(t){var o=function(t,o){var n=e.clone(t),a=[];if(u(o)){var r=i.utils.sectionsReorganizeUtil.getHeaderSection(o);n.unshift(r)}for(var s=0;s<n.length;s++){var l=n[s],c=s>0?n[s-1]:null;c&&c.position.bottom<l.position.top&&a.push(l.position.top),a.push(l.position.bottom)}return a}(t,this.getEditorAPI()),a=this.props.stageLayout,r=n.uiUtils.getScrollbarWidth(),s=(a.width-r)*this.props.siteScale;this.props.isMobileEditor&&(s=320*this.props.siteScale);var l=(a.width-r-s)/2,c=e.get(i.utils.sectionsReorganizeUtil.getHeaderSection(this.getEditorAPI()),["position","bottom"]),p=this.isHeaderSectionResizing();return e.flatMap(o,e.bind(function(e){return e*=this.props.siteScale,[{x1:l-b,x2:l,y:e,isSectionResizing:p&&c===e},{x1:l+s,x2:l+s+b,y:e,isSectionResizing:p&&c===e}]},this))},isHeaderSectionResizing:function(){return this.props.isResizing&&this.isHeaderSectionSelected()},isHeaderSectionSelected:function(){return"SITE_HEADER"===e.get(e.head(this.getEditorAPI().selection.getSelectedComponents()),"id")},shouldDisplayRecommendedHeaderHeight:function(){return this.props.isMobileEditor&&!this.props.isInZoomMode&&this.isHeaderSectionSelected()},closeGapBetweenSections:function(e,t){for(var o=this.getEditorAPI(),n=e[t+1].position.top-e[t].position.bottom,a=t+1;a<e.length;a++)i.utils.sectionsReorganizeUtil.shiftSection(o,e[a],-1*n);o.bi.event(h.SPACE_DELETED,{site_id:o.documentServices.generalInfo.getSiteId(),page_id:o.documentServices.pages.getFocusedPageId(),space_size:n}),o.history.add("Delete Space")},shiftSection:function(t,o,n){var a=e.findIndex(t,o)+n;if(!(a<0||a>=t.length)){var r=o,s=t[a];-1===n&&(r=t[a],s=o),i.utils.sectionsReorganizeUtil.switchSections(this.getEditorAPI(),t,r,s),this.getEditorAPI().history.add("Move Section")}},startSectionDrag:function(e,t,o){var n=this.getEditorAPI();n.setPageSections(t,o),n.mouseActions.registerMouseMoveAction(i.utils.sectionDrag,{sections:t,evt:e,minY:function(e){return e.siteSegments.getPagesContainerAbsLayout().y}(n),draggedSection:o,onDragEnd:this.onSectionDragEnd.bind(this,o,o.position.top)},!0)},onSectionDragEnd:function(e,t){var o=this.getEditorAPI();e=this.props.selectedSection||e,o.bi.event(h.REORDER_SECTION,{page_id:o.documentServices.pages.getFocusedPageId(),position_before:t,position_after:e.position.top,section_size:i.utils.sectionsReorganizeUtil.getSectionSizeForBI(e.position.bottom-e.position.top)}),o.clearPageSections()},startSpacing:function(t,o,i){for(var n=this.getEditorAPI(),a=[],r=i;r<o.length;r++)a=a.concat(o[r].comps);if(!e.isEmpty(a)){var l=0===i?0:o[i-1].position.bottom;n.mouseActions.registerMouseMoveAction(s,{evt:t,minY:l,snapThreshold:Math.round(5/this.props.siteScale),compsToPush:a,onSpaceEnd:this.onSpaceEnd}),this.setState({isSpacing:!0}),n.setPageSections(o,o[i]),n.bi.event(h.zoom_mode_spacer_drag)}},onSpaceEnd:function(){this.getEditorAPI().clearPageSections(),this.setState({isSpacing:!1}),this.getEditorAPI().history.add("Change Sections Space")},getSectionLayout:function(t){if(t.layout)return t.layout;if((this.props.isSectionDragging||this.state.isSpacing)&&!e.isEmpty(t.comps)){var o=this.getEditorAPI().components.layout.getRelativeToScreen(t.comps);return o.bounding||o}return{y:t.position.top,height:t.position.bottom-t.position.top}},render:l})}),define("rEditor/rootComps/pinMode/pinMode.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"pin-mode"},e.createElement("div",{className:"preview-rect",style:this.props.style}),e.createElement("div",{className:"blocking-layer",onClick:this.exitPinMode}))}}),define("rEditor/rootComps/pinMode/pinMode",["create-react-class","core","lodash","rEditor/rootComps/pinMode/pinMode.rt"],function(e,t,o,i){"use strict";return e({displayName:"pinMode",mixins:[t.mixins.editorAPIMixin],render:i,exitPinMode:function(){this.getEditorAPI().pinMode.closeAndCheckSizeRestrictions()}})}),define("rEditor/rootComps/stage/editorStage.rt",["react","lodash","rEditor/rootComps/mouseCatcher","rEditor/rootComps/textEditor","core","util","uiAnimations","rEditor/rootComps/gridLines/gridLines","rEditor/rootComps/rulers/rulers","rEditor/rootComps/mobileFrame/mobileFrame","rEditor/rootComps/sectionsReorganize/sectionsReorganize","rEditor/rootComps/pinMode/pinMode","experiment"],function(e,t,o,i,n,a,r,s,l,c,p,d,u){"use strict";return function(){function u(){var u=this.getGuides(),m=this.getEditorAPI();return e.createElement("div",{className:t({"editor-stage":!0,"tools-hidden":this.props.isReorganizeHidden}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),id:this.props.id},m.isMobileEditor()?e.createElement(c,{key:"mobileFrame",ref:"mobileFrame",siteScale:this.props.siteScale,displayShadow:!this.isSectionDragging(),previewMode:this.props.previewMode,refreshMobileFramePosition:m.refreshMobileFramePosition,siteX:m.site.getXPos()}):null,e.createElement("div",{className:"scrollable-editor-stage "+(this.isSiteScrollingEnabled()?"":"scrolling-disabled"),ref:"scrollableEditorStage",id:"scrollableEditorStage",onScroll:this._handleScroll},e.createElement("div",{ref:"siteCover",className:"site-cover",style:{height:this.getStageHeight()}},this.isGridLinesVisible()?e.createElement("div",{className:"gridLines",key:"gridLines"},e.createElement(s,{key:"pageGridLines",gridLines:this.getPageGridLines(),fade:this.shouldFadeGridLines()}),m.components.is.showMarginsIndicator(this.props.focusedContainer)?e.createElement(s,{key:"containerGridLines",gridLines:this.getContainerGridLines()}):null):null,e.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.previewMode||!this.props.editorIsInit||this.props.imageCrop.isOn?null:e.createElement(o,{ref:"mouseCatcher",key:"mouseCatcher",config:this.props.config,attachCandidate:this.props.attachCandidate,onContextMenu:this.props.onContextMenu,editorIsInit:this.props.editorIsInit,isSectionDragging:this.isSectionDragging(),isDragging:this.isDragging(),isResizing:this.isResizing(),isRotating:this.isRotating(),isPinMode:this.props.isPinMode,performingMouseMoveAction:this.props.performingMouseMoveAction,registeredMouseMoveAction:this.props.registeredMouseMoveAction,hoveredComp:this.props.hoveredComp,hoverBoxOverlay:this.props.hoverBoxOverlay,setHoverBox:this.props.setHoverBox,clearHoverBox:this.props.clearHoverBox,selectedComponents:m.selection.getSelectedComponents(),focusedContainer:this.props.focusedContainer,compPanel:this.props.panel,previewPosition:this.props.previewPosition,previewMode:this.props.previewMode,siteScale:this.props.siteScale,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lastSelectionClickPos:this.props.lastSelectionClickPos,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea}),this.props.imageCrop.isOn?e.createElement(n.lazyComponent,t.assign({},{moduleName:"imageCrop.layer",key:"imageCrop"},{imageCropData:this.props.imageCrop,imageComponent:this.getImageComponent()})):null,e.createElement(i,{key:"textEditorNew",isOpenTextEditor:this.props.isOpenTextEditor,openPanels:this.props.openPanels,selectedTextComp:this.getSelectedTextComp(),layout:this.getTextEditorPosition(),isResizing:this.isResizing()}),this.props.viewTools.rulersEnabled&&1===this.props.siteScale&&m.isPreviewReady()?e.createElement(l,{key:"rulers",rulerDirection:"horizontal",previewHeight:this.getStageHeight(),guidesInRuler:u.horizontalGuides,selectedGuide:this.props.viewTools.rulers.selectedGuide,isHovered:this.props.viewTools.rulers.isHovered,toolsHidden:this.props.hideTools,selectedComponents:this.props.selectedComponents,isDragging:this.props.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),e.createElement("div",{className:"non-scalable"},1!==this.props.siteScale?e.createElement("div",{className:"block-layer",key:"block-layer"},e.createElement("div",{className:"side left transition",style:this.getSideBlockLayerStyle()}),e.createElement("div",{className:"side right transition",style:this.getSideBlockLayerStyle()}),m.isMobileEditor()?null:e.createElement("div",{key:"block-layer-bottom",className:"side bottom",style:{height:"calc(100% - "+this.getSideBlockLayerHeight()+"px)"}}),this.isSectionDragging()||m.isMobileEditor()?null:e.createElement("div",{key:"scaled-site-shadow",className:"shadow",style:this.getBlockShadowStyle()})):null,!this.props.editorIsInit||this.props.isPinMode||this.props.isPopupMode||!m.isMobileEditor()&&1===this.props.siteScale?null:e.createElement(p,{key:"sectionsReorganize",ref:"sectionsReorganize",isMobileEditor:m.isMobileEditor(),sections:this.props.pageSections.sections,selectedSection:this.props.pageSections.selectedSection,isSectionDragging:this.isSectionDragging(),isCompDragging:this.isDragging(),siteScale:this.props.siteScale,isHidden:this.props.isReorganizeHidden,halfOpacityTools:this.props.halfOpacityTools,stageLayout:m.ui.stage.getEditingAreaLayout(),isResizing:this.isResizing(),isInZoomMode:m.zoomMode.isInZoomMode()})))),e.createElement("div",{className:"fixed-editor-stage",style:{width:"calc(100% - "+a.uiUtils.getScrollbarWidth()+"px)"}},e.createElement("div",{className:"fixed-editor-stage-contents-wrapper "+(1!==this.props.siteScale?"no-pointer-events":"")},e.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.isPinMode?e.createElement(d,{ref:"pinMode",key:"pinMode",style:this.props.pinPreviewRectStyle}):null,this.props.viewTools.rulersEnabled&&1===this.props.siteScale?e.createElement(l,{key:"rulers",rulerDirection:"vertical",guidesInRuler:u.verticalGuides,selectedGuide:this.props.viewTools.rulers.selectedGuide,isHovered:this.props.viewTools.rulers.isHovered,toolsHidden:this.props.hideTools,isDragging:this.props.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),e.createElement("div",{className:"non-scalable"},m.isMobileEditor()?e.createElement("div",{key:"mobileOpacityLayer",className:"mobile-frame-opacity-layer"}):null,e.createElement(r.panelsAnimation,{},this.shouldDisplayMobileOptimizedTeaser()&!m.zoomMode.isInZoomMode()?function(t,o){var i=a.translate;return e.createElement("div",{key:"teaser",className:"mobile-optimized-teaser"},e.createElement("h1",{},i("mobile_view_notification_title")),"\n                        ",i("mobile_view_notification_text"),"\n                        ",e.createElement("a",{onClick:this.openEditorModePanel},i("mobile_view_notification_text_link")),"\n                        ",i("mobile_view_notification_text2"),"\n                    ")}.apply(this,[u,m]):null)))))}return u.apply(this,[])}}),define("rEditor/rootComps/stage/editorStage",["reactDOM","lodash","create-react-class","prop-types","core","uiAnimations","constants","rEditor/rootComps/stage/editorStage.rt"],function(e,t,o,i,n,a,r,s){"use strict";var l=[r.MOUSE_ACTION_TYPES.RESIZE,r.MOUSE_ACTION_TYPES.RESIZE_PUSH,r.MOUSE_ACTION_TYPES.RESIZE_CROP,r.MOUSE_ACTION_TYPES.RESIZE_PAGE],c=[r.MOUSE_ACTION_TYPES.DRAG,r.MOUSE_ACTION_TYPES.DRAG_PUSH];return o({displayName:"EditorStage",mixins:[n.mixins.editorAPIMixin],propTypes:{editorIsInit:i.bool.isRequired,guidesState:i.object,onStageScroll:i.func,previewPosition:i.object,viewTools:i.object.isRequired,focusedContainer:i.object,imageCrop:i.object.isRequired,hideTools:i.bool.isRequired,previewMode:i.bool.isRequired,pinPreviewRectStyle:i.object.isRequired,isOpenTextEditor:i.bool.isRequired,selectedComponents:i.array,isPinMode:i.bool,attachCandidate:i.object,siteScale:i.number.isRequired,snapData:i.array,applyModeFromClipboardSuggestion:i.object,tabIndicationState:i.object.isRequired,lastSelectionClickPos:i.object,lassoCandidates:i.array,lassoLayout:i.object,constraintArea:i.object,hoveredComp:i.object,hoverBoxOverlay:i.bool,setHoverBox:i.func.isRequired,clearHoverBox:i.func.isRequired,scrollTo:i.shape({scrollTop:i.number,scrollLeft:i.number}),animateScrollTo:i.shape({position:i.shape({y:i.number,x:i.number}).isRequired,duration:i.number,onComplete:i.func}),openPanels:i.array.isRequired},componentWillReceiveProps:function(){this.props.hoveredComp&&!this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&this.props.clearHoverBox()},componentDidUpdate:function(){if(this.props.scrollTo)this.setScroll(this.props.scrollTo);else if(this.props.animateScrollTo){var e=this.props.animateScrollTo,t=e.position,o=e.duration,i=e.onComplete;this.animateScroll(t,o,i)}},shouldDisplayMobileOptimizedTeaser:function(){var e=this.getEditorAPI();return e.isMobileEditor()&&!e.getPreviewMode()&&!e.isMobileOptimizedSite()},openEditorModePanel:function(){this.getEditorAPI().panelHelpers.openMobileElementsPanel()},getStageHeight:function(){return this.getEditorAPI().isPreviewReady()?this.props.siteHeight*this.props.siteScale:"100%"},isLandingPage:function(){return this.getEditorAPI().isCurrentPageLandingPage()},isPopupPage:function(){return Boolean(this.getEditorAPI().documentServices.pages.popupPages.getCurrentPopupId())},isSectionDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===r.MOUSE_ACTION_TYPES.SECTION_DRAG&&this.props.performingMouseMoveAction||!1},isDragging:function(){return this.props.registeredMouseMoveAction&&t.includes(c,this.props.registeredMouseMoveAction.type)&&this.props.performingMouseMoveAction},isResizing:function(){return this.props.registeredMouseMoveAction&&t.includes(l,this.props.registeredMouseMoveAction.type)},isRotating:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===r.MOUSE_ACTION_TYPES.ROTATE},getScalableAreaStyle:function(){var e=this.props.siteScale;if(1!==e)return{height:this.props.siteHeight,transform:"scale("+e+")",transformOrigin:"center 0"}},getSideBlockLayerStyle:function(){return this.getEditorAPI().isMobileEditor()?{width:"calc((100% - 320px * "+this.props.siteScale+") / 2)"}:{width:100*(1-this.props.siteScale)/2+"%"}},getSideBlockLayerHeight:function(){return Math.max(0,this.props.siteHeight*this.props.siteScale)},getBlockShadowStyle:function(){var e=100*(1-this.props.siteScale)/2;return{left:e+"%",right:e+"%",height:this.getSideBlockLayerHeight()+"px"}},getImageComponent:function(){return function(e,t){if(t&&1===t.length){var o=t[0];if("Image"===e.components.data.get(o).type)return o}return null}(this.getEditorAPI(),this.props.selectedComponents)},getScroll:function(){return t(this.refs.scrollableEditorStage).thru(e.findDOMNode).pick("scrollTop","scrollLeft").value()},setScroll:function(o){var i=e.findDOMNode(this.refs.scrollableEditorStage);t.isUndefined(o.scrollTop)||(i.scrollTop=o.scrollTop),t.isUndefined(o.scrollLeft)||(i.scrollLeft=o.scrollLeft),this.getEditorAPI().scroll.clearScrollTo()},animateScroll:function(t,o,i){var n=e.findDOMNode(this.refs.scrollableEditorStage);a.scrollTo(t,o,0,n,i),this.getEditorAPI().scroll.clearScrollTo()},getGuides:function(){var e=this.getEditorAPI().isMobileEditor()?"mobile":"desktop",o=t.get(this.props.viewTools.rulers.guidesState,e);return o?{verticalGuides:o.verticalGuides,horizontalGuides:o.horizontalGuides}:{verticalGuides:[],horizontalGuides:[]}},_handleScroll:function(e){this.getEditorAPI().scroll.registerNewScrollPosition(this.getScroll()),this.props.onStageScroll&&this.props.onStageScroll(e)},isSiteScrollingEnabled:function(){var e=t.get(this.getEditorAPI().documentServices,["site","isScrollingEnabled"],!0);return!t.isFunction(e)||e()},getSiteCoverSizes:function(){var t=e.findDOMNode(this.refs.siteCover);return{width:t.clientWidth,height:t.clientHeight}},getPageGridLines:function(){var e=this.getEditorAPI(),t=this.isLandingPage()||this.isPopupPage();return n.utils.gridLinesUtil.getPageGridLines(e,t)},getContainerGridLines:function(){var e=this.getEditorAPI(),t=this.props.focusedContainer;return n.utils.gridLinesUtil.getContainerGridLines(e,t)},shouldFadeGridLines:function(){var e=this.getEditorAPI(),t=this.props.focusedContainer,o=e.selection.getSelectedComponents();return!!(e.components.is.showMarginsIndicator(t)||"wysiwyg.viewer.components.StripColumnsContainer"===e.components.getType(o)&&e.components.getChildren(o).length>1&&o&&e.components.is.fullWidth(o))},isGridLinesVisible:function(){var e=this.getEditorAPI(),t=!0;return e.isPreviewReady()&&e.documentServices.pages.popupPages.isPopupOpened()&&(t=e.components.is.gridLinesVisible(e.pages.popupPages.getPopupContainer())),e.isDesktopEditor()&&this.props.viewTools.guidelinesEnabled&&!this.props.isPinMode&&t},getSelectedTextComp:function(){return function(e,o){if(t.isEmpty(o)||1!==o.length)return!1;var i=t.head(o),n=e.components.data.get(i);return"StyledText"===(n&&n.type)}(this.getEditorAPI(),this.props.selectedComponents)?this.props.selectedComponents[0]:null},getTextEditorPosition:function(){var e={},o=this.getSelectedTextComp();if(o){var i=this.getEditorAPI(),n=i.components.layout.getRelativeToScreen(o),a=i.components.layout.isShowOnFixedPosition(o);if(e={top:n.y,left:n.x,width:n.width,height:n.height,position:a?"fixed":"absolute"},n.rotationInDegrees){var r="rotate("+n.rotationInDegrees+"deg)";t.assign(e,{transform:r,WebkitTransform:r})}if(a){var s=i.getPreviewPosition();e.top+=s.top,e.left+=s.left}}return this.props.isOpenTextEditor||(e.visibility="hidden"),e},render:s})}),define("rEditor/rootComps/prefetch/prefetch.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("link",{rel:"prefetch prerender",href:this.getHref()})}}),define("rEditor/rootComps/prefetch/prefetch",["create-react-class","rEditor/rootComps/prefetch/prefetch.rt"],function(e,t){"use strict";return e({displayName:"prefetch",render:t,getHref:function(){return this.props.base?this.props.base.replace(/\/$/,"")+"/"+this.props.href.replace(/^\//,""):this.props.href}})}),define("rEditor/rootComps/flyingMusa/flyingMusa",["lodash","create-react-class","prop-types","react","higherOrderComponents","stateManagement"],function(e,t,o,i,n,a){"use strict";var r=t({displayName:"flyingMusa",propTypes:{musaStyle:o.object},render:function(){return i.createElement("div",{className:"flying-musa",style:this.props.musaStyle},i.createElement("img",{"data-type":"image",src:"https://static.wixstatic.com/media/2cb119_71a13d37fa584e5e9aa97d1c1ede1d36.gif",width:"143px",height:"72px","object-fit":"cover"}))}});return n.connect(function(e,t){var o=t.musaId;return{musaStyle:a.easterEggs.selectors.getFlyingMusaStyle(e,o)}})(r)}),define("rEditor/rootComps/editorView.rt",["react","lodash","topBar","rEditor/rootComps/topBar/zoomModeBar","rEditor/rootComps/topBar/dynamicPagesComboBox","rEditor/rootComps/rightClickMenu/rightClickMenu","rEditor/rootComps/panels/openedPanels","rEditor/rootComps/portal/portal","baseUI","core","uiAnimations","rEditor/rootComps/stage/editorStage","rEditor/rootComps/mobileFrame/mobileFrame","textControls","rEditor/rootComps/prefetch/prefetch","rEditor/rootComps/flyingMusa/flyingMusa","experiment"],function(e,t,o,i,n,a,r,s,l,c,p,d,u,m,g,f,h){"use strict";return function(){function h(o,i){var n=o.getPreviewMode()?"consolePane":"idePane",a=o.developerMode.ui[n].getSplitPosition();return e.createElement(l.splitter,{className:"ide-splitter",layout:"horizontal",splitPosition:a,onDividerClick:o.getPreviewMode()?null:o.developerMode.ui.idePane.toggleMinimize,statefulResize:!0,onResize:o.developerMode.ui[n].setSplitPosition},e.createElement(l.splitter.Pane,{maxSize:this.props.shouldShowDevModePanels?"calc(100% - "+o.developerMode.ui.topbarHeight+")":""},e.createElement("div",{ref:"editingArea",id:"editingArea",className:t({"editing-area":!0,"mobile-editor":o.isMobileEditor(),"preview-mode":o.getPreviewMode()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"preview-frame-cover"},o.isMobileEditor()&&o.getPreviewMode()?e.createElement(u,{key:"mobileFrame",previewMode:o.getPreviewMode(),refreshMobileFramePosition:o.refreshMobileFramePosition,siteX:o.site.getXPos()}):null,e.createElement("div",{className:"preview-container"},e.createElement("iframe",{ref:"preview",id:"preview",src:this.props.previewUrl,allowFullScreen:"true"})),this.props.previewMode?null:e.createElement(d,{id:"stageContainer",ref:"editorStage",key:"editorStage",siteHeight:this.props.config.previewHeight,config:this.props.config,viewTools:this.props.viewTools,imageCrop:this.props.imageCrop,focusedContainer:this.props.focusedContainer,hideTools:this.props.hideTools,previewMode:this.props.previewMode,pinPreviewRectStyle:this.props.pinPreviewRectStyle,isOpenTextEditor:this.props.isOpenTextEditor,attachCandidate:this.props.attachCandidate,editorIsInit:this.props.editorIsInit,onContextMenu:this.onContextMenu,registeredMouseMoveAction:this.props.registeredMouseMoveAction,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,panel:this.getCompPanel(),previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,portalComps:this.props.portalComps,pageSections:this.props.pageSections,halfOpacityTools:this.props.halfOpacityTools,isReorganizeHidden:this.props.isReorganizeHidden,isPopupMode:o.isPopUpMode(),isPinMode:this.props.isPinMode,onStageScroll:o.scroll.handleStageScroll,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lastSelectionClickPos:this.props.lastSelectionClickPos,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea,hoveredComp:this.state.hoverBox.hoveredComp,hoverBoxOverlay:this.state.hoverBox.hoverBoxOverlay,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox,scrollTo:this.props.scrollTo,openPanels:i,animateScrollTo:this.props.animateScrollTo})),e.createElement(r,{openPanels:i,helpPanelProps:this.props.helpPanelProps,selectedComponents:this.props.selectedComponents,isMobileEditor:this.props.isMobileEditor}),e.createElement(p.leftBarAnimation,{},this.props.previewMode||this.props.isPinMode||this.props.imageCrop.isOn?null:e.createElement(this.LeftBar,{key:"leftBar"})),t.isEmpty(this.props.portalComps)?null:e.createElement(s,{key:"portalComps",comps:this.props.portalComps}))),this.props.shouldShowDevModePanels?function(o,i,n,a){var r=this.props.devModeContext.type===c.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION;return e.createElement(l.splitter.Pane,{className:t({"wix-code-ide-pane":!0,"above-editor":!r&&a.replace("%","")<50}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"wix-code-ide-pane",minSize:o.developerMode.ui.topbarHeight,onClick:this.onIdeClick},this.props.previewMode?null:e.createElement(c.lazyComponent,{moduleName:"wixCode.components.IDE",key:"wix-code-ide",id:"wix-code-ide",currentPageId:o.documentServices.pages.getFocusedPageId(),context:o.developerMode.getContext(),containerState:o.developerMode.ui.idePane.getState(),isTreePaneOpen:o.developerMode.ui.treePane.isOpen()}),this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.console",key:"wix-code-console",containerState:o.developerMode.ui.consolePane.getState(),id:"wix-code-console"}):null)}.apply(this,[o,i,n,a]):null)}function b(){var s=this.getEditorAPI(),d=this.getNonCompPanels();return e.createElement("div",{className:"editor-animation-manager-wrapper",id:"editor",tabIndex:"0"},e.createElement.apply(this,["div",{className:"editor-wrapper "+(1!==this.props.siteScale?"zoom-mode":""),onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseDownCapture:this.onMouseDownCapture},this.props.isPreloaderVisible?e.createElement("div",{key:"init",className:"preloader"}):null,s.developerMode.isEnabled()?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.wixCodeLoader",key:"wix-code-loader",id:"wix-code-loader",wixCodeLoaded:this.props.wixCodeLoaded}):null,e.createElement("div",{className:t({"editor-content-wrapper":!0,"tools-hidden":this.props.hideTools&&!this.props.hideToolsAndMaintainStagePosition}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(l.splitter,{className:"file-pane-splitter",layout:"vertical",splitPosition:s.developerMode.ui.treePane.getSplitPosition(),statefulResize:!0,onResize:s.developerMode.ui.treePane.setSplitPosition},this.props.shouldShowDevModePanels&&!this.props.previewMode?e.createElement(l.splitter.Pane,{key:"left-panel-pane",maxSize:"296px"},this.props.wixCodeLoaded?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.Tree",key:"wix-code-tree",id:"wix-code-tree",performingMouseMoveAction:this.props.performingMouseMoveAction,context:s.developerMode.getContext()}):null):null,e.createElement(l.splitter.Pane,{},h.apply(this,[s,d]),e.createElement(r,{openPanels:t.compact([this.props.fullStagePanel]),helpPanelProps:this.props.helpPanelProps,isMobileEditor:this.props.isMobileEditor,selectedComponents:this.props.selectedComponents,withHelpPanel:!1})))),e.createElement("div",{className:"editor-controls"},e.createElement(o.topBar,{key:"topbar",ref:"topbar",onContextMenu:this.onContextMenuPreventDefault,savingStatus:this.props.savingStatus,publishingStatus:this.props.publishingStatus,shouldHideToolsBtnBlink:this.props.shouldHideToolsBtnBlink,isHidden:this.props.hideTools}),e.createElement(i,{key:"zoomModeBar"}),e.createElement(n,{key:"dynamicPagesComboBox",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit}),e.createElement("div",{className:t({"file-context":"FILE"===t.get(s.developerMode.getContext(),"type")?"hidden":""}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},this.props.viewTools.toolbarEnabled&&!this.props.previewMode?e.createElement(this.Toolbar,{key:"toolBar"}):null,this.props.isLayoutTractorOpen&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"compPanels.dynamicPanels.layoutTractor",key:"layoutTractorOpen",selectedComponents:this.props.selectedComponents}):null,this.props.viewTools.developerToolBarEnabled&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.developerToolBar",key:"developerToolbar",toolsHidden:this.props.hideTools,editedComponents:this.props.selectedComponents,isEnabled:this.props.editorIsInit,isReadOnly:this.props.isMobileEditor,onContextMenu:this.onContextMenuPreventDefault,wixCodeLoaded:this.props.wixCodeLoaded}):null,this.props.viewTools.platformToolBarEnabled&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"platformPanels.platformToolBarPanel",panelProps:this.props.platformToolBarPanelProps,key:"platformToolBarPanel"}):null),e.createElement(l.tooltipsRenderer,{key:"tooltipsRenderer"}),e.createElement(l.floatingBubble,{ref:"floatingBubble",value:this.props.floatingBubble.value,targetLayout:this.props.floatingBubble.targetLayout,bubbleProps:this.props.floatingBubble.bubbleProps,shouldNotHideOnMouseLeaveTarget:this.props.floatingBubble.shouldNotHideOnMouseLeaveTarget,pinMode:this.props.isPinMode}),e.createElement(l.dropDown.options,{})),this.props.editorIsInit?null:e.createElement("div",{className:"preloader-overlap",key:"preloader-overlap"}),e.createElement(p.rightClickAppearance,{direction:"top",key:"rightClick"},this.props.contextMenu?e.createElement(a,{key:this.props.contextMenu.editorMousePosition.x+""+this.props.contextMenu.editorMousePosition.y,clipboard:this.props.clipboard,editorMousePosition:this.props.contextMenu.editorMousePosition,viewerMousePosition:this.props.contextMenu.viewerPosition,previewPosition:this.props.previewPosition,selectedComponents:this.props.selectedComponents,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox}):null),this.props.languages?e.createElement(m.themeFontsLoader,{key:"theme-font-loader",themeFonts:this.props.themeFonts,documentType:this.props.documentType,languages:this.props.languages}):null,e.createElement(g,{href:"app/external/OrganizeImagesV2/index.html",base:this.props.editorBase}),t.map(t.values(this.props.flyingMusa),function(t,o,i,n){return e.createElement(f,{musaId:i.id,key:i.id})}.bind(this,s,d))]))}return b.apply(this,[])}}),define("rEditor/rootComps/editorView",["create-react-class","prop-types","reactDOM","lodash","core","constants","higherOrderComponents","rEditor/rootComps/leftBar/leftBar","rEditor/rootComps/toolBar/toolBar","coreUtilsLib","rEditor/utils/isRightClickWithCtrlInDebugMode","stateManagement","baseUI","rEditor/rootComps/editorView.rt"],function(e,t,o,i,n,a,r,s,l,c,p,d,u,m){"use strict";var g=d.contextMenu.actions,f=d.panels.logic;return e({displayName:"editorView",propTypes:{previewUrl:t.string.isRequired,viewTools:t.object.isRequired,focusedContainer:t.object,languages:t.array,editorIsInit:t.bool.isRequired,previewMode:t.bool.isRequired,contextMenu:t.object,halfOpacityTools:t.bool.isRequired,hideTools:t.bool.isRequired,hideToolsAndMaintainStagePosition:t.bool.isRequired,isPinMode:t.bool.isRequired,performingMouseMoveAction:t.bool.isRequired,isMobileEditor:t.bool.isRequired,selectedComponents:t.array,siteScale:t.number.isRequired,portalComps:t.object.isRequired,savingStatus:t.string.isRequired,publishingStatus:t.string.isRequired,previewingStatus:t.string.isRequired,imageCrop:t.object.isRequired,config:t.object.isRequired,previewPosition:t.object.isRequired,pageSections:t.object.isRequired,platformToolBarPanelProps:t.object,wixCodeLoaded:t.bool.isRequired,clipboard:t.object.isRequired,shouldHideToolsBtnBlink:t.bool.isRequired,isLayoutTractorOpen:t.bool.isRequired,devModeContext:t.object.isRequired,registeredMouseMoveAction:t.object,isUsingWindowMouseEvents:t.bool,isPreloaderVisible:t.bool.isRequired,shouldShowDevModePanels:t.bool.isRequired,fullStagePanel:t.object,documentType:t.string,editorBase:t.string.isRequired,themeFonts:t.object,isReorganizeHidden:t.bool.isRequired,pinPreviewRectStyle:t.object.isRequired,isOpenTextEditor:t.bool.isRequired,attachCandidate:t.object,snapData:t.array,applyModeFromClipboardSuggestion:t.object,tabIndicationState:t.object.isRequired,lastSelectionClickPos:t.object,lassoCandidates:t.array,lassoLayout:t.object,constraintArea:t.object,notifyPreviewReady:t.func.isRequired,helpPanelProps:t.object,floatingBubble:t.object.isRequired,scrollTo:t.shape({scrollTop:t.number,scrollLeft:t.number}),focusEventCounter:t.number.isRequired,clearTextSelectionEventCounter:t.number.isRequired,animateScrollTo:t.shape({position:t.shape({y:t.number,x:t.number}).isRequired,duration:t.number,onComplete:t.func}),flyingMusa:t.object,renderCounter:t.number.isRequired},mixins:[n.mixins.editorAPIMixin],getPreviewRect:function(){return i.pick(this.refs.preview.getBoundingClientRect(),["top","left","height","width"])},getEditingAreaRect:function(){return i.pick(this.refs.editingArea.getBoundingClientRect(),["top","left","height","width","right","bottom"])},updatePositionsInState:function(){var e=this.getEditorAPI();e.refreshPreviewPosition(this.getPreviewRect()),e.refreshEditingAreaPosition(this.getEditingAreaRect())},getInitialState:function(){return{hoverBox:{hoveredComp:null,hoverBoxOverlay:!1}}},receiveFocusEvent:function(e){e>this.props.focusEventCounter&&o.findDOMNode(this).focus()},receiveClerTextSelectionEvent:function(e){if(e>this.props.clearTextSelectionEventCounter){var t=o.findDOMNode(this.refs.preview),n=i.get(t,"contentWindow",{});n.selection?n.selection.empty():n.getSelection&&n.getSelection().removeAllRanges()}},componentWillReceiveProps:function(e){this.receiveFocusEvent(e.focusEventCounter),this.receiveClerTextSelectionEvent(e.clearTextSelectionEventCounter)},componentWillMount:function(){var e=this.getEditorAPI();this.LeftBar=r.overlappedCompTooltip(u.popoverTemplates.quickTip)(s),this.Toolbar=r.overlappedCompTooltip(u.popoverTemplates.quickTip)(l),e.scroll.resetScrollListeners()},componentDidMount:function(){this.updatePositionsInState();var e=o.findDOMNode(this.refs.preview);try{e.contentWindow&&e.contentWindow.documentServices&&this.props.notifyPreviewReady(e.contentWindow.documentServices)}catch(e){c.log.error("can not access preview iframe")}window.addEventListener("message",this.previewMessageHandler),window.viewerStartTimeStamp=(new Date).toISOString();var t=function(e){window.bi&&window.bi.event(735,{autosave_on:!!i.get(window,["frames",0,"documentServicesModel","autoSaveInfo","shouldRestoreDiffs"]),viewer_start_loading_timestamp:window.viewerStartTimeStamp,time_seconds:e})};window.editorLoadTimeouts=[window.setTimeout(i.partial(t,40),4e4),window.setTimeout(i.partial(t,45),45e3),window.setTimeout(i.partial(t,50),5e4),window.setTimeout(i.partial(t,55),55e3),window.setTimeout(i.partial(t,60),6e4)]},componentDidUpdate:function(){this.reportRenderDone(),this.updatePositionsInState()},componentWillUnmount:function(){this.getEditorAPI().scroll.resetScrollListeners()},reportRenderDone:function(){this.getEditorAPI().onRenderDone(this.props.renderCounter)},setHoverBox:function(e,t){var o=this.getEditorAPI().utils.getParentIfCompCanBeSelected(e)||e;i.isEqual(this.state.hoverBox.hoveredComp,o)||this.setState({hoverBox:{hoveredComp:o,hoverBoxOverlay:!!t}})},clearHoverBox:function(){this.state.hoverBox.hoveredComp&&this.setState({hoverBox:{hoveredComp:null,hoverBoxOverlay:!1}})},previewMessageHandler:function(e){if(0===this.props.previewUrl.indexOf(e.origin)&&"documentServicesLoaded"===e.data){var t=o.findDOMNode(this.refs.preview);this.props.notifyPreviewReady(t.contentWindow.documentServices),i.forEach(window.editorLoadTimeouts,window.clearTimeout)}},onContextMenu:function(e){if(!p(e)){e.preventDefault();var t=this.getEditorAPI(),o=t.store;o.dispatch(f.closeOpenedPanels()),t.selection.selectComponentByClick(e);var i=n.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(t,e);o.dispatch(g.openContextMenu({editorPositionX:e.clientX,editorPositionY:e.clientY,viewerPositionX:i.clientX,viewerPositionY:i.clientY}))}},getNonCompPanels:function(){var e=this.getEditorAPI(),t=[a.PANEL_TYPES.COMP,a.PANEL_TYPES.FULL_STAGE];return i.reject(e.store.getState().openPanels,function(e){return i.includes(t,e.frameType)})},getCompPanel:function(){var e=this.getEditorAPI();return i.find(e.store.getState().openPanels,{frameType:a.PANEL_TYPES.COMP})},onContextMenuPreventDefault:function(e){p(e)||e.preventDefault()},onIdeClick:function(){this.getEditorAPI().panelManager.closeAllPanels()},onMouseDownCapture:function(e){2===e.button&&e.stopPropagation()},onMouseMove:function(e){this.getEditorAPI().mouseActions.onEditorViewMouseMove(e)},onMouseUp:function(e){this.getEditorAPI().mouseActions.onEditorViewMouseUp(e)},getSiteId:function(){return this.getEditorAPI().documentServices.generalInfo.getSiteId()},render:m})}),define("rEditor/rootComps/editor.rt",["react","lodash","rEditor/rootComps/editorView","stateManagement"],function(e,t,o,i){"use strict";return function(){return function(){var t=this.props.editorAPI.store.getState();return e.createElement(o,{ref:"editorView",viewTools:t.viewTools,focusedContainer:t.focusedContainer,languages:this.getLanguages(),editorIsInit:t.editorIsInit,contextMenu:t.contextMenu,halfOpacityTools:t.halfOpacityTools,hideTools:t.hideTools,hideToolsAndMaintainStagePosition:t.hideToolsAndMaintainStagePosition,previewMode:t.previewMode,selectedComponents:i.selection.selectors.getSelectedCompsRefs(t),siteScale:t.siteScale,portalComps:t.portalComps,isPinMode:i.pinMode.selectors.isOpen(t),performingMouseMoveAction:t.performingMouseMoveAction,savingStatus:t.savingStatus,publishingStatus:t.publishingStatus,previewingStatus:t.previewingStatus,isMobileEditor:t.isMobileEditor,topBarCustomization:t.topBarCustomization,imageCrop:t.imageCrop,config:t.config,previewPosition:t.previewPosition,pageSections:t.pageSections,wixCodeLoaded:t.wixCodeLoaded,platformToolBarPanelProps:t.platformToolBarPanelProps,clipboard:t.clipboard,shouldHideToolsBtnBlink:t.shouldHideToolsBtnBlink,isLayoutTractorOpen:t.isLayoutTractorOpen,devModeContext:t.devModeContext,registeredMouseMoveAction:t.performingMouseMoveAction?this.props.editorAPI.mouseActions.getRegisteredMouseMoveAction():null,isUsingWindowMouseEvents:t.isUsingWindowMouseEvents,isPreloaderVisible:this.isPreloaderVisible(),shouldShowDevModePanels:this.shouldShowDevModePanels(),fullStagePanel:this.getFullStagePanel(),documentType:this.getDocumentType(),editorBase:this.getEditorBase(),themeFonts:this.getThemeFonts(),isReorganizeHidden:this.isReorganizeHidden(),pinPreviewRectStyle:i.pinMode.selectors.getPinPreviewRectStyle(t),isOpenTextEditor:t.isOpenTextEditor,previewUrl:this.props.previewUrl,attachCandidate:t.attachCandidate,snapData:t.snapData,applyModeFromClipboardSuggestion:i.applyModeFromClipboard.selectors.selectApplyModeFromClipboardSuggestion(t),tabIndicationState:t.tabIndicationState,lastSelectionClickPos:t.lastSelectionClickPos,lassoCandidates:t.lassoCandidates,lassoLayout:t.lassoLayout,constraintArea:t.constraintArea,notifyPreviewReady:this.notifyPreviewReady,helpPanelProps:t.helpProps,floatingBubble:t.floatingBubble,hoverBox:t.hoverBox,scrollTo:t.scrollTo,animateScrollTo:t.animateScrollTo,focusEventCounter:t.eventCounters.focus,clearTextSelectionEventCounter:t.eventCounters.clearTextSelection,renderCounter:t.__renderCounter,flyingMusa:t.easterEggs.flyingMusa})}.apply(this,[])}}),define("rEditor/rootComps/editor",["lodash","core","constants","create-react-class","jquery","util","rEditor/rootComps/keyboard/config/shortcutsConfig","uiAnimations","tpa","prop-types","rEditor/rootComps/editor.rt"],function(e,t,o,i,n,a,r,s,l,c,p){"use strict";function d(e){var t=a.translate("GENERAL_Close_Warning_Message");return(e||window.event).returnValue=t,t}function u(){var o=n(window);a.fedopsLogger.appLoaded(),this.props.editorAPI.bi.event(t.bi.events.editor.EDITOR_READY,{is_premium:this.props.editorAPI.site.isPremium(),is_template:this.props.editorAPI.documentServices.generalInfo.isFirstSave(),window_width:o.width(),window_height:o.height(),screen_width:window.screen.width,screen_height:window.screen.height,avail_width:window.screen.availWidth,avail_height:window.screen.availHeight,prefetch:window.afterEditorPrefetch,request_from_adi:this.props.editorAPI.documentServices.generalInfo.isSiteFromOnBoarding(),experiments:e(a.editorModel.runningExperiments).pickBy(function(e){return"new"===e}).keys().sortBy().join(","),ref:window.document.referrer})}window.bi&&window.bi.event(t.bi.events.editor.EDITOR_LOADED.evid,{prefetch:window.afterEditorPrefetch}),a.newrelic.addPageAction("editor loaded"),a.performance.mark("editor loaded"),a.performance.measure("main-r started","domLoading","main-r loaded"),a.performance.measure("addPanelData loaded","main-r loaded","addPanelData loaded"),a.performance.measure("editor loaded","addPanelData loaded","editor loaded");var m=!0;return i({displayName:"editor",mixins:[s.animationManager,a.componentUpdatesMixin],propTypes:{previewUrl:c.string.isRequired,isLeavePagePopUpDisabled:c.bool,editorAPI:c.object.isRequired},childContextTypes:{dsRead:c.object,editorAPI:c.object,mediaServices:c.object,bi:c.object,translateFromContext:c.func},getChildContext:function(){return{dsRead:this.props.editorAPI.documentServices,editorAPI:this.props.editorAPI,mediaServices:this.props.editorAPI.mediaServices,bi:window.bi,translateFromContext:a.translate}},notifyEditorInit:function(){l.initEditor(this.props.editorAPI),r.init(this.props.editorAPI)},notifyPreviewReady:function(e){this.startPreviewReadyFlow(e)},startPreviewReadyFlow:function(e){this.props.editorAPI.onPreviewReady(e),a.translate.init(this.props.editorAPI);var t=e.viewMode.get()===e.viewMode.VIEW_MODES.MOBILE;this.props.editorAPI.setEditorMode(t,!0),this.props.editorAPI.updateState({editorIsInit:!0}),m&&(m=!1,u.call(this),a.newrelic.finished()),(new window.Image).src="https://fast.fonts.com/t/1.css?apiType=css&projectid=33bd0973-5b82-45be-bb77-837225874dfe",this.props.editorAPI.concurrentUsers.checkForConcurrentUsers(!0),a.performance.mark("editor ready"),a.performance.measure("editor ready","editor loaded","editor ready")},componentWillMount:function(){this.notifyEditorInit()},componentWillUnmount:function(){},componentDidMount:function(){window.testApi&&window.testApi.domSelectors&&window.testApi.domSelectors.setSearchRoot(this),this.updateKeyboardShortcutContext(),this.props.isLeavePagePopUpDisabled||(window.onbeforeunload=d),window.history&&(window.history.replaceState({preview:!1},"edit mode"),window.onpopstate=this.onHistoryPopState)},componentDidUpdate:function(t){if(!t.editorIsInit&&this.props.editorIsInit){var o=window.document.getElementById("video-preloader");o&&o.parentNode.removeChild(o)}t.previewMode!==this.props.previewMode&&(window.history.state&&this.props.previewMode&&!window.history.state.preview?this.onEnterPreview():window.history.state&&!this.props.previewMode&&window.history.state.preview&&this.onExitPreview(),this.updateKeyboardShortcutContext(),n(window.document.body).toggleClass("previewMode",this.props.previewMode)),e(this.renderCallbacks).filter(e.isFunction).forEach(function(e){e()})},onExitPreview:function(){window.history.replaceState({preview:!1},"edit mode")},onEnterPreview:function(){window.history.pushState({preview:!0},"site preview")},onHistoryPopState:function(e){if(e.state){var t=e.state.preview&&!this.props.previewMode,o=!e.state.preview&&this.props.previewMode;(t||o)&&this.props.editorAPI.preview.togglePreview()}},updateKeyboardShortcutContext:function(){var e=a.keyboardShortcuts.CONTEXTS;a.keyboardShortcuts.setContext(this.props.previewMode?e.PREVIEW:e.EDITOR)},getFullStagePanel:function(){return e.find(this.props.editorAPI.store.getState().openPanels,{frameType:o.PANEL_TYPES.FULL_STAGE})},getDocumentType:function(){return this.props.editorAPI.documentServices&&this.props.editorAPI.documentServices.generalInfo.getDocumentType()},getLanguages:function(){return e.invoke(this.props.editorAPI,"documentServices.theme.fonts.getCharacterSet")},getThemeFonts:function(){return e.invoke(this.props.editorAPI,"documentServices.theme.fonts.getAll")},getEditorBase:function(){return a.editorModel.editorBase},isPreloaderVisible:function(){return!window.document.getElementById("video-preloader")&&!this.props.editorIsInit},shouldShowDevModePanels:function(){return this.props.editorAPI.store.getState().wixCodeLoaded&&this.props.editorAPI.developerMode.isEnabled()&&!this.props.editorAPI.store.getState().hideTools},isReorganizeHidden:function(){return this.props.editorAPI.store.getState().hideTools||this.props.editorAPI.isPopUpMode()},render:p})}),define("rEditor/app/panelHelpers",["lodash","util","core","platform","stateManagement","experiment"],function(e,t,o,i,n,a){"use strict";function r(r){function s(e,t){return{isPreset:r.selection.getSelectedComponentData().metaData.isPreset,imagesChanged:function(e,t){e&&e(t)}.bind(r,t),createImageDataItem:r.data.createItem.bind(null,"Image"),galleryType:e}}function l(e,t){c(e)?t&&r.panelManager.updatePanelProps(e,t):r.panelManager.openPanel(e,t)}function c(t){var o=r.panelManager.getOpenPanels();return e.some(o,{name:t})}var p=a.isOpen("newPagesPanel")?"pages.pagesPanel":"rEditor.panels.pagesAndPopupsPanel",d={FORBIDDEN_COMP_TYPES:["wysiwyg.common.components.anchor.viewer.Anchor","mobile.core.components.Page","platform.components.AppController"],DESKTOP:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridDesktopPanel"},MOBILE:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridMobilePanel"},CONTAINER:{NOTIFICATION_RATE:2,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfContainerGridPanel"}},u={"panels.focusPanels.mobileEditorFirstTimePanel":{SHOW_RATE_THRESHOLD:1,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.DONT_SHOW_AGAIN,SHOW_COUNT_KEY:o.constants.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.SHOW_COUNT}};return{openOrganizeImagesPanel:function(e){r.panelManager.openPanel("panels.focusPanels.organizeImagesPanel",s("images",e),!0)},openOrganizeSocialIconsPanel:function(e){r.panelManager.openPanel("panels.focusPanels.organizeImagesPanel",s("socialIcons",e))},openAviaryPanel:function(e){r.panelManager.openPanel("panels.focusPanels.aviaryPanel",{imageLink:e,onDialogResult:function(){r.panelManager.closePanelByName("panels.focusPanels.aviaryPanel")}},!0)},isPanelOpen:c,isPagesPanelOpen:function(){return c(p)},openPagesPanel:function(t){var o=p;t=e.assign(t,{token:i.tokenService.generateStaticGlobalPanelToken("pagesPanel")}),r.setForcePageSettingsTabEventCounter(),l(o,t)},closePagesPanel:function(){r.panelManager.closePanelByName(p)},openMobileElementsPanel:function(){if(r.isMobileEditor()){var e={mobileElementId:"mobileView"},t="mobileEditor.mobileElementsPanel",i=(new Date).getTime();e.key=o.lazyComponent.isLoaded(t)?t+i:t+"loading",l(t,e)}},openMobileEditorFirstTimePanelIfNeeded:function(){var e="panels.focusPanels.mobileEditorFirstTimePanel";(function(e){var t=u[e].DONT_SHOW_AGAIN_KEY;return!0!==n.userPreferences.selectors.getSiteUserPreferences(t)(r.store.getState())})(e)&&function(){var e=t.url.isQA();return"true"===t.url.getParameterByName("qa_1stTimeMobileOn")||!e}()&&!r.getPreviewMode()&&(!function(e){var t=u[e].SHOW_COUNT_KEY,o=n.userPreferences.selectors.getSiteUserPreferences(t)(r.store.getState())||0;o++,r.store.dispatch(n.userPreferences.logic.setSiteUserPreferences(t,o))}(e),a.isOpen("se_1stTimeMobileManualMode")||function(e){var t=!1,o=u[e].SHOW_COUNT_KEY;if((n.userPreferences.selectors.getSiteUserPreferences(o)(r.store.getState())||0)>u[e].SHOW_RATE_THRESHOLD){t=!0;var i=u[e].DONT_SHOW_AGAIN_KEY;r.store.dispatch(n.userPreferences.logic.setSiteUserPreferences(i,t))}}(e),r.panelManager.openPanel(e,{},!0))},openCompOutOfGridPanel:function(t,o){var i=void 0;if(!function(t,o){var i=n.userPreferences.selectors.getSiteUserPreferences(t.DONT_SHOW_AGAIN_KEY)(r.store.getState()),a=e.includes(d.FORBIDDEN_COMP_TYPES,o),s=r.documentServices.pages.popupPages.isPopupOpened()&&!r.components.is.gridLinesVisible(r.pages.popupPages.getPopupContainer());return i||a||s}(i=o?d.CONTAINER:r.isMobileEditor()?d.MOBILE:d.DESKTOP,r.components.getType(r.selection.getSelectedComponents()))){var a=n.userPreferences.selectors.getSessionUserPreferences(i.OUT_OF_GRID_COUNT_KEY)(r.store.getState())||0;a%i.NOTIFICATION_RATE==0&&r.panelManager.openPanel(i.PANEL_NAME,t,!0),a+=1,r.store.dispatch(n.userPreferences.logic.setSessionUserPreferences(i.OUT_OF_GRID_COUNT_KEY,a))}},openDragToHeaderPanel:function(e){if(!n.userPreferences.selectors.getSiteUserPreferences(o.constants.USER_PREFS.DRAG_TO_HEADER.DONT_SHOW_AGAIN)(r.store.getState())){var t=n.userPreferences.selectors.getSessionUserPreferences(o.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT)(r.store.getState())||0;t%10==0&&r.panelManager.openPanel("panels.focusPanels.dragToHeaderPanel",e),t+=1,r.store.dispatch(n.userPreferences.logic.setSessionUserPreferences(o.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT,t))}},openAttachToSOSPPanel:function(){!!n.userPreferences.selectors.getSiteUserPreferences(o.constants.USER_PREFS.SOSP.PANELS.ATTACH_DO_NOT_SHOW_AGAIN)(r.store.getState())||r.panelManager.openPanel("panels.focusPanels.attachToSOSPPanel")},openDetachedFromSOSPPanel:function(){!!n.userPreferences.selectors.getSiteUserPreferences(o.constants.USER_PREFS.SOSP.PANELS.DETACH_DO_NOT_SHOW_AGAIN)(r.store.getState())||r.panelManager.openPanel("panels.focusPanels.detachedFromSOSPPanel")},openPinModeSizeRestrictionPanel:function(e){n.userPreferences.selectors.getSiteUserPreferences(o.constants.PANELS.PIN_TOO_BIG.PIN_TOO_BIG_DONT_SHOW_AGAIN)(r.store.getState())||r.panelManager.openPanel(o.constants.PANELS.PIN_TOO_BIG.PANEL_NAME,e,!0)},openLinkPanel:function(e,o){r.panelManager.openPanel("panels.toolPanels.linkPanel",t.link.getLinkPanelProps(r,e),!o)}}}return{create:r}}),define("rEditor/app/updateOperationsPlugins",["lodash"],function(e){"use strict";function t(){var t=arguments;e.forEach(this.list,function(e){e.apply(null,t)})}return{setHomePagePlugins:{list:[],run:t},updatePagePlugins:{list:[],run:t}}}),define("rEditor/app/componentPlugins/designDataChange/repeaterItemDesignDataChangePlugin",[],function(){"use strict";return function(e,t,o,i){var n=!!o.background;e.components.is.repeaterItem(t)&&!n&&e.components.getSiblings(t).forEach(function(t){e.documentServices.components.design.update(t,o,i)})}}),define("rEditor/app/componentsPlugins",["lodash","util","core","constants","rEditor/rootComps/gfpp/gfppModel","experiment","rEditor/app/componentPlugins/designDataChange/repeaterItemDesignDataChangePlugin"],function(e,t,o,i,n,a,r){"use strict";function s(s){function c(t,i){if(!s.isMobileEditor()){var a=n.getComponentMainActionClick(s,i.comp);e.isFunction(a)&&a(s,i.comp,o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}function p(t,o,i,n){var a=n.getPage(o);!function(t,o){e.forEach(o,function(o){e(o).thru(e.bind(t.get,t)).filter(function(t){var o=e.get(t,"behavior.type"),i=e.get(t,"behavior.name");return"widget"===o&&("runCode"===i||"runAppCode"===i)}).forEach(function(e){t.remove(o,e.action,{id:e.behavior.targetId},e.behavior)})})}(i,e(t).reject(function(t){return e.isEqual(t.root,a)}).map("ref").value())}function d(t,o,i,n){var a=n.modes.getFirstAncestorOrSelfWithModeDefinitions(o);!function(t,o,i){e.forEach(i,function(i){e(i).thru(e.bind(t.get,t)).filter(function(t){return e.includes(l,t.action)}).forEach(function(e){o.behaviors.remove(i,e)})})}(i,n,e(t).reject(function(t){return e.isEqual(t.ancestor,a)}).map("ref").value())}function u(t,o){return e(o).thru(function(){return t.getChildren(o.ref,!0).concat(o.ref)}).map(function(e){return{ref:e,root:o.root}}).value()}function m(t,o){return e(o).thru(function(){return t.getChildren(o.ref,!0).concat(o.ref)}).map(function(e){return{ref:e,ancestor:o.ancestor}}).value()}function g(t,o,i,n,a){var r=function(t,o){return e.flatMap(o,e.partial(u,t))}(n,o),s=function(t,o){return e.flatMap(o,e.partial(m,t))}(n,i);p(r,t,a,n),d(s,t,a,n)}function f(t,o,i){return i=i||{},e.filter(t,function(t){var n=i[t.id]||s.components.properties.get(t);return e.get(n,o)})}function h(t,o){var i=function(t,o){var i=f(t,"isHidden",o);return e.map(i,"id")}(t,o);s.documentServices.documentMode.ignoreComponentsHiddenProperty(i)}function b(t,o){var i=function(t,o){var i=f(t,"isCollapsed",o);return e.map(i,"id")}(t,o);s.documentServices.documentMode.ignoreComponentsCollapsedProperty(i)}function y(e){h(e),b(e),function(e){if(!e)return;1===e.length&&s.documentServices.pages.popupPages.isPopup(e[0].id)&&s.bi.event(o.bi.events.popups.pop_up_overlay_clicked)}(e)}var v=s.pluginService;v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.WRichText",function(){s.isMobileEditor()?s.openComponentPanel(o.constants.componentPanels.settings):(s.bi.event(o.bi.events.textControls.Text_Panel_opened,{origin:o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK}),s.text.startEditing())}),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.Repeater",e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.SiteButton",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.DatePicker",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.FileUploader",c),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,i.MULTISELECT.TYPE,e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.Group",e.noop),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.TextInput",function(){s.isMobileEditor()||s.openComponentPanel(o.constants.componentPanels.settings)}),v.registerPlugin(v.pluginConstants.DOUBLE_CLICK,"mobile.core.components.Page",function(t,i){var a=s.siteSegments.getPagesContainerAbsLayout(),r=i.evt.pageX<a.x||i.evt.pageX>a.x+a.width,l=i.comp[0];if(s.documentServices.pages.popupPages.isPopup(l.id)){var c=n.getComponentMainActionClick(s,i.comp);e.isFunction(c)&&c(s,i.comp,o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}else r?s.panelManager.openPanel("rEditor.panels.backgroundPanel"):s.openComponentPanel(o.constants.componentPanels.design)}),s.registerCompNamePlugin("wysiwyg.viewer.components.HoverBox",function(o){for(var i=s.components.modes.getTypes(),n=e.filter(s.components.modes.getModes(o),["type",i.HOVER]),a=s.components.modes.getComponentActiveModeIds(o),r=0;r<n.length;r++)if(a[n[r].modeId])return t.translate("component_label_hover_box_onhover");return t.translate("component_label_hover_box")}),s.registerCompNamePlugin("wysiwyg.viewer.components.ClipArt",function(){return a.isOpen("se_addPanelClipArtToIllustration")?t.translate("component_label_illustration"):t.translate("component_label_clipart")}),s.registerCompNamePlugin("wysiwyg.viewer.components.Column",function(o){var i=e(o).thru(s.components.getType).thru(function(e){return e.split(".")}).last(),n=e(o).thru(s.components.getContainer).thru(s.components.getChildren).findIndex(o)+1;return t.translate("component_label_"+i)+" "+n}),s.registerCompNamePlugin("mobile.core.components.Page",function(e){return s.documentServices.pages.popupPages.isPopup(e.id)?t.translate("component_label_Overlay"):t.translate("component_label_Page")}),s.registerCompNamePlugin("platform.components.AppController",function(t){return e.get(s.platform.controllers.getStageData(t),"controllerTypeDisplayName")}),s.registerCompNamePlugin("wysiwyg.viewer.components.SiteRegionContainer",function(){return t.translate("component_label_members_bar")}),s.registerRemovePlugin("wysiwyg.viewer.components.Column",function(e,t,o){return s.columns.removeColumn(e,t,o)}),s.registerHidePlugin("wysiwyg.viewer.components.QuickActionBar",function(e){s.mobile.mobileOnlyComponents.removeQuickActionBar(e)}),s.registerDuplicatePlugin("wysiwyg.viewer.components.Column",function(t){var o=s.components.getContainer(t);if(!s.components.is.duplicatable(t,o))return[];var i=s.columns.duplicateColumn(e.head(t));return s.documentServices.waitForChangesApplied(function(){s.selection.selectComponentByCompRef(i),s.openFirstTimePanel(i)}),i}),v.registerPlugin("selection","*",y),v.registerPlugin("propertiesChange","*",function(e,t){var o=s.selection.getSelectedComponents(),i={};i[e.id]=t,h(o,i),b(o,i)}),v.registerPlugin("setContainer","*",g),v.registerPlugin("designDataChange","*",r)}var l=[i.ACTIONS.SCREEN_IN,i.ACTIONS.EXIT,i.ACTIONS.MODE_IN,i.ACTIONS.MODE_EXIT,i.ACTIONS.MODE_CHANGE];return{register:s}}),define("rEditor/app/APISectionsPlugins/historyPlugins",["constants"],function(e){"use strict";return{register:function(t){t.pluginService.registerPlugin(e.HISTORY.REDO,e.DS_ACTIONS.ADD_PAGE,function(e,o){e.nextPage&&e.nextPage!==t.documentServices.pages.getFocusedPageId()?t.pages.navigateTo(e.nextPage,o):o()})}}}),define("rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin",["rEditor/app/updateOperationsPlugins"],function(e){"use strict";function t(e,t){t=t&&t.replace(/^#/,"")||e.homePage.get();var o=e.documentServices.pages.data.get(t);return{name:o.pageTitleSEO,description:o.descriptionSEO,keywords:o.metaKeywordsSEO}}function o(e,t){e.site.setSEOSiteName(t.name),e.site.setSEOSiteDescription(t.description),e.site.setSEOSiteKeywords(t.keywords)}return{register:function(){e.setHomePagePlugins.list.push(function(e,i){o(e,t(e,i))}),e.updatePagePlugins.list.push(function(e,i){i===e.homePage.get()&&o(e,t(e,i))})}}}),define("rEditor/app/pluginsRegistrar",["rEditor/app/componentsPlugins","rEditor/app/APISectionsPlugins/historyPlugins","rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin"],function(e,t,o){"use strict";return{register:function(i){e.register(i),t.register(i),o.register()}}}),define("rEditor/app/APISections/concurrentUsersWrapper",["lodash","jquery","util"],function(e,t,o){"use strict";function i(i){function n(s){!function(){var t=i.documentServices.generalInfo.getUserInfo(),n=o.cookie.getCookie("wixClient");return t&&t.name&&e.includes(n,t.name)}()?r():u=i.documentServices.generalInfo.isFirstSave()?window.setTimeout(function(){n(s)},p):window.setTimeout(function(){!function(e){if(e){var n=i.documentServices.generalInfo.getMetaSiteId(),a=o.editorModel.editorSessionId;!function(e,o,i){var n=null,a=c({msid:e,esi:o});t.get(a).done(function(e){e&&(n=e.otherUsersOnSite||null),i(n)}).fail(function(){i(n)})}(n,a,e)}}(e.partial(a,s))},s?0:p)}function a(t,o){if(t&&null===g&&(g=e.isEmpty(o)),!e.isEmpty(o)&&!function(t,o){{if(t===o)return!0;if(t&&!o||!t&&o||e.size(t)<e.size(o))return!1}var i={},n=t.length;return e.forEach(t,function(e){i[e]=e}),e.forEach(o,function(e){i[e]=e}),n===e.size(i)}(d,o)){var a=function(t,o){var i={};e.forEach(t,function(e){i[e]=i});var n=null;return e.forEach(o,function(e){if(!i[e])return n=e,!1}),n}(d,o);d=o;var r={isFirstUser:g,concurrentUsers:o,concurrentUserToDisplay:a};i.panelManager.openPanel(s,r)}n(!1)}function r(){u&&(window.clearTimeout(u),u=null),d=null,m=!1}var s="panels.messagePanels.concurrentUserPanel",l=window.location.protocol+"//editor."+o.serviceTopology.baseDomain+"/concurrent-editing-session-watcher/watcher/report",c=e.template(l+"?msid=<%= msid %>&esi=<%= esi %>"),p=6e4,d=null,u=null,m=!1,g=null;return{checkForConcurrentUsers:function(){m||(m=!0,n(!0))},stopCheckForConcurrentUsers:r}}return{create:i}}),define("rEditor/app/APISections/themeWrapper",["lodash"],function(e){"use strict";return{create:function(t){return{colors:{get:function(o){return e.includes(o,"color")?t.documentServices.theme.colors.get(o):o}},styles:{getExcludedList:function(){return t.theme.styles.excludedList||[]},setExcluded:function(e){var o=t.theme.styles;o.excludedList||(o.excludedList=[]),o.excludedList.push(e)},update:function(o,i,n){t.updateHooks&&e.forEach(t.updateHooks,function(e){e(o,i)}),t.documentServices.theme.styles.update(o,i),n||t.history.debouncedAdd("Update component style")},getAllIds:function(){var o=t.documentServices.theme.styles;return e.difference(o.getAllIds(),t.theme.styles.getExcludedList())},registerHook:function(e){t.updateHooks=t.updateHooks||[],t.updateHooks.push(e)}}}}}}),define("rEditor/app/APISections/historyWrapper",["lodash","constants","core"],function(e,t,o){"use strict";function i(i){function n(t,o){e.assign(o,{isSameEditorMode:o.isMobileEditor===i.isMobileEditor(),selectedComps:i.selection.getSelectedComponents()}),e.forEach(c,i.panelManager.closePanelByName),i.selection.deselectComponents(),i.setEditorMode(o.isMobileEditor,!0),t.call(i.documentServices.history),i.documentServices.waitForChangesApplied(function(){o.postAction?o.postAction(o,e.partial(a,o)):a(o)})}function a(t){var o=e.filter(t.selectedComps,i.components.is.exist.bind(i));if(!e.isEmpty(o)){var n=[i.documentServices.pages.getFocusedPageId()];i.documentServices.pages.popupPages.isPopupOpened()||n.push(i.pages.getMasterPageId());var a=e.get(i.components.getPage(o),"id");t.isSameEditorMode&&e.includes(n,a)&&i.selection.selectComponentByCompRef(o)}}function r(e,o){var n=i.pluginService.getPlugin(o,e.actionType);if(o===t.HISTORY.REDO)switch(e.actionType){case t.DS_ACTIONS.ADD_PAGE:e.postAction=n}return e}function s(t,o,a){var r=o();(r=a(r)||r).currentPage===i.documentServices.pages.getFocusedPageId()?n(t,r):i.pages.isPageExist(r.currentPage)?i.pages.navigateTo(r.currentPage,e.partial(n,t,r)):(n(t,r),i.documentServices.waitForChangesApplied(function(){i.pages.navigateTo(r.currentPage)})),l()}function l(){i.store.getState().savingStatus===o.constants.PROGRESS_STATUS.IDLE_SAVED&&i.updateState({savingStatus:o.constants.PROGRESS_STATUS.IDLE})}var c=["panels.toolPanels.colorPicker.colorPickerPanel","rEditor.panels.backgroundApplyPanel","compPanels.dynamicPanels.pinnedDockPanel","rEditor.panels.slideShowBgApplyPanel"];return{add:function(t,o,n){i.rulers.resetRulersHistory();var a=i.isMobileEditor();o=e.defaults(o||{},{label:t,currentPage:i.documentServices.pages.getFocusedPageId(),isMobileEditor:a}),i.documentServices.history.add(t,o,n),l()},debouncedAdd:function(t){i.history._debouncedAdd||(i.history._debouncedAdd=e.debounce(i.history.add,500)),i.history._debouncedAdd(t)},undo:function(){i.rulers.canUndo()?i.rulers.undo():i.documentServices.waitForChangesApplied(function(){if(i.text.isEditingText())return i.text.canUndo()&&i.rulers.resetRulersHistory(),void i.text.undo();var t=i.documentServices.history;t.canUndo()&&(i.rulers.resetRulersHistory(),s(t.undo.bind(t),t.getUndoLastSnapshotParams.bind(t),e.noop))})},redo:function(){i.rulers.canRedo()?i.rulers.redo():i.documentServices.waitForChangesApplied(function(){if(i.text.isEditingText())i.text.redo();else{var o=i.documentServices.history;o.canRedo()&&s(o.redo.bind(o),o.getRedoLastSnapshotParams.bind(o),e.partialRight(r,t.HISTORY.REDO))}})},clear:function(){i.documentServices.history.clear()}}}return{create:i}}),define("rEditor/app/APISections/imageCrop",["lodash","core","util","coreUtilsLib","baseUI","constants","stateManagement"],function(e,t,o,i,n,a,r){"use strict";function s(s){function l(e,t,o){var i=function(e,t){var o=S.getMiddlePoint(e);return S.getPointRatioFromRect(o,t)}(e,t);return{x:o.width*i.x,y:o.height*i.y}}function c(t){var o=s.ui.stage.getEditingAreaLayout();if(t){var i=s.ui.stage.getMobileFrameLayout();return e({left:i.left-o.left,top:i.top-o.top}).defaults(i).thru(S.getRectByBoundingRect).value()}return{x:0,y:0,width:s.site.getSiteWidth(),height:s.site.getHeight()}}function p(t){var i=s.components.data.get(t),n=s.components.properties.get(t),a=n.displayMode,r=s.components.layout.get(t).rotationInDegrees,l=a===E.fittingTypes.SCALE_TO_FILL,p=e.pick(s.components.layout.getRelativeToScreen(t),["height","width","x","y"]),d={},u=n.overrideCrop||i.crop,m=function(t,i,n){var a=e.clone(t);a.x+=i.x,a.y+=i.y;var r=o.math.getPointAsIfRectWasNotRotated(a,S.getMiddlePoint(i),-n);return{x:r.x-i.width/2,y:r.y-i.height/2}}((d=u||l?!u&&l?function(t,o){var i=P.reverseAutoCrop(t,o),n=e.assign({},i,{x:0,y:0});return n=P.autoCrop(n,e.pick(t,["height","width"])),{cropOriginArea:i,cropArea:n}}(p,i):u&&!l?function(e,t,o){var i=P.reverseManualCrop(e,o,t);return{cropOriginArea:i,cropArea:P.manualCrop(i,o,t)}}(p,i,u):function(e,t,o){var i=P.reverseAutoCrop(e,o),n=P.reverseManualCrop(i,o,t),a=P.reverseAutoCrop(n,t),r=P.manualCrop(a,o,t);return r=P.autoCrop(r,e),{cropOriginArea:a,cropArea:r}}(p,i,u):function(t){return{cropOriginArea:t,cropArea:e(t).pick(["height","width"]).assign({x:0,y:0}).value()}}(p)).cropArea,d.cropOriginArea,r);return e.assign(d.cropOriginArea,m),d=function(e){var t=c(s.isMobileEditor());return{cropArea:P.ensure.areaWithinViewport(t,e),cropOriginArea:e.cropOriginArea}}(d)}function d(r,l){var c=void 0,d=void 0,u=s.store.getState(),m=i.objectUtils.cloneDeep(u.imageCrop),g=v(u);e.isEmpty(g)||(m.isOn=void 0===r?!m.isOn:r,m.isOn?(n.tooltipManager.hide(a.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),function(t){var i=o.imageTransform.fittingTypes,n=i.SCALE_TO_FILL,a=i.STRETCH,r=s.components.properties.get(t).displayMode;e.includes([n,a],r)||s.components.properties.update(t,{displayMode:n})}(g),c=p(g),s.bi.event(t.bi.events.imageCrop.Open_crop_mode,{fixed_layout:!1}),d=o.keyboardShortcuts.CONTEXTS.IMAGE_CROP):(c={cropArea:null,cropOriginArea:null},d=o.keyboardShortcuts.CONTEXTS.EDITOR),e.assign(m,c),l=l||e.noop,o.keyboardShortcuts.setContext(d),m.isOn?b(m,l):s.updateState({imageCrop:m},l))}function u(){return e.clone(s.store.getState().imageCrop.cropArea)}function m(){return e.clone(s.store.getState().imageCrop.cropOriginArea)}function g(t,i){var n=s.store.getState(),a=v(n),r=n.imageCrop,l=r.cropOriginArea,c=r.cropArea,p=s.components.layout.get(a).rotationInDegrees,d=t?{x:0,y:0}:function(e){var t=s.components.getContainer(e),o=s.components.layout.getRelativeToScreen(t);if(s.isMobileEditor())return o;var i=s.components.get.byId("PAGES_CONTAINER"),n=s.components.layout.getRelativeToScreen(i);return(s.components.is.fullWidth(t)||s.components.isShowOnAllPages(e))&&(o.x+=n.x),o}(a);if(!r)return null;var u=i?c:function(t,i,n){var a=S.getMiddlePoint(t),r=e.assign({},i,{x:0,y:0}),s=o.math.getPointAsIfRectWasNotRotated(r,a,-n);return{x:s.x-t.width/2,y:s.y-t.height/2}}(c,l,p);return e(c).pick(["height","width"]).assign({x:u.x+l.x-d.x,y:u.y+l.y-d.y}).value()}function f(t){return e(t).pick(["x","y","width","height"]).mapValues(Math.round).value()}function h(t,o){var i=e.cloneDeep(t);i.cropArea=f(t.cropArea),i.cropOriginArea=f(t.cropOriginArea),o=o||e.noop,s.updateState({imageCrop:i},o)}function b(t,o){h(e.assign({},s.store.getState().imageCrop,t),o)}function y(t,i){var n=s.components.data.get(t),a=s.components.layout.get(t),r=a.rotationInDegrees,c=s.components.properties.get(t).displayMode,p=s.imageCrop.getCropOriginArea(),d=s.imageCrop.getCropArea(),u=S.getAspectRatio(a),m=e.assign({},n,{height:n.width*u}),g=c===E.fittingTypes.STRETCH?m:n,f=S.getRectMinDimensionsByContainedInnerRect(g,d),h=function(e,t,o){var i=e/S.getAreaRatioPercentage(t,o);return S.getResizedByRatio(t,i)}(i,p,n),b=function(t,o,i){var n=e.clone(o),a=e.clone(i),r=S.getMiddlePoint(i),s=l(i,t,n),c={x:s.x-r.x,y:s.y-r.y};return a.x+=c.x,a.y+=c.y,n.x-=c.x,n.y-=c.y,{originArea:n,area:a}}(p,h=P.ensure.scaleWithinDimensions(h,d,f),d),y=P.ensure.areaIsFullyContained(b.originArea,b.area),v=function(e,t,i){var n=S.getMiddlePoint(e),a=S.getMiddlePoint(t),r={x:a.x-n.x,y:a.y-n.y},s=o.math.degToRad(i),l=o.math.rotateVectorAround(r,s);return{x:o.math.roundToNearestHalf(l.x-r.x),y:o.math.roundToNearestHalf(l.y-r.y)}}(p,y.originArea,r);return y.originArea.x+=v.x,y.originArea.y+=v.y,y}var v=r.selection.selectors.getSelectedCompsRefs,S=o.math.rect,P=o.imageCrop,E=o.imageTransform;return{isCropMode:function(){return s.store.getState().imageCrop.isOn},toggleCropMode:d,getCropArea:u,getCropOriginArea:m,getCropAreaFinalPosition:g,setCropOriginArea:function(t,o){h(e.assign({},s.store.getState().imageCrop,{cropOriginArea:t}),o)},setCropArea:function(t,o){h(e.assign({},s.store.getState().imageCrop,{cropArea:t}),o)},setCropData:b,updateCrop:function(){var t=s.store.getState(),o=v(t),i=s.components.data.get(o),n=s.components.layout.get(o).fixedPosition,a=s.imageCrop.getCropArea(),r=s.imageCrop.getCropOriginArea(),l=s.imageCrop.getCropAreaFinalPosition(n),c={width:r.width/i.width,height:r.height/i.height},p=e.mapValues({x:a.x/c.width,y:a.y/c.height,height:a.height/c.height,width:a.width/c.width},Math.round);S.areRectsTheSameSize(i,p)&&0===p.x&&0===p.y&&!s.isMobileEditor()&&(p=null),s.isMobileEditor()?s.components.properties.update(o,{overrideCrop:p}):s.components.data.update(o,{crop:p}),s.components.layout.update(o,l)},getNewCropStateByPercentageFromOriginalImage:y,quickActions:{getNewCropStateForHundredPercent:function(e){return y(e,100)},getNewCropStateForSquare:function(){var e=s.imageCrop.getCropOriginArea(),t=s.imageCrop.getCropArea(),o=Math.min(t.width,t.height);return t.height=o,t.width=o,{area:t,originArea:e}},getNewCropStateResetCrop:function(){var t=m(),o=S.getAspectRatio(t),i=u(),n=s.imageCrop.getCropAreaFinalPosition(!0),a=S.getRectMinDimensionsByContainedInnerRect(t,n),r=i.height>i.width?{height:a.height,width:a.height/o}:{width:a.width,height:a.width*o},l=c(s.isMobileEditor());if(n.x+r.width>S.getRight(l)){var p=S.getRight(l)-n.x;r={width:p,height:p*o}}return{area:e.assign({},r,{x:0,y:0}),originArea:e.assign({},n,r)}}}}}return{create:s}}),define("rEditor/app/APISections/siteWrapper",["core","util","stateManagement","lodash"],function(e,t,o,i){"use strict";function n(o){function n(e,o){var n=t.url;return o.forEach(function(t){var o=n.getParameterByName(t);o&&("experiments"===t||"experimentsoff"===t)&&i.includes(o,":")&&(o=function(e){var t=i(e).split(";").filter(function(e){return i.startsWith(e,"viewer")}).map(function(e){return e.split("viewer:")[1]}).join(",");return t?"viewer:"+t:""}(o)),e=o?n.setUrlParam(e,t,o):e}),e}var r=o.store;return{getCurrentSiteDomain:function(){var e=window.location.hostname.match(/editor\.(.*)/);return e?"www."+e[1]:"www.wix.com"},setSEOSiteName:function(e){return o.documentServices.seo.title.set(e)},setSEOSiteDescription:function(e){return o.documentServices.seo.description.set(e)},getSEOSiteKeywords:function(){return o.documentServices.seo.keywords.get()},setSEOSiteKeywords:function(e){return o.documentServices.seo.keywords.set(e)},getMetaSiteId:function(){return o.documentServices.generalInfo.getMetaSiteId()},isPremium:function(){return o.documentServices&&o.documentServices.premiumFeatures&&o.documentServices.premiumFeatures.get().length>0},getXPos:function(){return o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getPagesContainer()).x},getSiteDomainInfo:function(t,i){var n=o.documentServices.generalInfo.getMetaSiteId();e.premiumServicesAPI.getSiteDomainInfo(n,t,i)},getSitePremiumPackage:function(){return o.store.getState().site.premiumPackage||-1},getSitePublicUrl:function(){if(!o.documentServices)return null;var e=r.getState(),t=o.documentServices.generalInfo.getPublicUrl()||a.getFreeDomainPrefix(e,o.documentServices)+o.siteName.get();return t=t.replace(/^https?/i,a.getSiteProtocol(e,o.documentServices)),n(t,["ReactSource","experiments","experimentsoff","viewerexp","js-wixcode-sdk-override"])},getSiteWidth:function(){return window.document.getElementById("preview").getBoundingClientRect().width}}}var a=o.domain.selectors;return{create:n}}),define("rEditor/bi/events.json",[],function(){return{QUALAROO_DUMMY_EVENT:{evid:9,fields:{testField:"testValue"}},UPGRADE_EVENT:{evid:519,fields:{origin:"string"}},AUTOSAVE_TEST:{src:42,endpoint:"ugc-viewer",evid:362,fields:{type:"string",uuid:"guid"}},IDE_TOPBAR_RESIZE:{endpoint:"platform",src:79,evid:20,fields:{old_hight:"string",new_hight:"string",site_id:"guid"}},LEFT_TREE_TOGGLE:{endpoint:"platform",src:79,evid:21,fields:{state:"string",site_id:"guid"}},PROPERTIES_PANEL_TOGGLE:{endpoint:"code",src:39,evid:141,fields:{state:"string",site_id:"guid"}},BG_IMAGE_SETTINGS_PANEL_SCROLL_EFFECT:{endpoint:"editor",src:38,evid:685,fields:{scroll_type:"string"}}}}),define("rEditor/bi/errors.json",[],function(){return{QUALAROO_SURVEY_TIMEOUT_NOT_SENT:{errorCode:8,errorName:"QUALAROO_SURVEY_TIMEOUT_NOT_SENT",desc:"qualaroo component was added without a timeout prop",severity:"error"}}}),define("rEditor/bi/bi",["rEditor/bi/events.json","rEditor/bi/errors.json"],function(e,t){"use strict";return{events:e,errors:t,registerEvents:function(t){t.documentServices.bi.register("rEditor","event",e)}}}),define("rEditor/app/APISections/developerMode",["core","lodash","util","uiConstants","rEditor/bi/bi","rEditor/rootComps/gfpp/gfppModel","gfppData","constants","stateManagement"],function(e,t,o,i,n,a,r,s,l){"use strict";function c(c){function p(){require.specified("platform")||require(["platform"],function(e){e.init(c,a.registerGfppActions,r.registerComponent,r.mergeComponentGfppData,s.ROOT_COMPS.GFPP.ACTIONS)})}function d(){var t=!u(),o={developerModeEnabled:t,developerToolBarEnabled:t};O(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,t),O(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,t),t&&c.store.getState().viewTools.toolbarEnabled&&(o.toolbarEnabled=!1),t&&!M(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)&&(c.selection.deselectComponents(),c.panelManager.openPanel("wixCode.panels.developerWelcomePanel"),O(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,!0),O(e.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,!0)),t&&p(),o.showHiddenComponents=function(t){return t&&M(e.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS)}(t),t||(c.selection.deselectComponents(),c.panelManager.closeAllPanelsOfType(s.PANEL_TYPES.FULL_STAGE)),g(m(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),c.documentServices.documentMode.showHiddenComponents(o.showHiddenComponents),c.documentServices.documentMode.showControllers(t),c.updateEditorViewTools(o)}function u(){var e=c.getViewTools();return!!e&&!!e.developerModeEnabled}function m(e,t){return{type:e,data:t}}function g(e){c.updateState({devModeContext:e})}function f(o){return c.store.getState()[o]||function(o){switch(o){case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE:return _.getInitialState("calc(100% - 234px)","bottom");case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.FILE:case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION:return _.getInitialState("0","top");case"consoleSplitter":return _.getInitialState("calc(100% - 234px)","bottom");case"fileTreeSplitter":var i=M(e.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER);return t.isUndefined(i)?_.getInitialState("296px",!1):i}}(o)}function h(e,o){var i=t.drop(arguments,2),n=f(e);return o.apply(null,[n].concat(i))}function b(e,t,o,i){var n=h.apply(null,arguments),a={};return a[e]=n,c.updateState(a,i),a}function y(e,t,o,i){var n=o<=I;return o+T>=i?b(e,_.collapse,"bottom"):n?b(e,_.collapse,"top"):b(e,_.setSplitPosition,t)}function v(){var t=b.apply(null,arguments);O(e.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER,t.fileTreeSplitter)}function S(t){var o=f(t);return _.isCollapsed(o,"top")?e.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED:_.isCollapsed(o,"bottom")?e.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED:e.constants.DEVELOPER_MODE.CONTAINER_STATES.CUSTOM}function P(e){var o=t.tail(arguments);return e.apply(null,["ideSplitter_"+c.store.getState().devModeContext.type].concat(o))}function E(e,t,o){!function(e,t){c.bi.event(n.events.IDE_TOPBAR_RESIZE,{old_hight:c.developerMode.ui.idePane.getSplitPosition(),new_hight:(100*e/t).toPrecision(4)+"%",site_id:c.documentServices.generalInfo.getSiteId()})}(t,o),P(y,e,t,o)}function C(e){!function(){var e=c.developerMode.ui.treePane.isOpen?"close":"open";c.bi.event(n.events.LEFT_TREE_TOGGLE,{state:e,site_id:c.documentServices.generalInfo.getSiteId()})}(),v("fileTreeSplitter",_.toggleCollapse,"left",e)}var T=i.WIX_CODE_TOPBAR_HEIGHT,I=54,_=o.splitterAPI,M=function(e){return l.userPreferences.selectors.getSiteUserPreferences(e)(c.store.getState())},O=function(e,t){return c.store.dispatch(l.userPreferences.logic.setSiteUserPreferences(e,t))};return{createContext:m,setContext:g,getContext:function(){if(!c.isPreviewReady())return m(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.UNKNOWN);var t=c.store.getState().devModeContext;if(t.type===e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE){var o=c.documentServices.pages.getFocusedPageId(),i={id:c.documentServices.pages.getFocusedPageId(),displayName:c.pages.getPageTitle(o),isPopup:c.documentServices.pages.popupPages.isPopup(o)};t=m(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,i)}return t},isEnabled:u,enableWithMarketingConfig:function(){if(!M(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)){var t={developerModeEnabled:!0,developerToolBarEnabled:!1,showHiddenComponents:!0};O(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,!0),O(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,t.developerModeEnabled),O(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,t.developerToolBarEnabled),p(),g(m(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),c.documentServices.documentMode.showHiddenComponents(t.showHiddenComponents),c.documentServices.documentMode.showControllers(!0),v("fileTreeSplitter",_.collapse,"left"),c.updateEditorViewTools(t),c.bi.event(e.bi.events.topbar.top_bar_VIEW_menu_click,{category:"dev_mode",status:1,origin:"auto"})}},toggle:d,ui:{idePane:{getSplitPosition:t.partial(P,h,_.getSplitPosition),setSplitPosition:E,maximize:t.partial(P,b,_.collapse,"top"),unMaximize:t.partial(P,b,_.unCollapse,"top"),toggleMaximize:t.partial(P,b,_.toggleCollapse,"top"),minimize:t.partial(P,b,_.collapse,"bottom"),unMinimize:t.partial(P,b,_.unCollapse,"bottom"),toggleMinimize:t.partial(P,b,_.toggleCollapse,"bottom"),revertSize:t.partial(P,b,_.unCollapse),getState:t.partial(P,S)},consolePane:{getSplitPosition:t.partial(h,"consoleSplitter",_.getSplitPosition),setSplitPosition:t.partial(y,"consoleSplitter"),minimize:t.partial(b,"consoleSplitter",_.collapse,"bottom"),unMinimize:t.partial(b,"consoleSplitter",_.unCollapse,"bottom"),minimizedByUser:t.partial(function(){var t=S("consoleSplitter");return c.store.getState().consoleSplitter&&t===e.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED}),getState:t.partial(S,"consoleSplitter")},treePane:{getSplitPosition:t.partial(h,"fileTreeSplitter",_.getSplitPosition),setSplitPosition:t.partial(v,"fileTreeSplitter",_.setSplitPosition),toggle:C,isOpen:t.negate(t.partial(h,"fileTreeSplitter",_.isCollapsed,"left"))},topbarHeight:T+"px"}}}return{create:c}}),define("rEditor/app/APISections/selectedComponent",["lodash","stateManagement"],function(e,t){"use strict";function o(t){return{sendSelectedComponentBI:function(o,a){var r=t.store,s=r.getState(),l=i.getSelectedCompsRefs(s);if(o&&!e.isEmpty(l)){var c=i.getSelectedComponentType(s,t.documentServices),p={component_id:e.head(l).id,component_type:c};a&&e.merge(p,a),r.dispatch(n(o,p))}},copy:function(){return t.copyPaste.copy(t.selection.getSelectedComponents())},duplicate:function(){return t.copyPaste.duplicate(t.selection.getSelectedComponents())},cut:function(){var e=t.selection.getSelectedComponents();return t.selection.isComponentSelected()&&t.components.cut(e),e},remove:function(){if(t.selection.isComponentSelected()){var e=t.selection.getSelectedComponents();return t.components.remove(e)}return Promise.resolve(!1)},toggleFixedPosition:function(){var e=t.selection.getSelectedComponents();return!(!e||!t.components.layout.canBeFixedPosition(e))&&function(e){var o=!t.components.layout.get(e).fixedPosition;return t.components.layout.setFixed(e,o),o}(e)}}}var i=t.selection.selectors,n=t.bi.event;return{create:o}}),define("rEditor/app/APISections/savePublishWrapper",["lodash","core","util","stateManagement","coreUtilsLib"],function(e,t,o,i,n){"use strict";function a(e){return e()}function r(r){function l(){var t=d.getState(),o=s.isDomainConnected(t,r.documentServices);return e.merge({isFirstSave:r.documentServices.generalInfo.isFirstSave(),isSitePublished:r.documentServices.generalInfo.isSitePublished(),isDomainConnected:o,domain:o?r.documentServices.generalInfo.getPublicUrl():s.getFreeDomainPrefix(d.getState(),r.documentServices)+r.siteName.get(),isSitePremium:r.site.isPremium()},t.sitePremiumState)}function c(t){r.updateState({savePublish:e.merge({},r.store.getState().savePublish,t)})}function p(o,i,n){return new Promise(function(s,l){function c(){y.duration=e.now()-d,r.bi.event(t.bi.events.save.saveProcess.SUCCESS_SAVE_PROCESS,y),v=e.assign(v,y,{result:"success"}),g.addPageAction("save finish",v),u&&e.forEach(m,a),r.isSavedInCurrentSession=!0,s(),r.updateState({savingStatus:b.DONE_SUCCESS}),window.setTimeout(function(){var e=r.autosaveManager.shouldShowAutosaveUI()?b.IDLE_SAVED:b.IDLE;r.updateState({savingStatus:e})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function p(i){!function(o,i,n){var a=e.keys(o),s=e.compact(e.map(o,"errorCode")),l={p1:a,p2:e.compact(e.map(o,"errorType")),p3:s};i?r.documentServices.bi.error(t.bi.errors.FIRST_SAVE_ERROR,l):n?r.documentServices.bi.error(t.bi.errors.FULL_SAVE_ERROR,l):r.documentServices.bi.error(t.bi.errors.SAVE_ERROR,l)}(i,u,o),v=e.assign(v,{result:"failure",error:function(e){try{return JSON.stringify(e)}catch(e){return"Failed to stringify save error info"}}(i)}),g.addPageAction("save finish",v),l(i),r.updateState({savingStatus:b.DONE_FAILED}),window.setTimeout(function(){r.updateState({savingStatus:b.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}var d=e.now();r.updateState({savingStatus:b.IN_PROGRESS});var u=r.documentServices.generalInfo.isFirstSave(),h=function(e,t){return e?"first":t?"full":"partial"}(u,o);r.bi.event(t.bi.events.save.saveProcess.SAVE_CLICK,{origin:i});var y={save_type:h};r.bi.event(t.bi.events.save.saveProcess.START_SAVE_PROCESS,y);var v=e.assign({is_first_save:u,save_count:++f},y);g.addPageAction("save start",e.clone(v)),e.defer(function(){r.documentServices.save(c,p,o,n),g.addPageAction("save computed",e.assign(e.clone(v),{duration:e.now()-d}))})})}var d=r.store,u=!1,m=[function(){r.store.dispatch(i.userPreferences.logic.loadSitePreferences(r.documentServices.generalInfo.getSiteId(),!0)),r.store.dispatch(i.leftBar.logic.collapseMenu())}],g=o.newrelic,f=0,h=0,b=t.constants.PROGRESS_STATUS;return{save:p,saveAsTemplate:function(e,t){r.documentServices.saveAsTemplate(function(){e&&e()},function(e){t&&t(e),n.log.info("Failed saving as template ",e)})},publish:function(){return new Promise(function(o,i){r.updateState({publishingStatus:b.IN_PROGRESS});var n={publish_count:++h};g.addPageAction("publish start",e.clone(n));var a={publish_type:r.documentServices.generalInfo.isSitePublished()?"publish":"first_publish"};r.bi.event(t.bi.events.publish.START_PUBLISH,a),r.documentServices.publish(function(){n.result="success",g.addPageAction("publish finish",n),r.bi.event(t.bi.events.publish.SUCCESS_PUBLISH,a),e.forEach(r.sitePublishedCallbacks,function(e){e()}),o(),r.updateState({publishingStatus:b.DONE_SUCCESS}),window.setTimeout(function(){r.updateState({publishingStatus:b.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)},function(e){n.result="failure",g.addPageAction("publish finish",n),i(e),r.updateState({publishingStatus:b.DONE_FAILED}),window.setTimeout(function(){r.updateState({publishingStatus:b.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)})})},registerFirstSaveCallback:function(e){m.push(e)},getSiteState:l,setSitePremiumState:function(e){r.updateState({sitePremiumState:e})},lockSavePublish:function(){u=!0},unlockSavePublish:function(){u=!1},isSavePublishLocked:function(){return u},canDiffSave:function(){var e=r.store.getState().savePublish;return!(e.isDiffSaveInProgress||e.isSaveInProgress||e.isPublishInProgress||u)},canUserPublish:function(){var t=r.documentServices&&r.documentServices.canUserPublish();return!e.isBoolean(t)||t},canSaveOrPublish:function(){var e=r.store.getState().savePublish;return!e.isPublishInProgress&&!e.isSaveInProgress&&!u},setSaveProgress:function(e){c({isSaveInProgress:e})},setPublishProgress:function(e){c({isPublishInProgress:e})},setDiffSaveProgress:function(e){c({isDiffSaveInProgress:e})},isSaveInProgress:function(){return r.store.getState().savePublish.isSaveInProgress},isPublishInProgress:function(){return r.store.getState().savePublish.isPublishInProgress}}}var s=i.domain.selectors;return{create:r}}),define("rEditor/utils/removeUtil",["lodash","util","core"],function(e,t,o){"use strict";function i(t,o,i,n){var a=function(t,o){return e(o).flatMap(function(e){return t.components.is.container(e)?[e].concat(t.components.get.byAncestor(e)):e}).uniqBy("id").value()}(o,i),r=!1;return e.forEach(t.componentsRemoveHandlerPlugins,function(e){if(e(t.store.dispatch,o,i,a,n))return r=!0,!1}),r}var n=function(e,o){e.bi.reportBI(t.bi.events.COMPONENT_REMOVED,o)},a=function(t,o,i,a,s,l,c,p){var d=o.tpa.section.getPageData(i),u=d.hasSection&&s[o.tpa.constants.COMP_TYPES.TPA_SECTION];if(o.wixapps.classics.isBlogPage(i))s.blog&&s.blog(),t.pages.beforePageRemoveHook(i,function(){e.forEach(o.pages.getPagesData(),function(e){o.wixapps.classics.isBlogPage(e.id)&&(o.pages.remove(e.id),n(t,c))}),p&&p()});else if(u)s[o.tpa.constants.COMP_TYPES.TPA_SECTION](i,d.title,d.appData,l,p,c);else if(l){var m={pageTitle:a.title,onConfirm:r.bind(this,t,o,i,p,c),isPopup:a.isPopup};t.panelManager.openPanel("panels.messagePanels.deletePageMessage",m,!0)}else r(t,o,i,p,c)},r=function(e,t,o,i,a){e.pages.beforePageRemoveHook(o,function(){t.pages.remove(o),i&&i(),n(e,a)})},s=function(t,o,i){var n=t.tpa.getTpaPointersRecursive(i),a=i.concat(n);a=e.uniqBy(a,"id");return o.bi.getComponentsBIParams(a)},l=function(t,o,i,n,a){return e.map(i,function(e){var i=t.components.getType(e),r=function(){return new Promise(function(o){t.components.remove(e,o,a)})};return o[i]?Promise.resolve(o[i](e,n,r)):r()})};return{removePage:function(o,i,n,r,s,l,c){var p=i.pages.getReference(r),d=i.pages.data.get(r),u=i.tpa.getPremiumTpaChildrenOnPage(p,d.tpaApplicationId,!0),m=i.wixapps.classics.isBlogPage(r),g=i.components.getTpaChildren(p),f=e.clone(g);m&&(f=f.concat(i.components.getBlogChildren(p)));var h=o.bi.getComponentsBIParams(f);e.forEach(h,function(e){e.removal_method="delete_page"});var b=function(e){return!!e.tpaApplicationId}(d)&&i.tpa.app.isMultiSectionInstalled(d.tpaApplicationId);if(u.length>0&&!b||b&&function(e,t,o){var i=e.app.isPremium(t);return!!(i&&o>1)||!i&&o>0}(i.tpa,d.tpaApplicationId,u.length)){var y=d&&d.title||"",v=u[0];o.panelManager.openPanel("tpaPanels.confirmation.deletePageContainsPremiumTpa",{appName:v.appDefinitionName,appDefId:v.appDefinitionId,appCount:u.length,pageTitle:y,onConfirm:function(){a(o,i,r,d,n,!1,h,s),e.forEach(u,function(e,n){var a={app_id:e.appDefinitionId,app_site_id:e.instanceId,instance_id:f[n].id,is_last_tpa:i.tpa.app.isLastAppComp(e.applicationId)?1:0,component_type:"tpa"};o.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,a)})},onCancel:function(){l&&l()}},!0)}else m?o.panelManager.openPanel("blog.blogDeleteConfirmation",{onConfirm:function(){a(o,i,r,d,n,!1,h,s)},onCancel:function(){l&&l()}},!0):a(o,i,r,d,n,"boolean"!=typeof c||c,h,s)},removeComponent:function(n,a,r,c,p){var d=e.some(r,n.components.is.container),u=r.length>1;return new Promise(function(m){if(n.viewMode.get()===n.viewMode.VIEW_MODES.MOBILE)!function(t,i,n){var a=i.hidePlugins;e.forEach(n,function(n){var r=t.components.getType(n);a[r]?a[r](n):t.mobile.hiddenComponents.hide(n),!i.zoomMode.isInZoomMode()&&i.components.is.hiddenable(n)&&i.panelManager.openPanel("mobileEditor.hiddenItemsPanel");var s=function(t,o){var i=t.documentServices.components.getType(o),n={component_id:o.id,component_type:i,current_page_name:t.documentServices.pages.getFocusedPageId(),site_segment:function(e,t){var o=e.siteSegments.getFooter(),i=e.siteSegments.getHeader();return e.components.isDescendantOfComp(t,i)?i.id:e.components.isDescendantOfComp(t,o)?o.id:""}(t,o),origin:"",hide_method:""};if(t.isTpa(i)){var a=e.head(t.bi.getComponentsBIParams(o));a=e.omit(a,["is_last_tpa","widget_id"]),n=e.assign(n,a)}return n}(i,n);i.bi.event(o.bi.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_HIDE,s)})}(n,c,r),m();else{var g=n.tpa.getPremiumTpaChildren(r),f=e.reject(g,n.tpa.app.hasSections),h=s(n,c,r);if((d||u)&&f.length>0)return void function(o,i,n,a,r,s,c){var p=a[0];return new Promise(function(d){o.panelManager.openPanel("tpaPanels.confirmation.deleteContainerContainsPremiumTpa",{appName:p.appDefinitionName,appDefId:p.appDefinitionId,appCount:a.length,onConfirm:function(){Promise.all(l(i,n,r,!1,c)).then(d),o.bi.reportBI(t.bi.events.COMPONENT_REMOVED,s),e.forEach(s,function(e){o.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,e)})}},!0)})}(c,n,a,g,r,h,p).then(m);var b=function(){Promise.all(l(n,a,r,!0,p)).then(function(){c.bi.reportBI(t.bi.events.COMPONENT_REMOVED,h)}).then(m)};i(c,n,r,b)||b()}})},cutComponent:function(e,t,o){var i=e.components.getType(t);o[i]?o[i](t):e.components.remove(t)}}}),define("rEditor/utils/multiSelectHandler",["lodash"],function(e){"use strict";return function(){var t=e.toArray(arguments),o=t.shift(),i=t.pop(),n=this.components.asArray(o);return this.multiselect.isMultiselect(n)?i.multiCompHandler.apply(this,[n].concat(t)):i.singleCompHandler.apply(this,[n[0]].concat(t))}}),define("rEditor/app/APISections/componentsFacade/layoutWrapper",["lodash","experiment","core","util","stateManagement","rEditor/utils/multiSelectHandler"],function(e,t,o,i,n,a){"use strict";function r(r){function s(e,t,n,a){var s=function(e,t){var i=r.components.layout.getRelativeToScreen(e);return o.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(r,e,t,i)}(e,t);a(e,i.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,s)),n||r.history.debouncedAdd("component - update layout")}function l(e,t,o){return s(e,t,o,r.documentServices.components.layout.update)}function c(e,t,o){var n=i.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(r,e,t);r.components.layout.update(e,n,o)}function p(e,t,o){var n=i.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,t);r.components.layout.updateAndPreserveProportions(e,n,o)}function d(e,t,o){var n=i.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(r,e,t);r.components.layout.updateAndPreserveProportions(e,n,o)}function u(e,t,o){r.documentServices.components.layout.updateAndPreserveProportions(t,o,!0)}function m(e,t){var i=r.components.layout.get(e);return o.utils.updateLayoutUtil.getLayoutAfterConstraints(r,e,t,i)}function g(e){return r.documentServices.components.layout.canBeStretched(e)&&!h(e)&&!r.components.isShowOnSomePages(e)}function f(e,t){var o=i.math.getSquaresIntersection(e,t);return o&&i.math.rect.getAreaRatioPercentage(o,t)}function h(e){var t=r.components.asArray(e);return n.componentMetaData.isPinned(t,r.documentServices)}function b(o){return a.call(r,o,{multiCompHandler:r.multiselect.layout.getResizableSides,singleCompHandler:function(i){if(n.pinMode.selectors.isOpen(T.getState()))return{};if(r.components.is.group(i))return e.toArray(r.documentServices.components.layout.RESIZE_SIDES);var a=r.documentServices.components.layout.getResizableSides(i),s=r.components.layout.getDock(i);return s&&(a=function(o,i,n){if(t.isOpen("se_screenWidthEditBox")&&r.components.layout.isHorizontallyStretchedToScreen(o))return i;var a={left:r.documentServices.components.layout.RESIZE_SIDES.LEFT,right:r.documentServices.components.layout.RESIZE_SIDES.RIGHT,top:r.documentServices.components.layout.RESIZE_SIDES.TOP,bottom:r.documentServices.components.layout.RESIZE_SIDES.BOTTOM},s=e.map(n,function(e,t){return a[t]});return e.difference(i,s)}(o,a,s)),a}})}function y(t,o){var i=r.components.asArray(o);return!e.isEmpty(i)&&e.every(i,function(e){return t(e)})}function v(e,t,o,i){var n=m(e,t),s=a.call(r,e,n,{multiCompHandler:r.multiselect.layout.updateAndAdjustLayout,singleCompHandler:i});return o||r.history.debouncedAdd("component - update layout"),s}function S(e,t,o){return s(e,t,o,r.documentServices.components.layout.continuousUpdate.on)}function P(e,t,o){r.documentServices.components.layout.continuousUpdateAndPreserveProportions.on(t,o,!0)}function E(e,t,o){!function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.continuousUpdateAndPreserveProportions,singleCompHandler:P})}(e,i.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,t),o)}function C(t,o){var i=function(t,o,i){var n=e.pick(t,["x","y","width","height"]),a=Math.max(n.width,n.height);return i<1?(n.height=a,n.width=n.height*i):(n.width=a,n.height=n.width/i),n.x=t.x+(t.width-n.width)/2,n.y=t.y+(t.height-n.height)/2,n}(r.components.layout.getRelativeToStructure(t),0,o);r.components.layout.updateRelativeToStructure(t,i,!0)}var T=r.store;return{get:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.get,singleCompHandler:r.documentServices.components.layout.get})},isRenderedInFixedPosition:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isRenderedInFixedPosition(e)})},isAncestorRenderedInFixedPosition:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isAncestorRenderedInFixedPosition(e)})},isShowOnFixedPosition:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isShowOnFixedPosition(e)})},isHorizontallyStretchedToScreen:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isHorizontallyStretchedToScreen(e)})},isDocked:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isDocked(e)})},isDockedToScreen:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isDockedToScreen(e)})},unDock:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.unDock,singleCompHandler:r.documentServices.components.layout.unDock})},isRotated:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isRotated(e)})},isPinned:h,canBeStretched:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.canBeStretched,singleCompHandler:g})},canBeFixedPosition:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.canBeFixedPosition,singleCompHandler:r.documentServices.components.layout.canBeFixedPosition})},getRelativeToScreen:function(e,t){return a.call(r,e,t,{multiCompHandler:r.multiselect.layout.getRelativeToScreen,singleCompHandler:r.documentServices.components.layout.getRelativeToScreen})},getRelativeToScreenConsideringScroll:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.getRelativeToScreenConsideringScroll,singleCompHandler:r.documentServices.components.layout.getRelativeToScreenConsideringScroll})},getRelativeToStructure:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.getRelativeToStructure,singleCompHandler:r.documentServices.components.layout.getRelativeToStructure})},getResizableSides:b,getResizableWithAnchors:function(e){return y(r.components.is.resizableWithAnchors,e)},getResizableDiagonally:function(e){return y(r.components.is.resizableDiagonally,e)},getProportionStructure:function(e,t){return a.call(r,e,t,{multiCompHandler:r.multiselect.layout.getProportionStructure,singleCompHandler:r.documentServices.components.layout.getProportionStructure})},update:function(e,t,o){if(t){var i=m(e,t);a.call(r,e,i,{multiCompHandler:r.multiselect.layout.update,singleCompHandler:r.documentServices.components.layout.update}),o||r.history.debouncedAdd("component - update layout")}},updateRelativeToStructure:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.updateRelativeToStructure,singleCompHandler:c})},updateRelativeToScreen:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.updateRelativeToScreen,singleCompHandler:l})},updateRelativeToStructureAndPreserveProportions:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.updateRelativeToStructureAndPreserveProportions,singleCompHandler:d})},updateRelativeToScreenAndPreserveProportions:function(e,t,o,i){a.call(r,e,t,o,i,{multiCompHandler:r.multiselect.layout.updateRelativeToScreenAndPreserveProportions,singleCompHandler:p})},updateAndPreserveProportions:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.updateAndPreserveProportions,singleCompHandler:u})},updateAndAdjustLayout:function(e,t,o){return v(e,t,o,r.documentServices.components.layout.updateAndAdjustLayout)},updateRelativeToStructureAndAdjustLayout:function(e,t,o){var n=i.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(r,e,t);return r.components.layout.updateAndAdjustLayout(e,n,o)},updateRelativeToScreenAndAdjustLayout:function(e,t,o){var n=i.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,t);return r.components.layout.updateAndAdjustLayout(e,n,o)},resetCompLayoutToAspectRatio:C,continuousUpdate:{start:function(){r.documentServices.components.layout.continuousUpdate.start()},on:function(e,t,o){a.call(r,e,t,o,{multiCompHandler:r.multiselect.layout.continuousUpdateRelativeToScreen,singleCompHandler:S})},end:function(){r.documentServices.components.layout.continuousUpdate.end()}},continuousUpdateAndPreserveProportions:{start:function(){r.documentServices.components.layout.continuousUpdateAndPreserveProportions.start()},on:function(e,t,o,i){a.call(r,e,t,o,i,{multiCompHandler:r.multiselect.layout.continuousUpdateRelativeToScreenAndPreserveProportions,singleCompHandler:E})},end:function(){r.documentServices.components.layout.continuousUpdateAndPreserveProportions.end()}},continuousUpdateAndAdjustLayout:{start:function(){r.documentServices.components.layout.continuousUpdateAndAdjustLayout.start()},on:function(e,t,o){return v(e,i.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(r,e,t),o,r.documentServices.components.layout.continuousUpdateAndAdjustLayout.on)},end:function(){r.documentServices.components.layout.continuousUpdateAndAdjustLayout.end()}},setFixed:function(e,t){return a.call(r,r,e,t,{multiCompHandler:r.multiselect.layout.setFixed,singleCompHandler:o.utils.fixedPositionUtils.setFixedPosition})},isStretchedToScreen:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.isStretchedToScreen,singleCompHandler:r.documentServices.components.layout.isHorizontallyStretchedToScreen})},setDock:function(e,t){return a.call(r,e,t,{multiCompHandler:r.multiselect.layout.setDock,singleCompHandler:r.documentServices.components.layout.setDock})},getDock:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.getDock,singleCompHandler:r.documentServices.components.layout.getDock})},updateDock:function(e,t){return a.call(r,e,t,{multiCompHandler:r.multiselect.layout.updateDock,singleCompHandler:r.documentServices.components.layout.updateDock})},updateAspectRatio:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.updateAspectRatio,singleCompHandler:r.documentServices.components.layout.updateAspectRatio})},removeAspectRatio:function(e){return a.call(r,e,{multiCompHandler:r.multiselect.layout.removeAspectRatio,singleCompHandler:r.documentServices.components.layout.removeAspectRatio})},isAspectRatioOn:function(t){var o=r.components.asArray(t);return e.every(o,function(e){return r.documentServices.components.layout.isAspectRatioOn(e)})},isCompOutOfPageBounds:function(e){var t=r.components.layout.getRelativeToScreen(e),i=r.components.layout.getRelativeToScreen(r.documentServices.siteSegments.getPagesContainer()),n=r.isMobileEditor()?o.constants.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS:0,a=i.x+n,s=i.x+i.width-n;return t.x+t.width<=a||t.x>=s},getCompMargin:function(e){var t=r.components.layout.getRelativeToScreen(e),o=r.components.layout.getRelativeToStructure(e),i=t.width-o.width,n=r.site.getSiteX(),a=o.x+n-t.x;return{left:a,right:i-a}},isCompExceedingContainerMargin:function(t,o){var i=r.components.layout.getRelativeToScreen(o),n=r.components.layout.getCompMargin(o),a=r.components.layout.getRelativeToScreen(t),s=e.assign({},i,{width:n.left}),l=e.assign({},i,{x:i.x+i.width-n.right,width:n.right});return(f(s,a)||0)>10||(f(l,a)||0)>10}}}return{create:r}}),define("rEditor/app/APISections/componentsFacade/arrangementFacade",["core"],function(e){"use strict";return{create:function(t){return{moveForward:function(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveForward(o))return null;t.documentServices.components.arrangement.moveForward(o[0]),t.history.add("component - move forward")},moveBackward:function(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveBackward(o))return null;t.documentServices.components.arrangement.moveBackward(o[0]),t.history.add("component - move backward")},moveToFront:function(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveForward(o))return null;t.documentServices.components.arrangement.moveToFront(o[0]),t.history.add("component - move to front")},moveToBack:function(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveBackward(o))return null;t.documentServices.components.arrangement.moveToBack(o[0]),t.history.add("component - move to back")},moveToIndex:function(e,o,i){var n=t.components.asArray(e);t.documentServices.components.arrangement.moveToIndex(n[0],o),i||t.history.add("component - move to index")},canMoveBackward:function(o){var i=t.components.asArray(o);return t.multiselect.isMultiselect(i)?t.multiselect.arrangement.canMoveBackward(i):!(t.components.getType(i)===e.constants.COMP_TYPES.ANCHOR)&&t.documentServices.components.arrangement.canMoveBackward(i[0])},canMoveForward:function(o){var i=t.components.asArray(o);return t.multiselect.isMultiselect(i)?t.multiselect.arrangement.canMoveForward(i):!(t.components.getType(i)===e.constants.COMP_TYPES.ANCHOR)&&t.documentServices.components.arrangement.canMoveForward(i[0])}}}}}),define("rEditor/app/APISections/componentsFacade/behaviorsFacade",["lodash","rEditor/utils/multiSelectHandler"],function(e,t){"use strict";return{create:function(e){return{update:function(o,i,n,a){return t.call(e,o,i,n,a,{multiCompHandler:e.multiselect.behaviors.update,singleCompHandler:e.documentServices.components.behaviors.update})},get:function(o){return t.call(e,o,{multiCompHandler:e.multiselect.behaviors.get,singleCompHandler:e.documentServices.components.behaviors.get})},remove:function(o,i,n,a){return t.call(e,o,i,n,a,{multiCompHandler:e.multiselect.behaviors.remove,singleCompHandler:e.documentServices.components.behaviors.remove})},removeAll:function(o){return t.call(e,o,{multiCompHandler:e.multiselect.behaviors.removeAll,singleCompHandler:e.documentServices.components.behaviors.removeAll})},previewAnimation:function(o,i,n){return t.call(e,o,i,n,{multiCompHandler:e.multiselect.behaviors.previewAnimation,singleCompHandler:e.documentServices.components.behaviors.previewAnimation})},stopPreviewAnimation:function(o){return t.call(e,o,{multiCompHandler:e.multiselect.behaviors.stopPreviewAnimation,singleCompHandler:e.documentServices.components.behaviors.stopPreviewAnimation})},execute:function(o,i,n,a){return t.call(e,o,i,n,a,{multiCompHandler:e.multiselect.behaviors.execute,singleCompHandler:e.documentServices.components.behaviors.execute})},getRuntimeState:function(o){return t.call(e,o,{multiCompHandler:e.multiselect.behaviors.getRuntimeState,singleCompHandler:e.documentServices.components.behaviors.getRuntimeState})}}}}}),define("rEditor/componentsMetaData/components/bgImageStrip",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/fiveGridLine",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/footer",[],function(){"use strict";return{pinnable:!1,showLegacyFixedPosition:!0}}),define("rEditor/componentsMetaData/components/header",["experiment"],function(e){"use strict";return{pinnable:!1,showLegacyFixedPosition:function(t){return!e.isOpen(t.isMobileEditor()?"mobileHeaderBehaviors":"desktopHeaderBehaviors")}}}),define("rEditor/componentsMetaData/components/screenWidthContainer",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripShowcase",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripSlideshowGallery",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/blogComponents",["coreUtilsLib","lodash","experiment"],function(e,t,o){"use strict";var i=e.blogAppPartNames;return{pinnable:!1,selectable:function(e,n){if(o.isOpen("se_blogHeroImage")){if(e.components.data.get(n).appPartName===i.HERO_IMAGE){var a=e.documentServices.wixapps.classics.getAppPartExtraData(n);if(a){return t.head(a.items).coverImageData.isHeroImage}}}return!0},containable:function(e,o){var n=[i.FEED,i.SINGLE_POST,i.RELATED_POSTS],a=e.components.data.get(o);return!t.includes(n,a.appPartName)}}}),define("rEditor/componentsMetaData/components/rssButton",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/tpaGluedWidget",["lodash"],function(e){"use strict";var t=["14517e1a-3ff0-af98-408e-2bd6953c36a2"];return{pinnable:!1,selectable:function(o,i){var n=o.isMobileEditor(),a=(o.components.data.get(i)||{}).applicationId,r=o.documentServices.tpa.app.getData(a)||{},s=e.includes(t,r.appDefinitionId);return!n||n&&!s}}}),define("rEditor/rootComps/overlay/overlayWithHole.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{style:{position:"absolute",height:"100%",width:"100%"}},e.createElement("div",{style:this.getStyles()}))}}),define("rEditor/rootComps/overlay/overlayWithHole",["create-react-class","lodash","core","rEditor/rootComps/overlay/overlayWithHole.rt"],function(e,t,o,i){"use strict";return e({displayName:"overlayWithHole",mixins:[o.mixins.editorAPIMixin],getHoleLayout:function(){return this.getEditorAPI().components.layout.getRelativeToScreen(this.props.hole)},getStyles:function(){var e=this.getHoleLayout(),t={width:e.width,height:e.height,top:e.y,left:e.x,position:"absolute",boxShadow:"0 0 0 9999px "+this.props.background};return e.rotationInDegrees&&(t.transform="rotate("+e.rotationInDegrees+"deg)"),t},render:i})}),define("rEditor/rootComps/overlay/overlayWithQuickTip",["react","create-react-class","lodash","core","baseUI","stateManagement"],function(e,t,o,i,n,a){"use strict";return t({displayName:"overlayWithQuickTip",mixins:[i.mixins.editorAPIMixin],componentWillMount:function(){this.quickTipShowTimeoutId=this.showQuickTip()},showQuickTip:function(){var t=this.getEditorAPI(),i=this.props.quickTipSession.id+this.props.hoveredComp.id,r=a.userPreferences.selectors.getSessionUserPreferences(i)(t.store.getState())||0;return this.sessionDisabledId=i+"-disabled",r>=this.props.quickTipSession.maxNum||a.userPreferences.selectors.getSessionUserPreferences(this.sessionDisabledId)(t.store.getState())?null:window.setTimeout(function(){var s=function(e){var t=e.cursor.get();return{height:0,width:0,top:t.y||0,left:t.x||0}}(t),l=e.createElement(n.popoverTemplates.quickTip,o.assign(this.props.templateInfo,{closeAction:this.closeQuickTip}));this.quickTipShowTimeoutId=null,this.isQuickTipShown=!0,t.store.dispatch(a.userPreferences.logic.setSessionUserPreferences(i,r+1)),t.showFloatingBubble(l,s,this.props.propsForBubble,this.props.shouldNotHideOnMouseLeaveTarget)}.bind(this),this.props.delayBeforeShow)},closeQuickTip:function(){this.getEditorAPI().hideFloatingBubble(),this.getEditorAPI().overlay.enableUpdate(),this.isQuickTipShown=!1},componentWillUnmount:function(){this.isQuickTipShown&&(this.props.delayBeforeNext&&function(e,t,o){e.store.dispatch(a.userPreferences.logic.setSessionUserPreferences(t,!0)),window.setTimeout(function(){e.store.dispatch(a.userPreferences.logic.setSessionUserPreferences(t,!1))},o)}(this.getEditorAPI(),this.sessionDisabledId,this.props.delayBeforeNext),this.closeQuickTip()),this.quickTipShowTimeoutId&&window.clearTimeout(this.quickTipShowTimeoutId)},render:function(){return this.props.children}})}),define("rEditor/componentsMetaData/components/popupOverlay",["lodash","react","constants","rEditor/rootComps/overlay/overlayWithHole","rEditor/rootComps/overlay/overlayWithQuickTip"],function(e,t,o,i,n){"use strict";return{pinnable:!1,shouldBeOverlayed:function(e,t){return!e.isMobileEditor()&&e.documentServices.pages.popupPages.isPopup(t.id)},getOverlay:function(a,r){var s=t.createElement(i,{hole:a.pages.popupPages.getPopupContainer(),background:"rgba(127, 204, 247, 0.4)"});return t.createElement(n,e.assign({hoveredComp:r},function(e){return{delayBeforeShow:500,delayBeforeNext:1500,quickTipSession:{id:"popupOverlayQuickTipShownFor-",maxNum:4},shouldNotHideOnMouseLeaveTarget:!1,templateInfo:{text:"POPUPS_OVERLAY_HOVER_TOOLTIP",symbol:"idea-bulb"},propsForBubble:{noArrow:!0,shake:!1,behindPopUps:!0,alignment:o.UI.TOOLTIP.ALIGNMENT.RIGHT,closeTriggers:[o.UI.TOOLTIP.TRIGGERS.CLICK],onMouseLeave:e.overlay.enableUpdate,onMouseEnter:e.overlay.disableUpdate}}}(a)),s)},getOverlayProperties:function(){return{enter:{duration:300,delay:500},leave:{duration:300}}}}}),define("rEditor/componentsMetaData/components/page",["lodash","rEditor/componentsMetaData/components/popupOverlay"],function(e,t){"use strict";return e.assign({},{pinnable:!1},t)}),define("rEditor/componentsMetaData/components/boxSlideShow",["constants","boxSlideshow","gfppData"],function(e,t,o){"use strict";function i(e,t){if(o.utils.isPanelOpen(e,a)){var i={selectedComponent:[n.findCurrentSlide(e,t)]};e.panelManager.updatePanelProps(a,i)}}var n=t.utils.boxSlideShowUtils,a="compPanels.panels.BoxSlideShow.backgroundPanel";return{slidesContainer:!0,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.PAGINATION,canContain:!1,canContainByStructure:!1,focusBoxNavContent:function(e,t){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:n.getCurrentSlideIndex(e,t)+1,total_slides:n.getTotalSlidesLength(e,t)},onNext:n.moveNextSlide.bind(null,e,t,i),onPrev:n.movePrevSlide.bind(null,e,t,i),onLabelClick:function(e,t){e.selection.selectComponentByCompRef(t)}.bind(null,e,t)}}}}),define("rEditor/componentsMetaData/components/stripSlideShowMetaData",["constants","boxSlideshow","gfppData"],function(e,t,o){"use strict";function i(e,t){if(o.utils.isPanelOpen(e,a)){var i={selectedComponent:[n.findCurrentSlide(e,t)]};e.panelManager.updatePanelProps(a,i)}}var n=t.utils.boxSlideShowUtils,a="compPanels.panels.StripContainerSlideShow.backgroundPanel";return{slidesContainer:!0,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.PAGINATION,canContain:!1,canContainByStructure:!1,pinnable:!1,focusBoxNavContent:function(e,t){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:n.getCurrentSlideIndex(e,t)+1,total_slides:n.getTotalSlidesLength(e,t)},onNext:n.moveNextSlide.bind(null,e,t,i),onPrev:n.movePrevSlide.bind(null,e,t,i),onLabelClick:function(e,t){e.selection.selectComponentByCompRef(t)}.bind(null,e,t)}}}}),define("rEditor/componentsMetaData/components/boxSlideShowSlide",[],function(){"use strict";return{selectable:!1,slideContainer:!0}}),define("rEditor/componentsMetaData/components/stripSlideShowSlide",[],function(){"use strict";return{selectable:!1,slideContainer:!0}}),define("rEditor/componentsMetaData/components/anchor",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/collage",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/wRichText",["experiment"],function(e){"use strict";return{pinnable:e.isOpen("se_textPinToScreen"),verticallyResizable:function(e){return!e.isMobileEditor()},disabledKnobs:function(e){return e.isMobileEditor()?[e.documentServices.components.layout.RESIZE_SIDES.TOP,e.documentServices.components.layout.RESIZE_SIDES.BOTTOM]:[e.documentServices.components.layout.RESIZE_SIDES.TOP]},resizableWithAnchors:!1,resizableDiagonally:!1}}),define("rEditor/componentsMetaData/components/group",[],function(){"use strict";return{pinnable:!1,selectedBeforeDescendants:!0}}),define("rEditor/componentsMetaData/components/stripContainer",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripColumnsContainer",["lodash","baseUI"],function(e,t){"use strict";return{selectedBeforeDescendants:function(e,t,o){return e.columns.isMultiColumnsStrip(t)&&e.columns.isColumn(o)},showMarginsIndicator:function(t){var o=t.focusBox.getFocusedContainer();if(o){var i=e.head(t.selection.getSelectedComponents());if(e.isEqual(i,o))return t.isDesktopEditor()&&t.components.is.fullWidth(o)&&1===t.components.getChildren(o).length}},focusable:!0,focusBoxNavType:t.uiConstants.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"item_component_label_stripColumnsContainer",label:"component_label_stripColumnsContainer",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}},pinnable:!1}}),define("rEditor/componentsMetaData/components/tpaSection",[],function(){"use strict";return{pinnable:!1}}),define("rEditor/componentsMetaData/components/column",["lodash","constants","util"],function(e,t,o){"use strict";function i(e,t){return e.components.getSiblings(t).length}return{showMarginsIndicator:function(t){var o=t.focusBox.getFocusedContainer();if(o){var n=e.head(t.selection.getSelectedComponents()),a=t.components.getContainer(o);return e.isEqual(n,o)?t.components.is.fullWidth(a)&&!!i(t,n):t.isDesktopEditor()&&t.components.is.fullWidth(a)}},focusable:!0,focusBoxNavType:t.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(t,n){var a=e.template(o.translate("gfpp_column_navigation_slide_number")),r=t.components.getContainer(n),s=t.components.getChildren(r),l=e.findIndex(s,function(t){return e.isEqual(t,n)});return{tabs:[{id:"item_"+l,label:i(t,n)?a({curr_column:l+1}):o.translate("component_label_stripColumnsContainer"),active:!0}],onTabClick:function(){t.selection.selectComponentByCompRef(n)},translate:!1}},selectable:i,horizontallyMovable:!1,movable:!1,canMoveUp:!1,verticallyMovable:!1,disabledKnobs:function(t){return t.isMobileEditor()?e.values(t.documentServices.components.layout.RESIZE_SIDES):e(t.documentServices.components.layout.RESIZE_SIDES).omit("BOTTOM").values().value()},controlledByParent:!0}}),define("rEditor/componentsMetaData/components/popupCloseIconButton",[],function(){"use strict";return{duplicatable:!1}}),define("rEditor/componentsMetaData/components/popupCloseTextButton",[],function(){"use strict";return{duplicatable:!1}}),define("rEditor/componentsMetaData/components/popupContainerMetaData",["constants"],function(e){"use strict";var t={nineGrid:function(e){return"center"===e.horizontalAlignment},fullWidth:function(){return!0},fullHeight:function(){return!1}};return{pinnable:!1,gridLinesVisible:function(e,o){var i=e.components.properties.get(o),n=t[i.alignmentType];if(n)return n(i)},focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"item",label:"component_label_PopupContainer_Popupmode",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/components/mediaControlsContainer",["lodash"],function(e){"use strict";return{disabledKnobs:function(t){return e.values(t.documentServices.components.layout.RESIZE_SIDES)},controlledByParent:!0,selectable:function(e){return!e.isMobileEditor()}}}),define("rEditor/componentsMetaData/components/mediaOverlayControls",[],function(){"use strict";return{controlledByParent:!0}}),define("rEditor/componentsMetaData/components/mediaPlayer",[],function(){"use strict";return{allowLassoOnContainer:!1}}),define("rEditor/componentsMetaData/components/quickActionBarItem",[],function(){"use strict";return{selectable:!1}}),define("rEditor/componentsMetaData/components/quickActionBar",["lodash","experiment"],function(e,t){"use strict";return{selectable:function(o){return t.isOpen("se_qab")||function(t){return e.reject(t.mobile.qab.getActions(),"isDynamic").length>0}(o)}}}),define("rEditor/componentsMetaData/components/tinyMenu",["lodash"],function(e){"use strict";return{pinnable:!1,showLegacyFixedPosition:!0,skinParamsToIgnore:function(t,o){return!e.chain(o).thru(t.components.data.get).get("loginSocialBarRef").isEmpty().value()?[]:e.keys(t.theme.skins.getSkinDefinition("wysiwyg.viewer.skins.mobile.TinyMenuMemberSectionSkin"))}}}),define("rEditor/componentsMetaData/components/repeaterMetaData",["constants"],function(e){"use strict";return{selectedBeforeDescendants:function(e,t,o){return!e.selection.isComponentSelected(t)||e.components.is.repeaterItem(o)},container:!1,focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"repeater",label:"Component_label_listsandgrids",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/components/siteRegionContainerMetaData",["constants"],function(e){"use strict";return{focusable:!0,focusBoxNavType:e.UI.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"siteRegion",label:"component_label_member_bar",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/metaDataMap",["rEditor/componentsMetaData/components/bgImageStrip","rEditor/componentsMetaData/components/fiveGridLine","rEditor/componentsMetaData/components/footer","rEditor/componentsMetaData/components/header","rEditor/componentsMetaData/components/screenWidthContainer","rEditor/componentsMetaData/components/stripShowcase","rEditor/componentsMetaData/components/stripSlideshowGallery","rEditor/componentsMetaData/components/blogComponents","rEditor/componentsMetaData/components/rssButton","rEditor/componentsMetaData/components/tpaGluedWidget","rEditor/componentsMetaData/components/page","rEditor/componentsMetaData/components/boxSlideShow","rEditor/componentsMetaData/components/stripSlideShowMetaData","rEditor/componentsMetaData/components/boxSlideShowSlide","rEditor/componentsMetaData/components/stripSlideShowSlide","rEditor/componentsMetaData/components/anchor","rEditor/componentsMetaData/components/collage","rEditor/componentsMetaData/components/wRichText","rEditor/componentsMetaData/components/group","rEditor/componentsMetaData/components/stripContainer","rEditor/componentsMetaData/components/stripColumnsContainer","rEditor/componentsMetaData/components/tpaSection","rEditor/componentsMetaData/components/column","rEditor/componentsMetaData/components/popupCloseIconButton","rEditor/componentsMetaData/components/popupCloseTextButton","rEditor/componentsMetaData/components/popupContainerMetaData","rEditor/componentsMetaData/components/mediaControlsContainer","rEditor/componentsMetaData/components/mediaOverlayControls","rEditor/componentsMetaData/components/mediaPlayer","rEditor/componentsMetaData/components/quickActionBarItem","rEditor/componentsMetaData/components/quickActionBar","rEditor/componentsMetaData/components/tinyMenu","rEditor/componentsMetaData/components/repeaterMetaData","rEditor/componentsMetaData/components/siteRegionContainerMetaData"],function(e,t,o,i,n,a,r,s,l,c,p,d,u,m,g,f,h,b,y,v,S,P,E,C,T,I,_,M,O,A,w,R,k,D){"use strict";return{"wysiwyg.viewer.components.BgImageStrip":e,"wysiwyg.viewer.components.FiveGridLine":t,"wysiwyg.viewer.components.FooterContainer":o,"wysiwyg.viewer.components.HeaderContainer":i,"wysiwyg.viewer.components.ScreenWidthContainer":n,"tpa.viewer.components.StripSlideshow":r,"tpa.viewer.components.StripShowcase":a,"wixapps.integration.components.AppPart":s,"wysiwyg.common.components.rssbutton.viewer.RSSButton":l,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":c,"mobile.core.components.Page":p,"wysiwyg.viewer.components.BoxSlideShow":d,"wysiwyg.viewer.components.StripContainerSlideShow":u,"wysiwyg.viewer.components.BoxSlideShowSlide":m,"wysiwyg.viewer.components.StripContainerSlideShowSlide":g,"wysiwyg.common.components.anchor.viewer.Anchor":f,"tpa.viewer.components.Collage":h,"wysiwyg.viewer.components.WRichText":b,"wysiwyg.viewer.components.Group":y,"wysiwyg.viewer.components.StripContainer":v,"wysiwyg.viewer.components.StripColumnsContainer":S,"wysiwyg.viewer.components.tpapps.TPASection":P,"wysiwyg.viewer.components.Column":E,"wysiwyg.viewer.components.PopupCloseIconButton":C,"wysiwyg.viewer.components.PopupCloseTextButton":T,"wysiwyg.viewer.components.PopupContainer":I,"wysiwyg.viewer.components.MediaControls":_,"wysiwyg.viewer.components.MediaOverlayControls":M,"wysiwyg.viewer.components.MediaPlayer":O,"wysiwyg.viewer.components.QuickActionBarItem":A,"wysiwyg.viewer.components.QuickActionBar":w,"wysiwyg.viewer.components.mobile.TinyMenu":R,"wysiwyg.viewer.components.Repeater":k,"wysiwyg.viewer.components.SiteRegionContainer":D}}),define("rEditor/app/APISections/singleCompHandlers/componentsMetaData",["lodash","experiment","stateManagement","rEditor/componentsMetaData/metaDataMap"],function(e,t,o,i){"use strict";function n(t,o){return!i[t]||e.isUndefined(i[t][o])?l[o]:i[t][o]}function a(t,o,i){var a=n(r.getCompType(i,t.documentServices),o);if("function"==typeof a){var s=e.toArray(arguments);return s.splice(1,1),a.apply(this,s)}return a}var r=o.components.selectors,s=o.componentMetaData,l={pinnable:!0,showLegacyFixedPosition:!1,duplicatable:!0,controlledByParent:!1,containable:!0,canContain:!0,containableByStructure:!0,canContainByStructure:!0,focusable:!1,movable:!0,verticallyMovable:!0,canMoveUp:!0,resizable:!0,verticallyResizable:!0,horizontallyResizable:!0,rotatable:!0,selectable:!0,slidesContainer:!1,slideContainer:!1,showMarginsIndicator:!1,selectedBeforeDescendants:!1,disabledKnobs:[],resizeOnlyProportionally:!1,resizableWithAnchors:!0,resizableDiagonally:!0,shouldBeOverlayed:!1,allowLassoOnContainer:!0,skinParamsToIgnore:[]},c={getRestrictions:function(t,o){var i=this;return e.reduce(o,function(e,o){return e[o]=c.is[o].call(i,t),e},{})},is:{controlledByParent:function(e){return a(this,"controlledByParent",e)||this.components.is.repeaterItem(e)},fixed:function(e){return this.documentServices.components.layout.get(e).fixedPosition},exist:function(e){return this.documentServices.components.is.exist(e)},container:function(e){return a(this,"container",e)&&this.documentServices.components.is.container(e)},selectable:function(e){return a(this,"selectable",e)},siteSegment:function(t){var o=this.siteSegments.getRefs();return e.find(o,t)},removable:function(e){return this.documentServices.components.is.removable(e)},anchorableFrom:function(e){return this.documentServices.components.is.anchorableFrom(e)},anchorableTo:function(e){return this.documentServices.components.is.anchorableTo(e)},duplicatable:function(e,t){return a(this,"duplicatable",e,t)&&this.documentServices.components.is.duplicatable(e,t)},containable:function(e,t){return a(this,"containable",e,t)&&a(this,"canContain",t,e)&&this.documentServices.components.is.containable(e,t)},containableByStructure:function(t,o){var i=n(t.componentType,"containableByStructure");return(e.isFunction(i)?i(t,o):i)&&a(this,"canContainByStructure",o,t)&&this.documentServices.components.is.containableByStructure(t,o)},styleCanBeApplied:function(e,t){return this.documentServices.components.is.styleCanBeApplied(e,t)},movable:function(e){return a(this,"movable",e)&&this.documentServices.components.is.movable(e)},verticallyMovable:function(e){return t.isOpen("layoutTractor")?a(this,"verticallyMovable",e)&&this.documentServices.components.is.verticallyMovable(e)&&!this.components.layout.isPinned(e)&&!this.components.layout.isVerticallyStretched(e):a(this,"verticallyMovable",e)&&this.documentServices.components.is.verticallyMovable(e)&&!this.components.layout.isPinned(e)},canMoveUp:function(e){return a(this,"canMoveUp",e)&&this.documentServices.components.is.canMoveUp(e)},focusable:function(e){return a(this,"focusable",e)||s.isPlatformShowFocusBox(e,this.documentServices)},fullWidth:function(e){return this.documentServices.components.is.fullWidth(e)},rotatable:function(e){return a(this,"rotatable",e)&&this.documentServices.components.is.rotatable(e)},slidesContainer:function(e){return a(this,"slidesContainer",e)},slideContainer:function(e){return a(this,"slideContainer",e)},hoverBox:function(e){return a(this,"hoverBox",e)},resizable:function(e){return a(this,"resizable",e)&&this.documentServices.components.is.resizable(e)},horizontallyResizable:function(e){return!this.components.layout.isHorizontallyStretchedToScreen(e)&&a(this,"horizontallyResizable",e)&&(this.documentServices.components.is.horizontallyResizable(e)||this.components.is.group(e))},verticallyResizable:function(e){return a(this,"verticallyResizable",e)&&(this.documentServices.components.is.verticallyResizable(e)||this.components.is.group(e))},proportionallyResizable:function(e){return!this.components.is.fullWidth(e)&&!this.components.layout.isPinned(e)&&!this.components.is.controlledByParent(e)&&this.components.is.horizontallyResizable(e)&&this.components.is.verticallyResizable(e)},repeaterItem:function(e){return!!e&&r.isRepeaterItem(e,this.documentServices)},descendantOfRepeaterItem:function(e){return this.components.is.repeatedComponent(e)},resizeOnlyProportionally:function(e){return this.documentServices.components.is.resizeOnlyProportionally(e)},group:function(e){return this.documentServices.components.is.group(e)},groupable:function(e){return this.documentServices.components.is.groupable(e)&&!a(this,"controlledByParent",e)},topMost:function(e,t){return this.documentServices.components.is.topMost(e,t)},leftMost:function(e,t){return this.documentServices.components.is.leftMost(e,t)},groupedComponent:function(e){return this.documentServices.components.is.groupedComponent(e)},animatable:function(e,t){return this.documentServices.components.is.animatable(e,t)},pinnable:function(e){return a(this,"pinnable",e)&&this.components.layout.canBeFixedPosition(e)&&!this.components.is.fullWidth(e)&&!this.components.layout.isHorizontallyStretchedToScreen(e)&&!this.components.is.controlledByParent(e)&&!this.components.is.descendantOfRepeaterItem(e)&&!this.components.isShowOnSomePages(this.components.getContainer(e))},showLegacyFixedPosition:function(e){return a(this,"showLegacyFixedPosition",e)},alignable:function(e){return this.documentServices.components.is.alignable(e)&&this.components.is.movable(e)},draggable:function(e){return this.components.is.movable(e)&&!this.components.layout.isPinned(e)&&!this.components.is.page(e)},allowLassoOnContainer:function(e){return a(this,"allowLassoOnContainer",e)},showMarginsIndicator:function(e){return a(this,"showMarginsIndicator",e)},focusBoxNavType:function(e){return s.isPlatformShowFocusBox(e,this.documentServices)?s.getPlatformFocusBoxNavType():a(this,"focusBoxNavType",e)},focusBoxNavContent:function(e){if(s.isPlatformShowFocusBox(e,this.documentServices)){var t=this.components.getDisplayName(e);return s.getPlatformFocusBoxNavContent(e,this.documentServices,t)}return a(this,"focusBoxNavContent",e)},selectedBeforeDescendants:function(e,t){return a(this,"selectedBeforeDescendants",e,t)},disabledKnobs:function(e){return a(this,"disabledKnobs",e)},shouldBeOverlayed:function(e){return a(this,"shouldBeOverlayed",e)},getOverlay:function(e,t){return a(this,"getOverlay",e,t)},getOverlayProperties:function(e){return a(this,"getOverlayProperties",e)},gridLinesVisible:function(e){return a(this,"gridLinesVisible",e)},resizableWithAnchors:function(e){return a(this,"resizableWithAnchors",e)},resizableDiagonally:function(e){return a(this,"resizableDiagonally",e)},skinParamsToIgnore:function(e){return a(this,"skinParamsToIgnore",e)}}};return c}),define("rEditor/app/APISections/componentsFacade/componentsMetaDataFacade",["lodash","rEditor/utils/multiSelectHandler","rEditor/app/APISections/singleCompHandlers/componentsMetaData"],function(e,t,o){"use strict";return{create:function(i){return{controlledByParent:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.controlledByParent,singleCompHandler:o.is.controlledByParent})},fixed:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.fixed,singleCompHandler:o.is.fixed})},exist:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.exist,singleCompHandler:o.is.exist})},container:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.container,singleCompHandler:o.is.container})},selectable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.selectable,singleCompHandler:o.is.selectable})},siteSegment:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.siteSegment,singleCompHandler:o.is.siteSegment})},siblings:function(t){if(e.includes(t,void 0))return!1;var o=t.pop(),n=i.components.getSiblings(o);return e.every(t,function(t){return e.find(n,t)})},removable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.removable,singleCompHandler:o.is.removable})},duplicatable:function(e,n){return t.call(i,e,n,{multiCompHandler:i.multiselect.is.duplicatable,singleCompHandler:o.is.duplicatable})},showMarginsIndicator:function(e,n){return t.call(i,e,n,{multiCompHandler:i.multiselect.is.showMarginsIndicator,singleCompHandler:o.is.showMarginsIndicator})},showLegacyFixedPosition:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.showLegacyFixedPosition,singleCompHandler:o.is.showLegacyFixedPosition})},containable:function(e,n){return t.call(i,e,n,{multiCompHandler:i.multiselect.is.containable,singleCompHandler:o.is.containable})},containableByStructure:function(e,n){return t.call(i,e,n,{multiCompHandler:i.multiselect.is.containableByStructure,singleCompHandler:o.is.containableByStructure})},styleCanBeApplied:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.styleCanBeApplied,singleCompHandler:o.is.styleCanBeApplied})},movable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.movable,singleCompHandler:o.is.movable})},verticallyMovable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.verticallyMovable,singleCompHandler:o.is.verticallyMovable})},canMoveUp:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.canMoveUp,singleCompHandler:o.is.canMoveUp})},fullWidth:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.fullWidth,singleCompHandler:o.is.fullWidth})},resizable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.resizable,singleCompHandler:o.is.resizable})},horizontallyResizable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.horizontallyResizable,singleCompHandler:o.is.horizontallyResizable})},verticallyResizable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.verticallyResizable,singleCompHandler:o.is.verticallyResizable})},proportionallyResizable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.proportionallyResizable,singleCompHandler:o.is.proportionallyResizable})},repeaterItem:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.repeaterItem,singleCompHandler:o.is.repeaterItem})},descendantOfRepeaterItem:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.descendantOfRepeaterItem,singleCompHandler:o.is.descendantOfRepeaterItem})},resizeOnlyProportionally:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.resizeOnlyProportionally,singleCompHandler:o.is.resizeOnlyProportionally})},group:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.group,singleCompHandler:o.is.group})},groupable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.groupable,singleCompHandler:o.is.groupable})},page:function(e){var t=i.components.asArray(e);return i.pages.isPageExist(t[0].id)},topMost:function(e,n){return t.call(i,e,n,{multiCompHandler:i.multiselect.is.topMost,singleCompHandler:o.is.topMost})},leftMost:function(e,n){return t.call(i,e,n,{multiCompHandler:i.multiselect.is.leftMost,singleCompHandler:o.is.leftMost})},groupedComponent:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.groupedComponent,singleCompHandler:o.is.groupedComponent})},rotatable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.rotatable,singleCompHandler:o.is.rotatable})},animatable:function(e,n){return t.call(i,e,n,{multiCompHandler:i.multiselect.is.animatable,singleCompHandler:o.is.animatable})},pinnable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.pinnable,singleCompHandler:o.is.pinnable})},focusable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.focusable,singleCompHandler:o.is.focusable})},slidesContainer:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.slidesContainer,singleCompHandler:o.is.slidesContainer})},slideContainer:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.slideContainer,singleCompHandler:o.is.slideContainer})},hoverBox:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.hoverBox,singleCompHandler:o.is.hoverBox})},alignable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.alignable,singleCompHandler:o.is.alignable})},draggable:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.draggable,singleCompHandler:o.is.draggable})},allowLassoOnContainer:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.allowLassoOnContainer,singleCompHandler:o.is.allowLassoOnContainer})},anchorableFrom:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.anchorableFrom,singleCompHandler:o.is.anchorableFrom})},anchorableTo:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.anchorableTo,singleCompHandler:o.is.anchorableTo})},focusBoxNavType:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.focusBoxNavType,singleCompHandler:o.is.focusBoxNavType})},focusBoxNavContent:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.focusBoxNavContent,singleCompHandler:o.is.focusBoxNavContent})},potentialContainerForScreenWidthComp:function(e){var t=i.components.asArray(e);return 1===t.length&&i.documentServices.components.is.potentialContainerForScreenWidthComp(t[0])},selectedBeforeDescendants:function(e,n){return t.call(i,e,n,{multiCompHandler:i.multiselect.is.selectedBeforeDescendants,singleCompHandler:o.is.selectedBeforeDescendants})},disabledKnobs:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.disabledKnobs,singleCompHandler:o.is.disabledKnobs})},shouldBeOverlayed:function(e){return o.is.shouldBeOverlayed.call(i,e)},getOverlay:function(e){return o.is.getOverlay.call(i,e)},getOverlayProperties:function(e){return o.is.getOverlayProperties.call(i,e)},gridLinesVisible:function(e){return o.is.gridLinesVisible.call(i,e)},resizableWithAnchors:function(e){return o.is.resizableWithAnchors.call(i,e)},resizableDiagonally:function(e){return o.is.resizableDiagonally.call(i,e)},skinParamsToIgnore:function(e){return t.call(i,e,{multiCompHandler:i.multiselect.is.skinParamsToIgnore,singleCompHandler:o.is.skinParamsToIgnore})}}}}}),define("rEditor/app/serializedComponentPlugins",["lodash"],function(e){"use strict";function t(o,i,n){var a=function(e,t){return[].concat(e[t]||[],e["*"]||[])}(n[o],i.componentType);return"Container"===(i=e.reduce(a,function(e,t){return t(n,e)},i)).type&&(i.components=e.map(i.components,function(e){return t(o,e,n)})),i}return{runCopyPluginOnSerializedComponent:function(e,t,o){var i=e.componentType;return o.copyComponentPlugins[i]&&(e=o.copyComponentPlugins[i](t,e)),e},runPastePluginOnSerializedComponent:t.bind(null,"pasteComponentPlugins"),runSerializeComponentPlugin:t.bind(null,"serializeComponentPlugins")}}),define("rEditor/app/APISections/galleriesData/galleriesData",[],function(){"use strict";return{map:{"tpa.viewer.components.Masonry":{"wysiwyg.viewer.skins.TPAMasonrySkin":"add_preset_Galleries_Grid_Galleries_1"},"wysiwyg.viewer.components.MatrixGallery":[{"wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin":"add_preset_Galleries_Grid_Galleries_4"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryCircleSkin":"add_preset_Galleries_Grid_Galleries_6"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryLiftedShadow":"add_preset_Galleries_Grid_Galleries_20"},{"skins.viewer.gallerymatrix.MatrixGalleryIronSkin":"add_preset_Galleries_Grid_Galleries_21"},{"skins.viewer.gallerymatrix.MatrixGalleryScotchTapeSkin":"add_preset_Galleries_Grid_Galleries_22"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextSlideUpSkin":"add_preset_Galleries_Grid_Galleries_10"},{"wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTransparentSkin":"add_preset_Galleries_Grid_Galleries_12"}],"tpa.viewer.components.StripSlideshow":{"wysiwyg.viewer.skins.TPAStripSlideshowSkin":"add_preset_Galleries_Full_Width_Galleries_1"},"wysiwyg.viewer.components.PaginatedGridGallery":[{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridArrowsOutside":"add_preset_Galleries_Grid_Galleries_7"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridTextBottom":"add_preset_Galleries_Grid_Galleries_8"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridDefaultSkin":"add_preset_Galleries_Grid_Galleries_15"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridRibbonArrows":"add_preset_Galleries_Grid_Galleries_16"},{"wysiwyg.viewer.skins.paginatedgrid.PaginatedGridOverlay":"add_preset_Galleries_Grid_Galleries_19"}],"tpa.viewer.components.StripShowcase":{"wysiwyg.viewer.skins.TPAStripShowcaseSkin":"add_preset_Galleries_Full_Width_Galleries_2"},"wysiwyg.viewer.components.SlideShowGallery":[{"skins.viewer.gallery.SlideShowCleanAndSimple":"add_preset_Galleries_Slider_Galleries_2"},{"wysiwyg.viewer.skins.gallery.SlideShowTextBottom":"add_preset_Galleries_Slider_Galleries_4"},{"wysiwyg.viewer.skins.gallery.SlideShowTextRight":"add_preset_Galleries_Slider_Galleries_5"},{"wysiwyg.viewer.skins.gallery.SlideShowPolaroid":"add_preset_Galleries_Slider_Galleries_8"},{"wysiwyg.viewer.skins.gallery.SlideShowTextOverlay":"add_preset_Galleries_Slider_Galleries_13"},{"wysiwyg.viewer.skins.gallery.SlideShowGalleryLiftedShadowSkin":"add_preset_Galleries_Slider_Galleries_14"},{"skins.viewer.gallery.SlideShowIron":"add_preset_Galleries_Slider_Galleries_17"}],"tpa.viewer.components.Accordion":{"wysiwyg.viewer.skins.TPAAccordionSkin":"add_preset_Galleries_Slider_Galleries_7"},"tpa.viewer.components.Impress":{"wysiwyg.viewer.skins.TPAImpressSkin":"add_preset_Galleries_Slider_Galleries_9"},"wysiwyg.viewer.components.SliderGallery":[{"wysiwyg.viewer.skins.galleryslider.SliderGalleryDefaultSkin":"add_preset_Galleries_Slider_Galleries_10"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryCircleSkin":"add_preset_Galleries_Slider_Galleries_6"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryScotchTapeSkin":"add_preset_Galleries_Slider_Galleries_15"},{"wysiwyg.viewer.skins.galleryslider.SliderGalleryIronSkin":"add_preset_Galleries_Slider_Galleries_16"}],"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{"wysiwyg.viewer.skins.TPA3DCarouselSkin":"add_preset_Galleries_3D_Galleries_1"},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{"wysiwyg.viewer.skins.TPA3DGallerySkin":"add_preset_Galleries_3D_Galleries_2"},"tpa.viewer.components.Freestyle":{"wysiwyg.viewer.skins.TPAFreestyleSkin":"add_preset_Galleries_3D_Galleries_3"}}}}),define("rEditor/app/APISections/componentsWrapper",["lodash","core","util","coreUtilsLib","rEditor/utils/removeUtil","rEditor/utils/multiSelectHandler","rEditor/app/APISections/componentsFacade/layoutWrapper","rEditor/app/APISections/componentsFacade/arrangementFacade","rEditor/app/APISections/componentsFacade/behaviorsFacade","rEditor/app/APISections/componentsFacade/componentsMetaDataFacade","rEditor/app/APISections/singleCompHandlers/componentsMetaData","rEditor/app/serializedComponentPlugins","rEditor/app/APISections/galleriesData/galleriesData","stateManagement","experiment"],function(e,t,o,i,n,a,r,s,l,c,p,d,u,m,g){"use strict";function f(f){function h(t){return e.compact(e.isArray(t)?t:[t])}function b(t,o){return e.every(o,function(o,i){return e.isEqual(t[i],o)})}function y(o,i,n){var a=f.documentServices.components.properties,r=a.get(o),s=!r||!b(r,i),l=a.mobile.isForked(o);s&&(i.type=e.get(i,"type")||e.get(r,"type"),i=t.utils.updatePropertiesUtil.fixProperties(i,o,f.documentServices,f.isMobileEditor()),f.isMobileEditor()&&r&&!l&&a.mobile.fork(o),a.update(o,i),n||f.history.debouncedAdd("comp properties changed"),f.pluginService.getPlugin("propertiesChange","*")(o,i))}function v(e,o,i){o.type=o.type||f.components.data.get(e).type,o=t.utils.updateDataUtil.fixData(o);var n=f.components.data.get(e);(!n||!b(n,o))&&(f.documentServices.components.data.update(e,o),i||f.history.debouncedAdd("comp data changed"))}function S(e,o,i,n){o.type=o.type||f.components.design.get(e).type,o=t.utils.updateDataUtil.fixData(o);var a=f.components.design.get(e);(!a||!b(a,o))&&(f.documentServices.components.design.update(e,o,i),n||f.history.debouncedAdd("comp design changed"),f.pluginService.getPlugin("designDataChange","*")(f,e,o,i))}function P(t,o,i){var n=f.selection.getSelectedComponents(),a=f.selection.getFocusedContainer(n);e.isEmpty(n)||f.documentServices.components.modes.isComponentDisplayedInModes(e.head(n),[o])||f.selection.selectComponentByCompRef(a),o?f.documentServices.components.modes.activateComponentMode(t,o):i&&f.documentServices.components.modes.deactivateComponentMode(t,i)}function E(e){return a.call(f,e,{multiCompHandler:f.multiselect.componentModes.addDefaultSingleModeAnimations,singleCompHandler:L})}function C(t){return e.filter(t,f.documentServices.components.is.visible)}function T(t){return!e.isEmpty(f.components.modes.getModes(t))}function I(t,o){var i=f.selection.getFocusedContainer(),a=f.components.asArray(t);if(g.isOpen("us_groupRightClick")&&function(t){return e.find(t,function(e){var t=f.components.getType(e);return"wysiwyg.viewer.components.tpapps.TPASection"===t||"wysiwyg.viewer.components.tpapps.TPAMultiSection"===t})}(a)){var r=f.documentServices.pages.getFocusedPageId();return new Promise(function(t){f.pages.remove(r,e.noop()),f.documentServices.waitForChangesApplied(e.partial(t,!0))})}if(!f.components.is.removable(a))return e.forEach(a,function(e){var t=f.components.getType(e);f.cannotRemovePlugins[t]&&f.cannotRemovePlugins[t](e)}),Promise.resolve(!1);var s=f.selection.getSelectedComponents();if(i&&!e.find(a,i))f.selection.selectComponentByCompRef(i);else if(!o||!o.isReplacingComp){var l=a.concat(function(t,o){return e.filter(o,function(o){return e.some(t,function(e){return A(o,e)})})}(a,s));f.selection.deselectComponents(l)}E(t);var c=e.noop,p=f.components.getContainer(t);if(f.components.is.controlledByParent(t)){e.isEqual(p,s&&s[0])&&(c=function(){f.components.is.exist(p)?(f.panelManager.closeAllPanels(),f.selection.selectComponentByCompRef(p)):f.selection.deselectComponents()})}var d=n.removeComponent(f.documentServices,f.removePlugins,a,f,o).then(function(){return c(),!0});return T(p)&&f.documentServices.waitForChangesApplied(function(){f.tabIndicationState.activateDeleteAnimation()}),d}function _(o,i){var n=f.components.isShowOnAllPages(o),r=h(o),s=e.map(r,f.components.getPage),l=e.map(r,f.components.modes.getFirstAncestorWithActiveModes),c=e.isArray(o)?function(t,o){var i=f.components.isShowOnAllPages(t),n=f.components.isShowOnAllPages(o),a=!i&&n;return e.reduce(t,function(e,t){return"platform.components.AppController"===f.documentServices.components.getType(t)?a?e.unshift(t):e.push(t):a?e.push(t):e.unshift(t),e},[])}(o,i):o,p=f.components.getContainer(r);f.editorEventRegistry.dispatch(f.editorEventRegistry.constants.events.SET_CONTAINER_BEFORE,f,c,i);var d=a.call(f,c,i,{multiCompHandler:f.multiselect.setContainer,singleCompHandler:f.documentServices.components.setContainer}),u=h(d),m=function(t,o){return e.zipWith(t,o,function(e,t){return{ref:e,root:t}})}(u,s),g=function(t,o){return e.zipWith(t,o,function(e,t){return{ref:e,ancestor:t}})}(u,l);return!n&&f.utils.isSameRef(i,f.documentServices.siteSegments.getHeader())&&f.panelHelpers.openDragToHeaderPanel(),f.documentServices.waitForChangesApplied(function(){f.pluginService.getPlugin("setContainer","*")(i,m,g,f.components,f.behaviors),f.selection.selectComponentByCompRef(d);var o=f.selection.getParentToFocus([d]);f.updateState({focusedContainer:o}),f.utils.isSameRef(o,i)&&T(i)&&f.tabIndicationState.activateAddAnimation(!0),function(o,i,n){var a=f.components.getType(n),r=f.components.is.repeatedComponent(n),s=f.components.getType(i),l=f.components.is.repeatedComponent(i);e.forEach(o,function(e){var o=f.components.getType(e);f.bi.event(t.bi.events.stage.ATTACH_TO,{origin:"stage",component_type:o,source_component:a,target_component:s,is_target_repeated:l,is_source_repeated:r})})}(u,i,p),E(u),f.components.is.group(p)&&1===f.components.getChildren(p).length&&f.components.ungroup(p)}),d}function M(e){return a.call(f,e,{multiCompHandler:f.multiselect.skin.get,singleCompHandler:f.documentServices.components.skin.get})}function O(t){var i=f.documentServices.components.getType(t),n=M(t);if(e.has(u.map,i)){if(e.some(u.map[i],n))return o.translate(e.find(u.map[i],n)[n]);if(e.has(u.map[i],n))return o.translate(u.map[i][n])}return function(t){var o=f.documentServices.platform.controllers.connections.get(t);if(e.isArray(o))return e(o).map(function(t){var o=t.controllerRef,i=t.role,n=f.documentServices.platform.controllers.getStageData(o);return e.get(n,["connections",i,"displayName"])}).find()}(t)||(f.compNamePlugins[i]?f.compNamePlugins[i](t):o.translate("component_label_"+i.split(".").pop()))}function A(e,t){return a.call(f,e,t,{multiCompHandler:f.multiselect.isDescendantOfComp,singleCompHandler:f.documentServices.components.isDescendantOfComp})}function w(e,t){return f.documentServices.components.alignment.canAlign(e,t)}function R(e,t){return f.documentServices.components.multiComponents.canDistribute(e,t)}function k(e,t){return f.documentServices.components.multiComponents.canMatchSize(e,t)}function D(t){return t&&function(t){t=f.components.asArray(t);var o=f.documentServices.siteSegments.getSiteStructure(),i=f.components.is.containable(t,o)&&!e.some(t,f.components.is.controlledByParent),n=e.some(t,f.documentServices.components.is.groupedComponent),a=f.components.is.descendantOfRepeaterItem(t);return!f.isCurrentPageLandingPage()&&i&&!n&&!f.documentServices.pages.popupPages.isPopupOpened()&&!a&&!e.some(t,f.components.isShowOnSomePages)}(t)&&function(e){var t=f.documentServices.pages.getFocusedPage();return f.components.is.containable(e,t)&&!f.components.isDescendantOfComp(e,f.documentServices.siteSegments.getFooter())}(t)}function x(t){return!(!t||!f.components.isShowOnAllPages(t))&&(f.components.isDescendantOfFrozen(t,f.documentServices.siteSegments.getHeader())||f.components.isDescendantOfFrozen(t,f.documentServices.siteSegments.getFooter())||function(t){if("masterPage"!==f.components.getPage(t).id)return!1;var o=f.documentServices.siteSegments.getSiteStructure(),i=f.utils.findAncestorMatchesCondition(t,function(e){return f.utils.isSameRef(o,f.components.getContainer(e))}),n=f.documentServices.siteSegments.getPagesContainer(),a=f.components.getChildren(o);return e.findIndex(a,function(e){return f.utils.isSameRef(e,i)})>e.findIndex(a,function(e){return f.utils.isSameRef(e,n)})}(t))}function N(t){if(!e.isEmpty(t)){var o=function(e){return a.call(f,e,{multiCompHandler:f.multiselect.componentModes.applyCurrentToAllModes,singleCompHandler:f.documentServices.components.modes.applyCurrentToAllModes})}(t);return f.documentServices.waitForChangesApplied(function(){f.tabIndicationState.activateApplyAnimation(!1)}),f.history.add("comp applyCurrentToAllModes"),o}}function L(t){var o=f.documentServices.components.modes.getFirstAncestorWithActiveModes(t);if(o&&function(t){var o=f.documentServices.components.modes.getModes(t),i=f.documentServices.components.modes.getComponentActiveModeIds(t),n=e.filter(o,function(t){return e.has(i,t.modeId)});return e.every(n,function(t){return e.get(U,t.type,!1)})}(o)){var i={defaultInAnimtaion:{action:"modeIn",name:"FadeIn",delay:0,duration:.35},defaultOutAnimtaion:{action:"modeOut",name:"FadeOut",delay:0,duration:.35}};f.components.is.animatable(t,i.defaultInAnimtaion.action)&&(f.documentServices.components.behaviors.update(t,i.defaultInAnimtaion),f.documentServices.components.behaviors.update(t,i.defaultOutAnimtaion))}}var B="wysiwyg.viewer.components.BoxSlideShow",F="wysiwyg.viewer.components.StripContainerSlideShow",U={DEFAULT:!0,HOVER:!0};return{getAllComponents:function(e,t){return C(f.documentServices.components.getAllComponents(e,t))},getAncestorRepeaterItem:function(t){if(!f.components.is.repeatedComponent(e.isArray(t)?e.head(t):t))return null;var o=f.documentServices.components.getAncestors(e.isArray(t)?e.head(t):t);return e.find(o,function(e){return f.components.is.repeaterItem(e)})},get:{byXYRelativeToStructure:function(e,t,o,i){return C(f.documentServices.components.get.byXYRelativeToStructure(e,t,o,i))},byXYRelativeToScreen:function(e,t,o,i){return C(f.documentServices.components.get.byXYRelativeToScreen(e,t,o,i))},byType:function(e,t){return C(f.documentServices.components.get.byType(e,t))}},canBeMasterChild:function(e,t){var o={multiCompHandler:f.multiselect.canBeMasterChild,singleCompHandler:f.documentServices.layouters.canBeMasterChild};return t?a.call(f,e,t,o):a.call(f,e,B,o)||a.call(f,e,F,o)},onPreviewReady:function(){var o=t.utils.componentPreviewReadyPlugins;e.forEach(o,function(e){e(f)})},getPage:function(e){return a.call(f,e,{multiCompHandler:f.multiselect.getPage,singleCompHandler:f.documentServices.components.getPage})},asArray:h,reset:function(){f.clipboard.setItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,void 0)},isShowOnAllPages:function(e){return a.call(f,e,{multiCompHandler:f.multiselect.isShowOnAllPages,singleCompHandler:f.documentServices.components.isShowOnAllPages})},isShowOnSomePages:function(e){return a.call(f,e,{multiCompHandler:f.multiselect.isShowOnSomePages,singleCompHandler:f.documentServices.components.isShowOnSomePages})},serialize:function(e,t,o,i,n,a){var r=f.documentServices.components.serialize(e,t,o,i,n,a);if(r)return d.runSerializeComponentPlugin(r,f)},cut:function(t){var o=f.selection.getSelectedComponents();o=f.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(o),t=f.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t),e.isEqual(o,t)&&f.selection.deselectComponents(),f.isMobileEditor()?f.openCantCopyPastePanel():f.components.is.duplicatable(t)&&(f.copyPaste.copy(t,!0),e.forEach(t,function(e){n.cutComponent(f.documentServices,e,f.cutComponentPlugins)}))},add:function(o,i,n,a,r,s){s=s||{},f.mouseActions.turnOffMouseEvents();var l=t.utils.addUtil.addComponent(f,f.documentServices.components.add,o,i,n,a,r);if(f.utils.isSameRef(o,f.documentServices.siteSegments.getHeader())&&!1!==s.showAddToHeaderPanel&&f.panelHelpers.openDragToHeaderPanel(),g.isOpen("dontCloseAddPanelOnAdd")||f.panelManager.closePanelByName("addPanelInfra.addPanel"),T(o)&&l.id){var c=f.components.modes.getComponentActiveModeIds(o);f.components.modes.showComponentOnlyInModesCombination(l,e.keys(c)),f.tabIndicationState.activateAddAnimation(!0),E(l)}return l},addAndAdjustLayout:function(e,o,i,n){return t.utils.addUtil.addComponent(f,f.documentServices.components.addAndAdjustLayout,e,o,i,n)},remove:I,setContainer:_,reparentComponentToPage:function(e,t){return a.call(f,e,t,{multiCompHandler:f.multiselect.reparentComponentToPage,singleCompHandler:f.documentServices.components.reparentComponentToPage})},getType:function(e){return m.components.selectors.getCompType(e,f.documentServices)},getSiblings:function(e){return a.call(f,e,{multiCompHandler:f.multiselect.getSiblings,singleCompHandler:f.documentServices.components.getSiblings})},getChildren:function(e,t){return a.call(f,e,t,{multiCompHandler:f.multiselect.getChildren,singleCompHandler:f.documentServices.components.getChildren})},getDisplayName:O,getNickname:function(e){return f.documentServices.components.code.getNickname(e)},ungroup:function(e){var t=f.components.asArray(e);f.components.is.exist(t[0])&&(f.documentServices.components.ungroup(t[0]),f.history.add("ungroup"))},getIconInfo:function(e,t){var i=f.documentServices.components.getType(e);return f.compIconPlugins[i]?f.compIconPlugins[i](e):o.compIcon.getCompIconInfo(e,i,t,f)},getContainer:function(e){var t=f.components.asArray(e);return f.documentServices.components.getContainer(t[0])},moveToFooter:function(t){var o=e.negate(f.components.is.controlledByParent),i=o(t)?t:f.utils.findAncestorMatchesCondition(t,o),n=f.components.layout.getRelativeToStructure(i),a=f.documentServices.siteSegments.getFooter(),r=f.components.layout.get(a),s=f.components.setContainer(i,a);f.components.layout.update(s,{y:n.y-n.bounding.y+15}),r.height<n.bounding.height+15&&f.components.layout.update(a,{height:n.bounding.height+30})},isDescendantOfComp:A,isAscendantOfComp:function(t,o){return e.some(t,function(e){return f.components.isDescendantOfComp(o,e)})},getDefaultBiParams:function(e){var t=f.components.asArray(e);return{componentType:f.components.getType(e),component_id:t[0].id}},data:{update:function(e,t,o){a.call(f,e,t,o,{multiCompHandler:f.multiselect.data.update,singleCompHandler:v})},get:function(e){return a.call(f,e,{multiCompHandler:f.multiselect.data.get,singleCompHandler:f.documentServices.components.data.get})},remove:function(e,t){a.call(f,e,{multiCompHandler:f.multiselect.data.remove,singleCompHandler:f.documentServices.components.data.remove}),t||f.history.add("comp data removed")}},design:{update:function(e,t,o,i){return f.documentServices.components.design&&a.call(f,e,t,o,i,{multiCompHandler:f.multiselect.design.update,singleCompHandler:S}),null},get:function(e,t){return f.documentServices.components.design?a.call(f,e,t,{multiCompHandler:f.multiselect.data.get,singleCompHandler:f.documentServices.components.design.get}):null},remove:function(e,t){f.documentServices.components.design&&(a.call(f,e,{multiCompHandler:f.multiselect.design.remove,singleCompHandler:f.documentServices.components.design.remove}),t||f.history.add("comp design removed"))}},properties:{update:function(e,t,o){return a.call(f,e,t,o,{multiCompHandler:f.multiselect.properties.update,singleCompHandler:y})},get:function(e){return a.call(f,e,{multiCompHandler:f.multiselect.properties.get,singleCompHandler:f.documentServices.components.properties.get})}},alignment:{align:function(e,t){a.call(f,e,t,{multiCompHandler:f.multiselect.alignment.align,singleCompHandler:f.documentServices.components.alignment.alignInContainer}),f.history.add("component - align - "+t)},canAlign:w,canAlignAllDirections:function(o){return o&&e.every(t.constants.COMP_ALIGNMENT_OPTIONS,e.partial(w,o))}},multiComponents:{distribute:function(t,o){a.call(f,t,o,{multiCompHandler:f.multiselect.multiComponents.distribute,singleCompHandler:e.noop}),f.history.add("component - distribute - "+o)},matchSize:function(t,o){a.call(f,t,o,{multiCompHandler:f.multiselect.multiComponents.matchSize,singleCompHandler:e.noop}),f.history.add("component - matchSize - "+o)},canDistribute:R,canDistributeAllDirections:function(o){return o&&e.every(t.constants.COMP_ALIGNMENT_OPTIONS,e.partial(R,o))},canMatchSize:k,canMatchAllSizes:function(o){return o&&e.every(t.constants.COMP_MATCH_SIZE_OPTIONS,e.partial(k,o))}},layout:r.create(f),style:{getId:function(e){var t=f.components.asArray(e);if(f.multiselect.isMultiselect(t))throw"components.style.getId isn't supported for multi select";return f.documentServices.components.style.getId(t[0])},setId:function(e,t){var o=f.components.asArray(e);if(f.multiselect.isMultiselect(o))throw"components.style.setId isn't supported for multi select";return f.documentServices.components.style.setId(o[0],t)},update:function(e,t){var o=f.components.asArray(e);if(f.multiselect.isMultiselect(o))throw"components.style.update isn't supported for multi select";return f.documentServices.components.style.update(o[0],t)}},arrangement:s.create(f),getRestrictions:function(e,t){return a.call(f,e,t,{multiCompHandler:f.multiselect.getRestrictions,singleCompHandler:p.getRestrictions})},is:c.create(f),skin:{getComponentSkinExports:function(e){return a.call(f,e,{multiCompHandler:f.multiselect.skin.getComponentSkinExports,singleCompHandler:f.documentServices.components.skin.getComponentSkinExports})},get:M},behaviors:l.create(f),code:{setNickname:function(e,t){f.documentServices.components.code.setNickname(e,t),f.history.debouncedAdd("comp nick name changed")}},canToggleShowOnAllPages:D,shouldDisableShowOnAllPages:x,isDescendantOfFrozen:function(e,t){return f.components.isDescendantOfComp(e,t)&&f.components.layout.isFixedPosition(t)},setShowOnAllPages:function(e,t){var o=void 0;return e=f.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(e),o=t?f.documentServices.siteSegments.getSiteStructure():f.documentServices.pages.getReference(f.documentServices.pages.getPrimaryPageId()),f.components.setContainer(e,o)},toggleShowOnAllPages:function(e){var t=f.selection.getSelectedComponents(),o=!f.components.isShowOnAllPages(e),i=f.components.setShowOnAllPages(e,o);return t===e&&f.selection.selectComponentByCompRef(i),f.history.add(o?"Show component on all pages":"Show component on current page"),o},modes:{getModes:function(e){return f.documentServices.components.modes.getModes(e)},activateComponentMode:function(e,t){P(e,t),f.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")},deactivateComponentMode:function(e,t){P(e,null,t),f.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")},applyCurrentToAllModes:N,applyComponentToMode:function(e,t){f.documentServices.components.modes.applyComponentToMode(i.objectUtils.cloneDeep(e),t)},isCompDefaultModeActive:function(t){var o=f.documentServices.components.modes.getTypes().DEFAULT,i=e.head(f.documentServices.components.modes.getModesByType(t,o));if(i){var n=f.documentServices.components.modes.getComponentActiveModeIds(t);return e.includes(e.keys(n),i.modeId)}return!1},addDefaultSingleModeAnimations:L,getFirstAncestorOrSelfWithModeDefinitions:function(e){for(var t=e;t&&!f.components.modes.getModes(t);)t=f.components.getContainer(t);return t},getFirstAncestorWithModeDefinitions:function(e){var t=f.components.getContainer(e);return f.components.modes.getFirstAncestorOrSelfWithModeDefinitions(f.components,t)}}}}return{create:f}}),define("rEditor/app/APISections/rulersAPI",["lodash","core","util","stateManagement"],function(e,t,o,i){"use strict";function n(n){function a(){var e=d();M={stack:[e],currentIndex:0}}function r(){return M.currentIndex>0}function s(){return M.stack.length>M.currentIndex+1}function l(o){var a=o.guidesState;n.store.dispatch(i.userPreferences.logic.setSiteUserPreferences(t.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,a)),f(o),e.isEqual(M.stack[M.currentIndex],o.guidesState)||(M.stack=e.take(M.stack,M.currentIndex+1),M.stack.push(a),M.currentIndex+=1)}function c(){return n.store.getState().viewTools.rulersEnabled}function p(t,o){var i=e.cloneDeep(n.store.getState().viewTools.rulers);return i[t]=o,i}function d(){var t=void 0,o=n.store.getState();return e.get(o,"viewTools.rulers")&&(t=e.cloneDeep(o.viewTools.rulers.guidesState)),t=e.isEmpty(t)?{desktop:{verticalGuides:[],horizontalGuides:[]},mobile:{verticalGuides:[],horizontalGuides:[]}}:t}function u(t){var o=d(),i=void 0;e.some(o.mobile.verticalGuides,["guideId",t])?i="mobile.verticalGuides":e.some(o.mobile.horizontalGuides,["guideId",t])?i="mobile.horizontalGuides":e.some(o.desktop.verticalGuides,["guideId",t])?i="desktop.verticalGuides":e.some(o.desktop.horizontalGuides,["guideId",t])&&(i="desktop.horizontalGuides");return{guideId:t,guidePosition:e.find(e.get(o,i),{guideId:t}).guidePosition,guidePath:i}}function m(){return u(n.store.getState().viewTools.rulers.selectedGuide)}function g(){return{desktop:{verticalGuides:[],horizontalGuides:[]},mobile:{verticalGuides:[],horizontalGuides:[]}}}function f(e){n.updateEditorViewTools("rulers",e)}function h(t,o){var i=e.clone(n.store.getState().viewTools.rulers);i[t]=o,f(i)}function b(e){n.store.dispatch(i.userPreferences.logic.setSiteUserPreferences(t.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,e)),h("guidesState",e)}function y(e,t){t&&I("GUIDE_TOOLTIP_IN_EDIT_MODE",{origin:t}),e&&(n.selection.deselectComponents(),o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.RULERS)),h("selectedGuide",e)}function v(){y(null),o.keyboardShortcuts.setContext(n.getPreviewMode()?o.keyboardShortcuts.CONTEXTS.PREVIEW:o.keyboardShortcuts.CONTEXTS.EDITOR)}function S(t,i){var a=d(),r=function(e){return O++,{guideId:"GUIDE_"+Date.now().toString(36)+O.toString(36),guidePosition:e}}(i);e.get(a,t).push(r);var s=p("guidesState",a);return n.selection.deselectComponents(),s.selectedGuide=r.guideId,o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.RULERS),l(s),r.guideId}function P(t,o,i){var a=_(t,n.isMobileEditor()),r=E(a,o),s={guidePosition:i,guideId:o};e.get(r,a).push(s);l(p("guidesState",r))}function E(t,o){var i=d(),n=e.reject(e.get(i,t),{guideId:o});return e.set(i,t,n),i}function C(e){var t=u(e),i=p("guidesState",E(t.guidePath,t.guideId));i.selectedGuide=null,o.keyboardShortcuts.setContext(n.getPreviewMode()?o.keyboardShortcuts.CONTEXTS.PREVIEW:o.keyboardShortcuts.CONTEXTS.EDITOR),l(i)}function T(){C(n.store.getState().viewTools.rulers.selectedGuide)}function I(o,i){var a=t.bi.events.rulers[o],r={editor_view_mode:n.getDeviceType()};e.merge(r,i),n.bi.event(a,r)}function _(e,t){return(t?"mobile.":"desktop.")+e+"Guides"}var M={stack:[],currentIndex:0},O=0;return{getGuidesState:d,getHorizontalGuides:function(){var e=d();return n.isMobileEditor()?e.mobile.horizontalGuides:e.desktop.horizontalGuides},getVerticalGuides:function(){var e=d();return n.isMobileEditor()?e.mobile.verticalGuides:e.desktop.verticalGuides},isRulersEnabled:c,toggleRulers:function(e,o){var r=!c();n.updateEditorViewTools("rulersEnabled",r),n.store.dispatch(i.userPreferences.logic.setSiteUserPreferences(t.constants.USER_PREFS.VIEW_TOOLS.RULERS_ENABLED,r)).then(e).catch(o),a()},getGuidesInitialState:g,setVerticalGuide:function(e){return S(_("vertical",n.isMobileEditor()),e)},setHorizontalGuide:function(e){return S(_("horizontal",n.isMobileEditor()),e)},removeSelectedGuide:T,removeGuideById:C,selectGuide:y,deselectGuide:v,changeGuidePosition:P,updateEditorRulersState:h,getVerticalGuideRealPosition:function(e){var t=n.siteSegments.getPagesContainerAbsLayout();return e+Math.round(t.x)},sendBIEvent:I,undo:function(){r()&&(v(),M.currentIndex-=1,b(M.stack[M.currentIndex]))},redo:function(){s()&&(v(),M.currentIndex+=1,b(M.stack[M.currentIndex]))},canUndo:r,canRedo:s,resetRulersHistory:a,updateStateOnDragEnd:function(t){var o=e.clone(n.store.getState().viewTools.rulers);o.isDragging=!1,t||(o.isHovered=!1),f(o)},getSelectedGuideData:m,removeGuideViaDelBtn:function(){I("GUIDE_DELETED",{origin:"delete_button"}),T()},changeGuidePositionByPixels:function(t,o){var i=m();e.includes(i.guidePath,t)&&P(t,i.guideId,i.guidePosition+o)}}}return{create:n}}),define("rEditor/app/APISections/tabIndicationState",[],function(){"use strict";return{create:function(e){function t(){e.updateState({tabIndicationState:{indication:"INACTIVE",activeMode:void 0}})}return{activateDeleteAnimation:function(){e.updateState({tabIndicationState:{indication:"DELETE",activeMode:void 0}},t)},activateAddAnimation:function(o){e.updateState({tabIndicationState:{indication:"ADD",activeMode:o}},t)},activateApplyAnimation:function(o){e.updateState({tabIndicationState:{indication:"APPLY",activeMode:o}},t)},getState:function(){return e.store.getState().tabIndicationState}}}}}),define("rEditor/app/APISections/feedback",["lodash","jquery","constants","util"],function(e,t,o,i){"use strict";function n(e){function n(t){e.store.getState().unreadComments!==t&&e.updateState({unreadComments:t})}function a(){var o=function(){var t=e.documentServices.generalInfo.getSiteId(),o=e.documentServices.generalInfo.getMetaSiteId();return l+t+"?metaSiteId="+o}();t.ajax({url:o,type:"GET",success:function(e){n(e.count)}})}function r(){if(e.account.isUserOwner()){var i=c+e.documentServices.generalInfo.getSiteId()+"?metaSiteId="+e.documentServices.generalInfo.getMetaSiteId();t.ajax({url:i,type:"GET",success:function(t){t.shared?(n(t.count),a(),window.setInterval(a,o.FEEDBACK.CHECK_COMMENTS_INTERVAL)):window.setTimeout(e.feedback.init,o.FEEDBACK.CHECK_SITE_SHARED_INTERVAL)}})}}var s=i.serviceTopology.feedbackServiceUrl,l=s+"/getNewCommentsCount/",c=s+"/siteIsShared/";return{init:r,getNewCommentsCounter:function(){return e.store.getState().unreadComments}}}return{create:n}}),define("rEditor/app/APISections/mainMenuWrapper",["lodash","pagesMenu","experiment"],function(e,t,o){"use strict";function i(i){function n(e){return e.replace("#","")}function a(){var t={},o=i.documentServices.routers.get.all();return e.forOwn(o,function(o){e.forOwn(o.pages,function(e){t[e]=!0})}),t}function r(t){var o=void 0;return e.some(t,function(e){return e.type.isPage&&!i.pages.isHomePage(e.pageData.id)?(o=e,!0):!!(e.items&&e.items.length&&(o=r(e.items)))||void 0}),o}function s(t,o){var i=void 0;return e.some(t,function(e){var t=e.link&&e.link.pageId;return(t&&t.substr(1))===o?(i=e,!0):!!(e.items&&e.items.length&&(i=s(e.items,o)))||void 0}),i}function l(e){var t=e.link&&e.link.type,o=e.link&&e.link.pageId,n="PageLink"===t,a=o&&i.documentServices.pages.popupPages.isPopup(o.replace("#",""));return{raw:t,isDropdown:!t,isLink:!n&&m.test(t)||a,isPage:n&&!a}}function c(e,t,o){return{id:e.id,type:l(e),label:e.label,parent:o,isVisible:e.isVisible,isVisibleMobile:e.isVisibleMobile,pageData:t,link:e.link}}function p(t,i,a,r){var s=[];return e.forEach(t,function(t){var d=void 0,u=l(t),m=void 0;m=o.isOpen("pagesPanelOpenCollapsed")?u.isPage?i.pagesDataMap[n(t.link.pageId)]:null:u.isPage?e.find(i.pagesDataList,["id",n(t.link.pageId)]):null,a&&!a(t,m)||(d=c(t,m,i.parent),t.items.length>0?d.items=p(t.items,e.defaults({parent:d},i),a,r):d.items=[],s.push(d),r&&r(d))}),s}function d(t){return function(t){for(var o=e.slice(t),i=[],n=void 0;o.length;)(n=o.pop()).items&&n.items.length&&(i=i.concat(n.items)),i.push(n);return i}(i.mainMenu.getMenuItemsTreeForMainMenu(t)||[])}var u=t.specialPages.menuLogic,m=/Link$/;return{hasOnlyLastPageMenuItem:function(){var t=a(),o=i.documentServices.pages.getPagesData();return 1===e.filter(o,function(e){return!u.isSpecialPage(i,e,t)}).length},getFirstNonHomePageMenuItem:function(){return r(i.mainMenu.getMenuItemsTreeForMainMenu())},getMenuItemIdForCurrentPage:function(){var e=s(i.documentServices.mainMenu.getMenu(),i.documentServices.pages.getCurrentUrlPageId());return e&&e.id},getMenuItemsTree:function(){var e=i.documentServices.pages.getPagesData();return i.mainMenu.extendMenuItemsTreeWithPageData(e)},getMenuItemsTreeForPagesFixed:function(){var t=i.documentServices.mainMenu.getMenu(!0),o=i.documentServices.pages.getPagesData(),n=u.getSectionPagesIds(i,o),r=[],s=Array.prototype.push,l=a(),c=i.mainMenu.extendMenuItemsTreeWithPageData(o,function(e,t){return!(!t&&0===e.items.length||t&&u.isSpecialPage(i,t,l))},function(t){t.pageData&&e.includes(n,t.pageData.id)&&r.push(t)},t);return e.forEach(r,function(e){var n=u.getSpecialPagesListBySectionPageOrBySibling(i,e.pageData,o),a=i.mainMenu.convertPagesDataListToMenuItemsList(n,t);s.apply(e.items,a)}),c},getMenuItemsTreeForMainMenu:function(e){if(!i.documentServices)return[];e=e||i.documentServices.pages.getPagesData();var t=a();return i.mainMenu.extendMenuItemsTreeWithPageData(e,function(e,o){return!o||!u.isSpecialPage(i,o,t)})},getMenuItemsFlattened:d,extendMenuItemsTreeWithPageData:function(t,n,a,r){if(r=r||i.documentServices.mainMenu.getMenu(!0),o.isOpen("pagesPanelOpenCollapsed")){var s=e.keyBy(t,"id");return p(r,{parent:null,homePageId:i.homePage.get(),pagesDataMap:s},n,a)}return p(r,{parent:null,homePageId:i.homePage.get(),pagesDataList:t},n,a)},convertPagesDataListToMenuItemsList:function(t,o){function a(o){var i=void 0,s=void 0,p=void 0;e.forEach(o,function(o){(s=l(o)).isPage&&(p=e.findIndex(t,{id:n(o.link.pageId)}))>-1&&(i=t[p],r[p]=c(o,i)),o.items.length>0&&a(o.items)})}var r=[];return a(o||i.documentServices.mainMenu.getMenu(!0)),e.compact(r)},renameMenuItem:function(e,t){t&&e.label!==t&&(i.documentServices.mainMenu.setItemLabel(e.id,t),i.history.debouncedAdd("Rename Menu Item"))}}}return{create:i}}),define("rEditor/app/APISections/menuWrapper",["lodash","core","util","coreUtilsLib"],function(e,t,o,i){"use strict";function n(n){function a(e){return e.replace("#","")}function r(e){var t=e.link&&e.link.type,o=e.link&&e.link.pageId,i="PageLink"===t,a=o&&n.documentServices.pages.popupPages.isPopup(o.replace("#",""));return{raw:t,isDropdown:!t,isLink:!i&&C.test(t)||a,isPage:i&&!a,isPopupLink:a}}function s(o,i,l,c){var p={items:[],pagesCount:0};return e.forEach(o,function(o,d){var u=r(o),m=u.isPage?i[a(o.link.pageId)]:null;if(!l||l(o,m)){var g=function(o,i,a,s){var l=e.get(i,"tpaApplicationId"),c=l?n.documentServices.tpa.app.getData(l).appDefinitionId:null;return{id:o.id,type:r(o),label:o.label,parent:a,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile,pageData:i?e.pick(i,["id","tpaApplicationId","tpaPageId","pageSecurity","title"]):null,link:o.link,position:s,appDefinitionId:c,isHomePage:n.pages.isHomePage(e.get(i,"id")),isOldBlog:!!e.get(i,"appInnerID")&&t.utils.blogTypeUtils.isBlog(n,i)}}(o,m,c,d);if(o.items.length>0){var f=s(o.items,i,l,g);g.items=f.items,p.pagesCount+=f.pagesCount}else g.items=[];u.isPage&&p.pagesCount++,p.items.push(g)}}),p}function l(t,o){return e.find(t.items,o)?t:e.find(t.items,function(t){return e.find(t.items,o)})}function c(t,o,i,a,r,s){var c=l(t,{id:o}),p=e.findIndex(c.items,{id:o}),d=c.items[p];c.items.splice(p,1);var u=i?function(t,o){return e.find(l(t,o).items,o)}(t,{id:i}):t;(u=u||t).items=u.items||[],u.items.splice(a,0,d),n.documentServices.menu.update(t.id,t),r&&n.history.add("moving a page"),e.isFunction(s)&&n.documentServices.waitForChangesApplied(s),t.appId&&n.documentServices.platform.notifyApplication(t.appId,{eventType:"appMenuReorder",eventPayload:{menuId:t.id,menuItemId:o,parentId:i,index:a}})}function p(t,o){return e.find(o,function(e){return e.link&&e.link.pageId===t})}function d(e,t,o){for(var i={itemIndex:null,parentId:o},n=0;n<e.length;n++){var a=e[n];if(a.id===t)return i.itemIndex=n,i;if(a.items&&a.items.length){var r=d(a.items,t,a.id);if(null!==r.itemIndex)return r}}return i}function u(e,t,o,i){var n=d(e.items,o,null);c(e,t,n.parentId,n.itemIndex+1,!1,i)}function m(e,o,i,a,r){var s=function(e,o){var i=n.pages.duplicate(e),a=t.utils.pageTitleUtils.generateDuplicatedTitle(o),r=(n.documentServices.generalInfo.urlFormat.isSlash()?n.pages.data.pageUriSEO:t.utils.pageTitleUtils).convertPageNameToUrl(a);return n.pages.data.update(i.id,{title:a,pageUriSEO:r}),i.id}(o,i);n.documentServices.waitForChangesApplied(function(){var t=n.menu.getById(e),i=p("#"+s,t.items);u(t,i.id,a,function(){n.pages.navigateTo(s),n.history.add("duplicating a page",{currentPage:o}),r(i.id,s)})})}function g(e,o,a){o.type.isPage?m(e,o.pageData.id,o.pageData.title,o.id,a):o.type.isDropdown?function(e,o,i){var a=t.utils.pageTitleUtils.generateDuplicatedTitle(o.label),r=n.documentServices.menu.addItem(e,{link:o.link,label:a,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile});n.documentServices.waitForChangesApplied(function(){u(n.menu.getById(e),r,o.id,function(){n.history.add("duplicating a dropdown"),i(r)})})}(e,o,a):o.type.isLink?function(e,o,i){var a=t.utils.pageTitleUtils.generateDuplicatedTitle(o.label),r=n.documentServices.menu.addItem(e,{link:o.link,label:a,isVisible:o.isVisible,isVisibleMobile:o.isVisibleMobile});n.documentServices.waitForChangesApplied(function(){u(n.menu.getById(e),r,o.id,function(){n.history.add("duplicating a link"),i(r)})})}(e,o,a):i.log.error("not supported menu type")}function f(e,t,o){n.pages.data.update(e,t),n.history.debouncedAdd(o)}function h(i,a,r){var s={title:r};if(r&&a!==r)if(function(e){return!n.documentServices.generalInfo.urlFormat.isSlash()||!n.documentServices.generalInfo.isSitePublished()||e===o.translate("Pages_Menu_Add_New_Page")}(a)){var l=n.documentServices.generalInfo.urlFormat.isSlash()?n.pages.data.pageUriSEO:t.utils.pageTitleUtils,c=l.convertPageNameToUrl(r);c?(s.pageUriSEO=c,f(i,s,"Rename Page")):o.googleTranslate(r,function(t){(c=l.convertPageNameToUrl(t))&&(s.pageUriSEO=c,s.translationData=e.assign({}||s.translationData,{uriSEOTranslated:!0})),f(i,s,"Rename Page")})}else f(i,s,"Rename Page")}function b(t,o){n.openLinkPanel({visibleSections:{NoLink:!1},hidePageLinks:!0,link:o,showAllPopups:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:e.once(t)})}function y(e,t,o){return{id:e.id,type:o||r(e),label:e.label,pageData:t?{id:t.id}:null}}function v(t,o,i,n){var s=[];return e.forEach(t,function(e){var t=void 0,l=r(e),c=l.isPage?o[a(e.link.pageId)]:null;i&&!i(e,c)||(t=y(e,c,l),e.items.length>0?t.items=v(e.items,o,i,n):t.items=[],s.push(t),n&&n(t,c))}),s}function S(){var t={},o=n.documentServices.routers.get.all();return e.forOwn(o,function(o){e.forOwn(o.pages,function(e){t[e]=!0})}),t}function P(){var o=n.documentServices.menu.getById("CUSTOM_MAIN_MENU").items,i=n.documentServices.pages.getPagesData(),s=e.keyBy(E.getSectionPagesIds(n,i)),l=[],c=Array.prototype.push,p=S(),d=function(t,o,i,n){return v(n,e.keyBy(t,"id"),o,i)}(i,function(e,t){return!(!t&&0===e.items.length||t&&E.isSpecialPage(n,t,p))},function(e){e.pageId&&s[e.pageId]&&l.push(e)},o);return e.forEach(l,function(s,l){var p=function(t,o){function i(o){var s=void 0,l=void 0,c=void 0;e.forEach(o,function(o){(l=r(o)).isPage&&(c=e.findIndex(t,{id:a(o.link.pageId)}))>-1&&(s=t[c],n[c]=y(o,s)),o.items.length>0&&i(o.items)})}var n=[];return i(o),e.compact(n)}(e.reject(E.getSpecialPagesListBySectionPageOrBySibling(n,l,i),e.partial(t.utils.tpaTypeUtils.isPageNotVisibleInPagesMenu,n)),o);c.apply(s.items,p)}),d}var E=t.utils.menuLogic,C=/Link$/,T=o.translate("Pages_Menu_Add_New_Page"),I=o.translate("Pages_Menu_Add_New_Link"),_=o.translate("Pages_Menu_Add_New_Category");return{getExtendedMenuItemsTree:function(t,o){o=o||n.documentServices.pages.getPagesData();var i=e.keyBy(o,"id"),a=S(),r=s(t.items,i,function(e,t){return!t||!E.isSpecialPage(n,t,a)});return r.multiplePagesInMenu=r.pagesCount>1,r},duplicateMenuItem:g,moveMenuItem:c,canDuplicate:function(e){return e.type.isPage&&e.pageData?n.pages.isDuplicable(e.pageData.id):e.type.isDropdown||e.type.isLink},removeMenuItem:function(e,t,o){if(t.pageData)if(o){var i=n.documentServices.pages.getFocusedPageId();n.pages.remove(t.pageData.id,function(){n.history.add("removing a page",{currentPage:i})})}else n.panelManager.openPanel("panels.messagePanels.deleteLastPageMessage",{isLastPage:!0},!0);else n.pages.navigateTo(n.homePage.get(),function(){n.documentServices.menu.removeItem(e,t.id,!0),n.history.add("removing menu item")})},updateLink:function(e,t,o){b(function(o){n.documentServices.menu.updateItem(e,t.id,{link:o}),n.history.add("updating menu link")},o)},renamePage:h,addPage:function(t,o,i){var a=void 0,r=void 0,s=void 0,l=n.pages.add(T);return n.documentServices.waitForChangesApplied(function(){a=n.menu.getById(t),s=a.items,r=p("#"+l.id,s),u(a,r.id,o,function(){n.history.add("adding new page",{actionType:"addPage",nextPage:l.id}),n.pages.navigateTo(l.id,e.partial(i,r.id,l.id))})}),l},addLink:function(e,t,o){b(function(i){var a=void 0,r=n.documentServices.menu.addItem(e,{link:i,label:I});n.documentServices.waitForChangesApplied(function(){u(a=n.menu.getById(e),r,t,function(){o(r),n.history.add("adding new link")})})})},addFolder:function(e,t,o){var i=void 0,a=n.documentServices.menu.addItem(e,{label:_,link:null});n.documentServices.waitForChangesApplied(function(){u(i=n.menu.getById(e),a,t,function(){o(a),n.history.add("adding new page header")})})},getMenuItemsForIdeTree:P}}return{create:n}}),define("rEditor/app/APISections/multiselect",["lodash","core","util"],function(e,t,o){"use strict";function i(i){function n(t,n){return e.map(t,function(t){var a=e.pick(i.components.layout.get(t),["x","y"]);return{component:t,newLayout:o.layoutUtils.addXYOffsetsToLayout(a,n)}})}function a(t,i,a,r){var s=n(t,o.layoutUtils.getLayoutsXYDiff(a,i));e.forEach(s,function(e){r(e.component,e.newLayout)})}function r(e,t,o){return a(e,t,o,i.components.layout.update)}function s(t){return i.multiselect.count(t)<=1||!function(t){return e.some(t,i.selection.isSingleSelectionComponent)}(t)&&function(t){var o=i.components.getAncestorRepeaterItem(e.head(t));return!e.some(e.drop(t),function(e){var t=i.components.getAncestorRepeaterItem(e);return!(!t&&!o||i.utils.isSameRef(t,o))})}(t)}function l(t){return e.isEmpty(t)?[]:e.reject(t,function(o){var n=function(e){for(var t=i.components.getContainer(e);t&&!i.components.is.group(t);)t=i.components.getContainer(t);return t}(o);return n&&!!e.find(t,n)})}function c(t,o){!function(e,t,o){a(e,t,o,i.components.layout.continuousUpdate.on)}(t,e.pick(i.multiselect.layout.getRelativeToScreen(t),["x","y"]),o)}function p(t,i,n,a){e.defaults(i,n.layout),e.forEach(n.children,function(e){var t=function(e,t){var i=o.layoutUtils.calcLayoutFromLayoutAndRatio(t,e.proportions);return o.layoutUtils.addXYOffsetsToLayout(i,t)}(e,i);a(e.component,t,e)})}function d(t,a,r){if(!i.multiselect.containsSiblingsOnly(t))throw"Cannot update and adjust layout of non-siblings components";var s=i.documentServices.components.layout.getSnugLayout(t);s=e.pick(s,"y");var l=n(t,o.layoutUtils.getLayoutsXYDiff(a,s));e.forEach(l,function(e){r(e.component,e.newLayout)})}return{canBeMasterChild:function(){return!1},getParentCompWithOverflowHidden:function(){return!1},getNonMasterChildren:function(){},isDescendantOfComp:function(t,o){return e.every(t,function(e){return i.documentServices.components.isDescendantOfComp(e,o)})},getPage:function(t){return i.multiselect.areComponentsOfSamePage(t)?i.documentServices.components.getPage(e.head(t)):null},count:function(t){return e.isArray(t)?t.length:0},isMultiselect:function(e){return i.multiselect.count(e)>1},getContainer:function(t){return i.multiselect.containsSiblingsOnly(t)?i.documentServices.components.getContainer(e.head(t)):null},getChildren:function(){return[]},getSiblings:function(t){if(!i.multiselect.containsSiblingsOnly(t))throw"Cannot obtain siblings of the given compoents since they are not siblings";var o=i.documentServices.components.getSiblings(t[0]);return e.reject(o,function(o){return e.some(t,{id:o.id})})},isShowOnAllPages:function(t){return e.every(t,function(e){return i.documentServices.components.isShowOnAllPages(e)})},isShowOnSomePages:function(t){return e.every(t,function(e){return i.documentServices.components.isShowOnSomePages(e)})},canBeSelectedTogether:s,containsSiblingsOnly:function(t){if(!i.multiselect.isMultiselect(t))return!0;var o=i.components.getSiblings(e.head(t)),n=e.tail(t);return e.every(n,function(t){return!!e.find(o,t)})},containsAncestorsAndDescendants:function(t){return!!i.multiselect.isMultiselect(t)&&e.every(t,function(o,n){var a=t.slice(n+1);return e.every(a,function(e){return i.components.isDescendantOfComp(o,e)||i.components.isDescendantOfComp(e,o)})})},areComponentsOfSamePage:function(t){if(!i.multiselect.isMultiselect(t))return!0;var o=e.head(t),n=e.tail(t),a=i.documentServices.components.getPage(o);return e.every(n,function(t){var o=i.documentServices.components.getPage(t);return e.isEqual(o,a)})},getComponentsWhichDontHaveAncestorsInTheArray:function(t){var o=e.clone(t);return e.forEach(t,function(n,a){var r=t.slice(a+1);e.forEach(r,function(t){if(i.components.isDescendantOfComp(n,t))return e.remove(o,n),!1;i.components.isDescendantOfComp(t,n)&&e.remove(o,t)})}),o},removeGroupedCompsIfTheirGroupIsInArray:l,setContainer:function(t,o){return e.map(t,function(e){return i.documentServices.components.setContainer(e,o)})},reparentComponentToPage:function(t,o){return e.map(t,function(e){return i.documentServices.components.reparentComponentToPage(e,o)})},data:{update:function(){throw"Cannot update data for multiple components"},get:function(t){return e.map(t,function(e){return i.documentServices.components.data.get(e)})},remove:function(){throw"Cannot remove data for multiple components"}},design:{update:function(t,o){e.forEach(t,function(e){i.documentServices.components.design.update(e,o)})},get:function(t){return e.map(t,function(e){return i.documentServices.components.design.get(e)})},remove:function(){throw"Cannot remove design for multiple components"}},properties:{update:function(){throw"cannot update multiple components properties"},get:function(t){return e.map(t,function(e){return i.documentServices.components.properties.get(e)})}},arrangement:{canMoveForward:function(){return!1},canMoveBackward:function(){return!1}},alignment:{align:function(e,t){i.documentServices.components.alignment.alignComponents(e,t)}},multiComponents:{distribute:function(e,t){i.documentServices.components.multiComponents.distribute(e,t)},matchSize:function(e,t){i.documentServices.components.multiComponents.matchSize(e,t)}},layout:{get:function(e){if(!i.multiselect.containsSiblingsOnly(e))throw"Cannot get layout for non-siblings components";return i.documentServices.components.layout.getSnugLayout(e)},canBeFixedPosition:function(t){return e.every(t,function(e){return i.documentServices.components.layout.canBeFixedPosition(e)})},getRelativeToScreen:function(e){return i.documentServices.components.layout.getSnugLayoutRelativeToScreen(e)},getRelativeToScreenConsideringScroll:function(e){return i.documentServices.components.layout.getSnugLayoutRelativeToScreenConsideringScroll(e)},getRelativeToStructure:function(e){return i.documentServices.components.layout.getSnugLayoutRelativeToStructure(e)},getResizableSides:function(t){return i.multiselect.is.proportionallyResizable(t)?e.values(i.documentServices.components.layout.RESIZE_SIDES):[]},update:function(e,t){if(!i.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";r(e,i.documentServices.components.layout.getSnugLayout(e),t)},updateRelativeToStructure:function(t,o){r(t,e.pick(i.multiselect.layout.getRelativeToStructure(t),["x","y"]),o)},updateRelativeToScreen:function(t,o){r(t,e.pick(i.multiselect.layout.getRelativeToScreen(t),["x","y"]),o)},updateRelativeToScreenAndPreserveProportions:function(e,t,o){return p(0,t,o,i.components.layout.updateRelativeToScreenAndPreserveProportions)},updateRelativeToStructureAndPreserveProportions:function(e,t,n){var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToStructure(i,e,t);i.multiselect.layout.updateRelativeToScreenAndPreserveProportions(e,a,n)},updateAndPreserveProportions:function(e,t,n){if(!i.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(i,e,t);i.multiselect.layout.updateRelativeToScreenAndPreserveProportions(e,a,n)},getProportionStructure:function(t,n){var a=i.components.layout.getRelativeToScreen(t);return{component:null,layout:a,children:e.map(t,function(t){var r=i.components.layout.getRelativeToScreen(t),s=o.layoutUtils.getLayoutsXYDiff(r,a),l=e.defaults(s,r),c=o.layoutUtils.getChildContainerLayoutRatio(l,a),p=i.components.layout.getProportionStructure(t,n);return p.proportions=c,p.minLayout=e.omit(p.minLayout,["x","y"]),p})}},updateAndAdjustLayout:function(e,t){return d(e,t,i.documentServices.components.layout.updateAndAdjustLayout)},continuousUpdateRelativeToScreen:c,continuousUpdateAndAdjustLayout:function(e,t){return d(e,t,i.documentServices.components.layout.continuousUpdateAndAdjustLayout.on)},continuousUpdateAndPreserveProportions:function(e,t,n){if(!i.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(i,e,t);i.multiselect.layout.continuousUpdateRelativeToScreenAndPreserveProportions(e,a,n)},continuousUpdateRelativeToScreenAndPreserveProportions:function(e,t,o){return p(0,t,o,i.components.layout.continuousUpdateAndPreserveProportions.on)},setFixed:function(o,n){return e.map(o,function(e){return t.utils.fixedPositionUtils.setFixedPosition(i,e,n)})},updateAspectRatio:function(t){e.forEach(t,function(e){i.documentServices.components.layout.updateAspectRatio(e)})},removeAspectRatio:function(t){e.forEach(t,function(e){i.documentServices.components.layout.removeAspectRatio(e)})},unDock:function(){throw"Dock / Undock not supported for multiselect"},setDock:function(){throw"Dock / Undock not supported for multiselect"},updateDock:function(){throw"Dock / Undock not supported for multiselect"},getDock:function(){throw"Dock / Undock not supported for multiselect"},canBeStretched:function(){return!1},isStretchedToScreen:function(t){return e.some(t,function(e){return i.components.layout.isStretchedToScreen(e)})}},skin:{get:function(){throw"cannot get skin of multiple components"},getComponentSkinExports:function(){throw"Cannot get component skin exports for multiple components"}},getRestrictions:function(t,o){return e.reduce(o,function(e,o){return e[o]=i.multiselect.is[o](t),e},{})},is:{controlledByParent:function(t){return e.every(t,i.components.is.controlledByParent)},fixed:function(t){return e.every(t,i.components.is.fixed)},selectable:function(){return!0},alignable:function(t){return e.every(t,i.components.is.alignable)},container:function(){return!1},exist:function(t){return e.every(t,function(e){return i.components.is.exist(e)})},siteSegment:function(){return!1},removable:function(t){return e.every(t,function(e){return i.components.is.removable(e)})},duplicatable:function(t){return e.every(t,function(e){return i.components.is.duplicatable(e)})},styleCanBeApplied:function(){return!1},containable:function(t,o){return e.every(t,function(e){return i.components.is.containable(e,o)})},containableByStructure:function(t,o){return e.every(t,function(e){return i.components.is.containableByStructure(e,o)})},movable:function(t){return e.every(t,function(e){return i.components.is.movable(e)})},verticallyMovable:function(t){return e.every(t,function(e){return i.components.is.verticallyMovable(e)})},canMoveUp:function(t){return e.every(t,function(e){return i.components.is.canMoveUp(e)})&&i.multiselect.containsSiblingsOnly(t)},anchorableFrom:function(t){return e.some(t,function(e){return i.components.is.anchorableFrom(e)})&&i.multiselect.containsSiblingsOnly(t)},anchorableTo:function(t){return e.some(t,function(e){return i.components.is.anchorableTo(e)})&&i.multiselect.containsSiblingsOnly(t)},fullWidth:function(t){return e.every(t,function(e){return i.components.is.fullWidth(e)})},horizontallyResizable:function(t){return e.every(t,i.components.is.horizontallyResizable)},verticallyResizable:function(t){return e.every(t,i.components.is.verticallyResizable)},proportionallyResizable:function(t){return e.every(t,i.components.is.proportionallyResizable)},resizeOnlyProportionally:function(t){return e.every(t,i.components.is.resizeOnlyProportionally)},group:function(){return!1},groupable:function(t){return e.every(t,function(e){return i.components.is.groupable(e)})},groupedComponent:function(t){return e.every(t,function(e){return i.documentServices.components.is.groupedComponent(e)})},topMost:function(t,o){return e.some(t,function(e){return i.documentServices.components.is.topMost(e,o)})},leftMost:function(t,o){return e.some(t,function(e){return i.documentServices.components.is.leftMost(e,o)})},resizable:function(){return!1},rotatable:function(){return!1},animatable:function(t,o){return e.every(t,function(e){return i.components.is.animatable(e,o)})},focusable:function(){return!1},pinnable:function(){return!1},slidesContainer:function(){return!1},slideContainer:function(){return!1},hoverBox:function(){return!1},draggable:function(t){return e.every(t,i.components.is.draggable)},allowLassoOnContainer:function(){return!1},selectedBeforeDescendants:function(){return!1},showLegacyFixedPosition:function(){return!1},repeaterItem:function(){return!1},descendantOfRepeaterItem:function(t){return e.some(t,function(e){return i.components.is.descendantOfRepeaterItem(e)})},disabledKnobs:function(t){return e(t).map(i.components.is.disabledKnobs).map("length").compact().get("length")?e.values(i.documentServices.components.layout.RESIZE_SIDES):[]},skinParamsToIgnore:function(){throw new window.Error("Cannot get skinParamsToIgnore for for multiple components")}},behaviors:{update:function(t,o,n){e.forEach(t,function(e){i.documentServices.components.behaviors.update(e,o,n)})},get:function(t){return e.reduce(t,function(e,t){return e.concat(i.documentServices.components.behaviors.get(t)||[])},[])},remove:function(t,o,n){e.forEach(t,function(e){i.documentServices.components.behaviors.remove(e,o,n)})},removeAll:function(t){e.forEach(t,function(e){i.documentServices.components.behaviors.removeAll(e)})},previewAnimation:function(t,o,n){return e.map(t,function(t,a,r){return i.documentServices.components.behaviors.previewAnimation(t,e.cloneDeep(o),a===r.length-1?n:void 0)})},stopPreviewAnimation:function(t){e.forEach(t,function(e){i.documentServices.components.behaviors.stopPreviewAnimation(e)})},execute:function(t,o,n){e.forEach(t,function(e){i.documentServices.components.behaviors.execute(e,o,n)})},getRuntimeState:function(t){return e.map(t,function(e){return i.documentServices.components.behaviors.getRuntimeState(e)})}},componentModes:{applyCurrentToAllModes:function(t){e.forEach(t,function(e){i.components.modes.applyCurrentToAllModes(e)})},addDefaultSingleModeAnimations:function(t){e.forEach(t,function(e){i.components.modes.addDefaultSingleModeAnimations(e)})},areComponentsOfSameModefulContainer:function(t){if(!i.multiselect.isMultiselect(t))return!0;var o=e.map(t,function(e){return i.components.modes.getFirstAncestorWithActiveModes(e)});return e.every(o,e.partial(e.isEqual,o[0]))}},media:{getSvgOriginalAspectRatio:function(){throw"getSvgOriginalAspectRatio does not support multiple components"}}}}return{create:i}}),define("rEditor/app/APISections/addPanelAPI",["lodash","util"],function(e,t){"use strict";function o(o,n){var a=function(){var o=["addPanelInfra","addPanel"],n=t.languages.getLanguageCode(),a=n&&"addPanelSections"+n.toUpperCase();return n&&"en"!==n.toLowerCase()&&!e.includes(i,n)?o.concat(a):o}();require(a,function(e,t,i){o.addPanelInfra=e,i&&t.sections.applyTranslatedSections(i),n({registerToOverrideSectionItemsForCategory:function(t,o){e.addPanelData.manager.override.sections.register(t,o)},registerOverrideCategoryAttributes:function(t,o,i){e.addPanelData.manager.override.attributes.register(t,o,i)},registerToAddSectionAtTheStartOfCategory:function(t,o){e.addPanelData.manager.start.register(t,o)},registerToAddSectionAtTheEndOfCategory:function(t,o){e.addPanelData.manager.end.register(t,o)},getCategory:function(t){return e.addPanelData.getCategory(o,t)},getSectionsByComponentType:function(t,i){return e.addPanelData.getSectionsByComponentType(t,i,o)},getDesignPanelTitleByComp:function(t,i){return e.addPanelData.getDesignPanelTitleByComp(t,i,o)}})})}var i=["cs","hi"];return{loadAndCreate:o}}),define("rEditor/app/APISections/topBarAPI",["lodash","stateManagement","core"],function(e,t,o){"use strict";return{create:function(i){function n(o){i.store.dispatch(t.legacy.setState({topBar:e.defaults(o,i.store.getState().topBar)}))}var a=o.constants.TOP_BAR.EDITOR_MODE_SWITCH.ANIMATION_PROGRESS,r=o.constants.TOP_BAR.EDITOR_MODE_SWITCH.ANIMATION_DURATION;return{animateModeSwitch:function(){var e={modeSwitchAnimationProgress:a.IN_PROGRESS},t={modeSwitchAnimationProgress:a.IDLE};n(e),window.setTimeout(n.bind(this,t),r)},isModeSwitchAnimationInProgress:function(){return i.store.getState().topBar.modeSwitchAnimationProgress===a.IN_PROGRESS}}}}}),define("rEditor/app/APISections/selection",["lodash","core","util","constants","stateManagement","experiment"],function(e,t,o,i,n,a){"use strict";function r(r){function p(t){var o=g(t);(function(t){var o=r.store.getState(),i=t&&1===t.length&&t[0],n=c(o),a=n&&1===n.length&&n[0];return o.focusedContainer&&!e.isEqual(a,i)&&e.isEqual(i,o.focusedContainer)})(t)&&r.panelManager.closeAllPanelsOfType("compPanelFrame"),d({selectedComponents:t,focusedContainer:o})}function d(t){var o=r.store,i=o.dispatch,a=o.getState,s=c(a()),l=e.has(t,["selectedComponents"])&&!e.isEqual(s,t.selectedComponents);if(l){var p=r.getCompRestrictions(t.selectedComponents);i(n.selection.logic.selectComponents(t.selectedComponents,p))}if(i(n.legacy.setState(e.omit(t,["selectedComponents"]))),l){var d=r.pluginService.getPlugin("selection","*");e.isFunction(d)&&d(t.selectedComponents)}}function u(t){return e.includes(["DEFAULT","HOVER"],t.type)}function m(t){return r.components.is.focusable(t)||function(t){var o=r.components.modes.getModes(t);return!e.isEmpty(o)&&e.every(o,u)}(t)}function g(t){if(t&&t.length>=2&&!function(t,o){var i=o.getContainer(e.head(t));return e(t).tail().every(function(t){return e.isEqual(o.getContainer(t),i)})}(t,r.components))return null;for(var o=e.head(t);o&&!m(o);)o=r.components.getContainer(o);return o}function f(e,t){return w(e)?t.button===D?null:A(e):(r.closeCompPanelIfExists(),_(e))}function h(e,t){r.closeCompPanelIfExists();var o=r.utils.getParentIfCompCanBeSelected(e);o&&(e=o),I(e),t&&r.openFirstTimePanel(e)}function b(t){var o=function(e){return r.utils.findAncestorMatchesCondition(e,r.components.is.selectedBeforeDescendants)}(t),i=o?e(o).thru(b).flatten().value():[];return e.compact([o].concat(i))}function y(e){return e.shiftKey||N.isSpecialKeyPressed(e)}function v(e){B=e}function S(t,o){var i={x:t,y:o},n=r.documentServices.pages.getReference(r.documentServices.pages.getFocusedPageId()),a=r.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",n);return e.filter(a,function(e){var t=r.components.layout.getRelativeToScreenConsideringScroll(e);return t.y+=x.ANCHOR_OFFSET_TOP,i.x>=t.x&&i.x<=t.x+x.ANCHOR_WIDTH&&i.y>=t.y&&i.y<=t.y+x.ANCHOR_HEIGHT})}function P(e,t){var o={x:e,y:t},i=r.components.get.byXYRelativeToScreen(o.x,o.y,0,r.documentServices.pages.getFocusedPageId());return S(e,t).concat(i)}function E(e){var t=L.fitMouseCoordinatesToViewer(r,e),o=G.get(e,t);return o||(o=P(t.clientX,t.clientY),G.set(o,t)),o}function C(t){var o=E(t);if(e.isEmpty(o))return null;var i=0,n=o[i];if(n)for(var a=r.layouters.getParentCompWithOverflowHidden(n);r.components.is.group(n)||!r.components.is.selectable(n)||a&&!e.includes(e.map(o,"id"),a.id);)a=(n=o[++i])?r.layouters.getParentCompWithOverflowHidden(n):null;else for(;r.components.is.group(n)||!r.components.is.selectable(n);)n=o[++i];return n||null}function T(t){var o=C(t),i=e.head(M());if(!o)return null;if(o=function(t,o){function i(e){return o&&r.components.isDescendantOfComp(o,e)}if(w(t))return t;var n=b(t);if(0===n.length)return t;var a=e.head(n),s=e.last(n);return i(a)?t:i(s)?a:s}(o,i),a.isOpen("se_overlapping_highlights")){var n=function(t,o){var i=E(o);return i=e.filter(i,r.components.is.selectable),i=e.reject(i,function(o){return e.includes(["SITE_PAGES","PAGES_CONTAINER"],o.id)||r.utils.isPage(o)||e.isEqual(t,o)||"wysiwyg.viewer.components.Column"===r.components.getType(o)}),e.head(i)}(o,t);if(n){if(function(e,t,o){var i=r.components.layout.getRelativeToScreenConsideringScroll(e),n=r.components.layout.getRelativeToScreenConsideringScroll(t);return i.width*o>=n.width&&i.height*o>=.7*n.height}(o,n,.7))return n}}return o}function I(t){var i=r.components.asArray(t);if(!((i=e.uniqBy(i,"id")).length>30)&&(!(i.length>0)||r.components.is.selectable(i))&&r.multiselect.canBeSelectedTogether(i)){i=r.multiselect.removeGroupedCompsIfTheirGroupIsInArray(i),i=e.filter(i,r.documentServices.components.is.visible);var n=e.find(r.panelManager.getOpenPanels(),{name:k});e.size(i)<2&&n&&r.panelManager.closePanelByName(k),r.components.layout.isPinned(i)?o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.PIN_MODE):o.keyboardShortcuts.getContext()===o.keyboardShortcuts.CONTEXTS.PIN_MODE&&o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.EDITOR),p(i)}}function _(e){var o=r.components.asArray(e),i=M()||[],n=i.concat(o);return n.length>1&&r.bi.event(t.bi.events.selection.MULTISELECT,{num_of_elements_selected:n.length,selection_method:"keyboard"}),I(n),i}function M(){var e=r.store.getState();return c(e)}function O(){var o=M(),i=void 0,n=void 0;r.multiselect.containsSiblingsOnly(o)&&w()?r.components.is.siteSegment(o)||function(e){var t=l.getCompTypeSuffix(e,r.documentServices);return"Page"===t||"AppPage"===t}(o)?i=r.components.getChildren(o):(n=function(t){var o=r.components.getSiblings(t);return e.reject(o,function(e){return r.components.is.siteSegment(e)})}(o),i=o.concat(n)):i=(o||[]).concat(r.components.getChildren(r.pages.getFocusedPage())),e.isEmpty(i)||(r.closeCompPanelIfExists(),i.length>1&&r.bi.event(t.bi.events.selection.MULTISELECT,{num_of_elements_selected:i.length,selection_method:"keyboard"}),I(i))}function A(t){o.keyboardShortcuts.getContext()===o.keyboardShortcuts.CONTEXTS.PIN_MODE&&o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.EDITOR);var i=!t,n=r.components.asArray(t),a=M();I(e.reject(a,function(t){return i||e.some(n,t)}))}function w(t){var o=M();if(e.isEmpty(t))return!e.isEmpty(o);var i=r.components.asArray(t);return e.every(i,function(t){return e.some(o,t)})}function R(e){d({lastSelectionClickPos:e})}var k="compPanels.panels.MultiSelect.layoutPanel",D=2,x=i.UI,N=o.browserUtil,L=t.utils.mouseCoordinatesHandler,B=!1,F=!1,U=null,H=null,G=function(){function e(e,t){return{clientX:e.clientX,clientY:e.clientY,timeStamp:t}}var t={timeStamp:-s.TIME_DELTA},i=null;return{get:function(n,a){return function(e){if(e.timeStamp-t.timeStamp>s.TIME_DELTA)return!1;var o=e.clientX-t.clientX,i=e.clientY-t.clientY;return o*o+i*i<s.DIST_SQR}(e(a,n.timeStamp||o.performance.now()))?i:null},set:function(n,a){t=e(a,o.performance.now()),i=n}}}();return{isMultiSelectKeyPressed:y,isSingleSelectionComponent:function(t){var o=r.components.getType(t);return e.includes(i.MULTISELECT.SINGLE_SELECTION_COMPONENT_TYPES,o)||r.components.layout.isShowOnFixedPosition(t)},setIsMouseUpSelectionEnabled:v,getIsMouseUpSelectionEnabled:function(){return B},setIsHiddenComponentDraggedNext:function(e){F=!!e},isHiddenComponentDraggedNext:function(){return F},isComponentExplicitlySelected:function(){return null!==U},getAnchorsUnderClick:S,getComponentsByXY:P,getComponentsUnderClick:E,getNonGroupCompUnderCursor:C,getComponentUnderClickToBeSelected:T,getComponentToBeMarkedByHoverBox:function(e,t){var o=t&&U||T(e);return H&&o?H:o},selectComponentByClick:function(e){var t=T(e);H&&t&&H.id!==t.id?(t=H,U=null):U=t;var o=w(t),i=M(),n=e.button!==D;if(t)if(y(e)&&!o)f(t,e),R(null);else{if(!r.multiselect.isMultiselect(i)){var a=r.components.layout.isShowOnFixedPosition(t),s=void 0,l=L.fitMouseCoordinatesToViewer(r,e);if(a)s={x:l.clientX,y:l.clientY};else{var c=r.ui.scroll.getScroll();s={x:l.clientX+c.scrollLeft,y:l.clientY+c.scrollTop}}R(s)}if(o)return void v(!0);h(t,n)}else A()},selectNonGroupCompUnderCursor:function(e){var t=C(e);t=t&&H?H:t;var o=e.button!==D;return w(t)?null:y(e)?f(t):h(t,o)},selectComponentByCompRef:I,addComponentToSelectionByRef:_,getSelectedComponentId:function(){var t=M();return!e.isEmpty(t)&&e.head(t).id},getSelectedComponents:M,getFocusedContainer:function(){return r.store.getState().focusedContainer},getParentToFocus:function(e){return g(e)},getSelectedComponentType:function(){var t=M();return e.isEmpty(t)?null:l.getCompTypeSuffix(e.head(t),r.documentServices)},selectAll:O,getSelectedComponentData:function(){var e=M();return e?r.components.data.get(e):null},deselectComponents:A,isComponentSelected:w,setLastSelectionClickPos:R,isSelectedCompUnderCursorAndBeneathSiteSegment:function(t,o){var i=E(o),n=r.documentServices.pages.getReference(r.documentServices.pages.getPrimaryPageId()),a=r.siteSegments.getRefs().concat(n),s=e.findIndex(i,function(t){return e.some(a,t)});return-1!==s&&e.some(t,function(t){return e.some(i,function(o,i){return e.isEqual(t,o)&&i>s})})},setModalComponent:function(e){H=e}}}var s={TIME_DELTA:400,DIST_SQR:5},l=n.components.selectors,c=n.selection.selectors.getSelectedCompsRefs;return{create:r}}),define("rEditor/app/APISections/databaseEditor",["lodash","experiment"],function(e,t){"use strict";return{create:function(o){function i(e,i,n){o.panelManager.openPanel("compPanels.panels.AppPart2.databaseEditorPanel",{selectedComponentType:n,listId:e,compRef:i,autoSave:!t.isOpen("disableDbEditorAutoSave")})}function n(){o.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"PUBLISH_ERROR_TITLE_LABEL",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["SAVE_PUBLISH_ERROR_OPTION_1","SAVE_PUBLISH_ERROR_OPTION_2"],helpMessage:"SAVE_ERROR_LEARN_MORE_LABEL",helpLinkMessage:"SAVE_PUBLISH_ERROR_LEARN_MORE_LINK",helpLink:"http://www.wix.com/"})}return{openDatabaseEditor:function(a,r){var s=o.selection.getSelectedComponentType();!t.isOpen("disableDbEditorAutoSave")&&o.documentServices.generalInfo.isFirstSave()?o.saveManager.saveInBackground(e.partial(i,a,r,s),n):i(a,r,s)}}}}}),define("rEditor/app/APISections/welcomeScreensWrapper",["lodash","util","core","stateManagement","experiment"],function(e,t,o,i,n){"use strict";function a(e){return"na"===e}function r(e){var t=e.account.getEditorVersionsInfo();return!!t&&t.isEligibleForSwitch&&(e.compatibility.hasOldApp()||e.compatibility.hasAppPage())}function s(e){var t=e.account.getEditorVersionsInfo(),o=!1===window.editorModel.firstSave&&!1===t.isEligibleForSwitch;return t&&!t.isNewUser&&!o}function l(e,o){p(e,e.account.getEditorVersionsInfo().isEligibleForSwitch?"START_NOW_CLICK_WITH_BACK_OPTION":"START_NOW_CLICK_WITHOUT_BACK_OPTION",o),t.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","new")}function c(e,o){p(e,"BACK_TO_OLD_EDITOR_CLICK",o),t.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","old"),t.windowInteractionUtils.reloadPageWithoutQuestion()}function p(e,t,i){var n=o.bi.events.newEditorWelcomeScreens[t],a={site_id:e.documentServices.generalInfo.getSiteId()};n.fields.duration&&(a.duration=Date.now()-i),e.bi.event(n,a)}function d(e){if(!s(e))return!1;var t=e.account.getEditorVersionsInfo(),o="new"===t.userOverride,i="old"===t.userOverride&&t.isEligibleForSwitch;return!o&&!i}function u(t){return s(t)&&function(t){return e(t.components.get.byType("wixapps.integration.components.AppPart2")).map(t.components.data.get).map("appPartName").map(t.documentServices.wixapps.appbuilder.data.lists.getListVersion).some(function(e){return!e||"1.0"===e})}(t)}function m(e){e.panelManager.openPanel("panels.focusPanels.newUserIntroVideoPanel",{linkedVideoData:P,title:t.translate("Intro_video_new_user_dialog_title"),subtitle:t.translate("Intro_video_new_user_dialog_sub_heading"),buttonLabel:"Intro_video_new_user_button"})}function g(e){var t=e.account.getEditorVersionsInfo(),o=u(e);e.panelManager.openPanel("panels.focusPanels.newEditorWelcomeScreenPanel",{isEligibleForSwitch:t.isEligibleForSwitch,onNextClick:o?f.bind(this,e):l.bind(this,e,Date.now()),nextBtnLabel:o?"Notification_Box_Next":"Notification_Box_Start_Now",onBackClick:c.bind(this,e,Date.now())})}function f(e){var t=e.account.getEditorVersionsInfo();e.panelManager.openPanel("panels.focusPanels.newEditorListWelcomeScreenPanel",{isEligibleForSwitch:t.isEligibleForSwitch,onNextClick:l.bind(this,e,Date.now()),onBackClick:c.bind(this,e,Date.now())})}function h(o){var n=o.documentServices.siteName.getUsed(),r=!n||0===n.length,s=!!i.userPreferences.selectors.getGlobalUserPreferences("didPassNewUserVideoCheck")(o.store.getState());return P=t.translate("Intro_video_new_user_video_link"),!s&&!a(P)&&(o.store.dispatch(i.userPreferences.logic.setGlobalUserPreferences("didPassNewUserVideoCheck",!0)).catch(e.noop),r&&!i.userPreferences.selectors.getGlobalUserPreferences(E)(o.store.getState()))}function b(e){var t=i.userPreferences.selectors.getGlobalUserPreferences("didPassNewFeaturesVideoCheck")(e.store.getState());return!(!n.isOpen("newFeaturesIntroVideo")||t)&&(!s(e)&&function(e){var t=e.account.getEditorVersionsInfo(),o=e.documentServices.siteName.getUsed(),i=!o||0===o.length;return t&&"old"!==t.userOverride&&!i}(e))}function y(e){return C=t.translate("Notification_Box_ADI_Migration_URL"),e.documentServices.generalInfo.isSiteFromOnBoarding()&&!i.userPreferences.selectors.getGlobalUserPreferences(E)(e.store.getState())&&!a(C)}function v(o){o.store.dispatch(i.userPreferences.logic.setGlobalUserPreferences("didPassNewFeaturesVideoCheck",!0)).catch(e.noop),o.panelManager.openPanel("panels.focusPanels.newFeaturesVideoPanel",{linkedVideoData:t.translate("Notification_Box__video_url_EN"),title:t.translate("Notification_Box_New_Editor_Features_Title"),subtitle:t.translate("Notification_Box_New_Editor_Features_Subtitle"),buttonLabel:"Intro_video_new_user_button"})}function S(o){o.store.dispatch(i.userPreferences.logic.setGlobalUserPreferences(E,!0)).catch(e.noop),o.panelManager.openPanel("panels.focusPanels.cameFromADIVideoPanel",{linkedVideoData:C,title:t.translate("Notification_Box_ADI_Migration_Title"),subtitle:t.translate("Notification_Box_ADI_Migration_Subtitle"),buttonLabel:"Notification_Box_ADI_Migration_Button"})}var P=void 0,E="didPassCameFromADIVideo",C=void 0;return{initWelcomeScreen:function(o){var i=[{shouldShow:y,show:S},{shouldShow:h,show:m},{shouldShow:b,show:v},{shouldShow:r,show:function(){o.panelManager.openPanel("panels.focusPanels.editorMigrationFailedPanel",{})}},{shouldShow:d,show:g},{shouldShow:u,show:f},{shouldShow:function(){return!0},show:e.noop}],n="true"===t.url.getParameterByName("disableWelcomeScreen");o.wixStores.isSiteInWixStoreTestDrive()||n||e.find(i,function(e){return e.shouldShow(o)}).show(o)}}}),define("rEditor/app/APISections/copyPasteWrapper",["lodash","core","experiment","rEditor/app/serializedComponentPlugins","boxSlideshow","stateManagement"],function(e,t,o,i,n,a){"use strict";function r(r){function s(e){var t={compRef:e};if(r.components.canBeMasterChild(e)){var o=C.getSlideShowParent(r,e),i=C.getSlideShowSlideParent(r,e);if(i){t.originalParent=i,t.originalGrandParent=o;var n=r.components.layout.getRelativeToStructure(e),a=r.components.layout.getRelativeToStructure(i);t.relativeToParentPosition={x:n.x-a.x,y:n.y-a.y}}}return t}function l(t,o){if(t.originalGrandParent&&r.components.is.slidesContainer(t.originalGrandParent)){var i=r.components.get.byXYRelativeToStructure(o.x,o.y);return!!e.find(i,t.originalGrandParent)}return!1}function c(t,i,n){return l(t,i)?C.findCurrentSlide(r,t.originalGrandParent):o.isOpen("se_pasteBehaviorFix")?(_=new I(r,{comp:t.serializedComp,layout:e.pick(n,["width","height"])},I.TYPES.STRUCTURE)).getCurrentAttachCandidate(n):null}function p(t,o){return l(t,o)?e.isEqual(C.findCurrentSlide(r,t.originalGrandParent),t.originalParent)?null:t.relativeToParentPosition:null}function d(t){return e.has(t,"x")&&e.has(t,"y")}function u(t){return e.includes(E,t)}function m(t,o){var n=r.ui.scroll.getScroll(),a=r.documentServices.pages.getFocusedPageId(),s=[],l=r.components.asArray(e.cloneDeep(t.components)),m=r.documentServices.siteSegments.getPagesContainer(),f=r.components.layout.getRelativeToScreen(m);o=d(o)?o:null;var h=r.pasteLogic.pasteContext.getPastePosition(r,t.snugLayoutRelativeToStructure,a);return h.x-=n.scrollLeft,h.y-=n.scrollTop,e.forEach(l,function(t){var l=t.serializedComp,d=u(l.componentType),m=r.documentServices.pages.getReference(d?r.pages.getMasterPageId():a),b=e.clone(o)||e.clone(h),y=function(e,t,o){var i=void 0;return o?(i={x:o.x,y:o.y-e.layout.height,width:e.layout.width,height:e.layout.height},"Container"===e.type&&(i.y=o.y-T),i):i={x:t.x,y:t.y,width:e.layout.width,height:e.layout.height}}(l,b,o),v=void 0,S=c(t,h,y);if(e.isEqual(S,m))b&&(b.x=y.x-f.x+n.scrollLeft,b.y=y.y-f.y+n.scrollTop);else{var P=r.components.layout.getRelativeToScreenConsideringScroll(S);b.x=y.x-P.x,b.y=y.y-P.y,r.components.is.fullWidth(S)&&(b.x-=f.x),m=S}var E=e.clone(b);l.layout.x=E.x+t.positionRelativeToSnug.x,l.layout.y=E.y+t.positionRelativeToSnug.y;var C=p(t,h);C&&(l.layout.x=C.x,l.layout.y=C.y),l=i.runPastePluginOnSerializedComponent(l,r),r.components.is.containableByStructure(l,m)&&(v=g(m,l),s.push(v))}),s}function g(e,t){return r.addComponentPlugins[t.componentType]?r.addComponentPlugins[t.componentType](r,e,t):r.components.add(e,t,t.id)}function f(e){e.styleId&&(e.previousStyleId=e.styleId)}function h(t,n){var a=void 0;a=o.isOpen("se_pasteBehaviorFix")?r.components.layout.getRelativeToScreen(t):r.components.layout.getRelativeToStructure(t);var l=r.documentServices.pages.getFocusedPageId();r.pasteLogic.pasteContext.setPasteData(a,l,r.ui.scroll.getScroll());var c={snugLayoutRelativeToStructure:a,components:e.map(t,function(t){var l=r.components.serialize(t,null,!1,n,null,f),c=r.components.style.getId(t);c&&(l.style=c),o.isOpen("layoutTractor")&&r.components.layout.isDocked(t)&&!r.components.layout.isDockedToScreen(t)&&delete l.layout.docked;var p=void 0;p=o.isOpen("se_pasteBehaviorFix")?r.components.layout.getRelativeToScreen(t):r.components.layout.getRelativeToStructure(t),l=i.runCopyPluginOnSerializedComponent(l,t,r);var d=s(t);return e.merge({serializedComp:l,positionRelativeToSnug:{x:p.x-a.x,y:p.y-a.y},isShowOnAllPages:r.components.isShowOnAllPages(t)},d)})},p=function(t){if(t&&t.length>0){var o=r.components.modes.getFirstAncestorWithActiveModes(e.head(t)),i=e.curry(e.isEqual)(o);if(e(t).tail().map(r.components.modes.getFirstAncestorWithActiveModes).every(i))return o}}(t);return p&&(c.containerWithModes=p),c}function b(t){var n=r.documentServices.pages.getFocusedPageId(),a=r.documentServices.siteSegments.getPagesContainer(),l=r.documentServices.siteSegments.layout.get(a),p=r.ui.scroll.getScroll();return e.map(t,function(t){var a=r.components.serialize(t);!function(e,t){var o=r.components.style.getId(e);o&&(t.style=o)}(t,a);var d=function(e,t,o,i,n){var a=r.components.layout.getRelativeToStructure(e).bounding;r.pasteLogic.duplicateContext.setPasteData(a,t,o);var s=r.pasteLogic.duplicateContext.getPastePosition(r,a,t);u(i)||(s.y-=n.y);return s}(t,n,p,a.componentType,l);a.layout.x=d.x,a.layout.y=d.y,a=i.runCopyPluginOnSerializedComponent(a,t,r),a=i.runPastePluginOnSerializedComponent(a,r);var m=function(t,i,n,a){var l=u(i.componentType),p=r.documentServices.pages.getReference(l?r.pages.getMasterPageId():t),d=e.merge({serializedComp:i},s(n));if(o.isOpen("se_pasteBehaviorFix"))return p;var m=c(d,a);m&&(p=m);return p}(n,a,t,d);return r.components.add(m,a)})}function y(e,o){if(e){var i=r.components.asArray(e);if(i=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(i),function(e){return r.components.is.duplicatable(e)}(i)){var n=h(i,o);r.clipboard.setItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,n)}else r.isMobileEditor()&&r.openCantCopyPastePanel()}}function v(n,s){var l=P(),f=r.store.getState(),h=a.selection.selectors.getSelectedCompsRefs(f),b=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(function(t){if(e.isEmpty(t))return!1;var o=r.isMobileEditor(),i=r.documentServices.pages.getPrimaryPageId(),n=r.documentServices.pages.isLandingPage(i),a=e.some(t.components,"isShowOnAllPages");return!(o||n&&a)}(b)){r.panelManager.closeAllPanels();var y=void 0;y=o.isOpen("se_pasteBehaviorFix")?m(b,n):function(t,o,n){var a=r.documentServices.pages.getFocusedPageId(),s=[],l=r.components.asArray(e.cloneDeep(t.components)),m=r.documentServices.siteSegments.getPagesContainer(),f=r.documentServices.siteSegments.layout.get(m);o=d(o)?o:null;var h=r.pasteLogic.pasteContext.getPastePosition(r,t.snugLayoutRelativeToStructure,a);return e.forEach(l,function(t){var l=t.serializedComp,d=u(l.componentType),m=r.documentServices.pages.getReference(d?r.pages.getMasterPageId():a),b=void 0,y=c(t,h);if(y){var v=r.components.layout.getRelativeToStructure(y);(o=o||{}).x=h.x-v.x,o.y=h.y-v.y,m=y}var S=e.clone(o),P=e.clone(h);S?d&&(S.y+=f.y):(d||(P.y-=f.y),S=P),l.layout.x=S.x+t.positionRelativeToSnug.x,l.layout.y=S.y+t.positionRelativeToSnug.y,n&&(l.layout.x-=l.layout.width/2,l.layout.y-=l.layout.height/2);var E=p(t,h);E&&(l.layout.x=E.x,l.layout.y=E.y),l=i.runPastePluginOnSerializedComponent(l,r),r.components.is.containableByStructure(l,m)&&(b=g(m,l),s.push(b))}),s}(b,n,s),f.performingMouseMoveAction||r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(y),r.openFirstTimePanel(y),l&&r.updateState({applyModeFromClipboardSuggestion:{selectedComponents:y,container:h}})})}else r.isMobileEditor()&&r.openCantCopyPastePanel()}function S(){r.updateState({applyModeFromClipboardSuggestion:void 0})}function P(){var o=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(o&&o.containerWithModes){var i=r.components,n=r.store.getState(),s=a.selection.selectors.getSelectedCompsRefs(n);if(s&&1===s.length){var l=s[0];if(e.isEqual(l,o.containerWithModes)){var c=i.modes.getModes(l);if(c&&c.length>0){var p=i.modes.getComponentActiveModeIds(l);if(1===e.size(p)){var d=e.keys(p)[0],u=e(c).reject({modeId:d}).map("modeId").value();return e(o.components).map("compRef").every(function(t){return e.some(u,function(e){return i.modes.isComponentDisplayedInModes(t,[e])})&&!i.modes.isComponentDisplayedInModes(t,[d])})}}}}}return!1}var E=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"],C=n.utils.boxSlideShowUtils,T=48,I=t.utils.AttachHandler,_=void 0;return{copy:y,paste:v,hideApplyModeFromClipboardSuggestion:S,canApplyModeFromClipboard:P,removePastedComponentAndApplyModeFromClipboard:function(){var e=r.store.getState(),t=a.applyModeFromClipboard.selectors.selectApplyModeFromClipboardSuggestion(e),o=t.container;S(),r.components.remove(t.selectedComponents),r.documentServices.waitForChangesApplied(function(){r.copyPaste.applyModeFromClipboard(o)})},applyModeFromClipboard:function(o){var i=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT),n=e.map(i.components,function(e){return{compRef:e.compRef,compDefinition:e.serializedComp}});if(o&&1===o.length){var a=r.components,s=o[0];if(e.isEqual(s,i.containerWithModes)){var l=a.modes.getModes(s);if(l&&l.length>0){var c=a.modes.getComponentActiveModeIds(s);if(1===e.size(c)){var p=e.keys(c)[0];a.modes.applyComponentToMode(n,p);var d=e.map(n,"compRef");r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(d)})}}}}r.history.add("apply mode from clipboard"),r.tabIndicationState.activateApplyAnimation(!0)},duplicate:function(t){if(e.isEmpty(t))return[];r.panelManager.closeAllPanels();var o=r.selection.getSelectedComponents(),i=r.components.asArray(t),n=r.components.getType(o);if(r.duplicatePlugins[n])return r.duplicatePlugins[n](o);o=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(o),i=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(i);var a=r.components.getContainer(t);if(!r.components.is.duplicatable(i,a))return[];e.isEqual(i,o)&&r.selection.deselectComponents();var s=b(i);return r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(s),r.openFirstTimePanel(s)}),s}}}return{create:r}}),define("rEditor/app/APISections/wixStoresFlowAPI",["lodash","util"],function(e,t){"use strict";return{create:function(){return{isSiteInWixStoreTestDrive:function(){return e.includes(t.editorModel.metaSiteFlags,"EComTestDrive")}}}}}),define("rEditor/app/APISections/editorUI",[],function(){"use strict";return{create:function(e){return{scroll:{getScroll:function(){return e.scroll.get()},setScroll:function(t){return e.scroll.scrollTo(t)},animateScroll:function(t,o,i){e.scroll.animateScrollTo(t,o,i)},addListener:function(t){return e.scroll.addScrollListener(t)},removeListener:function(t){return e.scroll.removeScrollListener(t)}},stage:{getEditingAreaLayout:function(){return e.getEditingAreaPosition()},getMobileFrameLayout:function(){return e.getMobileFramePosition()}},focus:{setOnEditor:function(){e.setFocus()}}}}}}),define("rEditor/app/APISections/wixCode",["lodash","core"],function(e,t){"use strict";function o(o){function i(i){function n(){o.savePublish.unlockSavePublish(),i()}function a(){o.toggleEditorStateParam(r,t.constants.PROGRESS_STATUS.IDLE)}var r="previewingStatus";o.wixCode.isLoaded()?(o.savePublish.lockSavePublish(),o.toggleEditorStateParam(r,t.constants.PROGRESS_STATUS.IN_PROGRESS),o.wixCode.console.clear(),o.wixCode.fileSystem.flush().then(function(){!function(t){function i(i){var n=o.data.createItem("DynamicPageLink");e.assign(n,{innerRoute:i.innerRoute||"/",routerId:i.routerId}),o.pages.navigateTo(n,t)}var n=o.documentServices.routers.getCurrentInnerRoute();if(n&&n.isDynamic)return n.innerRoute?void i(n):void o.documentServices.routers.getRouterInnerRoutes(n.routerId,o.documentServices.pages.getPrimaryPageId(),function(t){n.innerRoute=e.isEmpty(t)?"":t[0].url,i(n)});t()}(function(){a(),n()})}).catch(function(){o.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"WixCode_PreviewSaveFail_Title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",stepsTitle:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION_BOLD",steps:["SAVE_PUBLISH_ERROR_OPTION_1","WixCode_PreviewSaveFail_Step2_Text","WixCode_DeveloperModeFail_Step3_Text"],helpMessage:"WixCode_PreviewSaveFail_Learn_More_Label",helpLinkMessage:"WixCode_PreviewSaveFail_Learn_More_Link",helpLink:"",errorCode:"1234"}),o.savePublish.unlockSavePublish(),a()})):n()}var n="wixCodeLoaded";return{isLoaded:function(){return o.store.getState()[n]},setLoaded:function(){o.toggleEditorStateParam(n,!0)},prepareBeforePreview:i}}return{create:o}}),define("rEditor/app/APISections/columns",["lodash","stateManagement","rEditor/app/serializedComponentPlugins"],function(e,t,o){"use strict";function i(t){function i(o){return o.components=e.reject(o.components,t.components.is.fullWidthByStructure),e.forEach(o.components,i),o}function a(t){var o=e.sum(t);return e.map(t,function(e){return 100*e/o})}function r(o){var i=e(o).thru(t.components.getChildren).keyBy("id").mapValues(t.components.layout.get).mapValues("width").value(),n=e.reduce(i,function(e,t){return e+t},0);return e.mapValues(i,function(e){return Math.round(100*e/n)})}function s(o,i,n){var r=l(o),s=t.components.getChildren(o);i=function(t){var o=980/e.sum(t);return e.map(t,function(e){return e*o})}(i),e.forEach(s,function(e,o){t.components.layout.update(e,{width:i[o]},!0)});m(s,r,a(i)),n||t.history.add("Change Columns Proportions")}function l(o){var i=t.components.getChildren(o);return a(e(i).map(t.components.layout.get).map("width").value())}function c(n){var r=e(n).thru(t.components.serialize).thru(i).value(),c=t.components.getContainer(n),p=t.components.getChildren(c);if(p.length!==h&&!P){P=!0;var d=e.findIndex(p,n)+1,u=l(c);u.splice(d,0,u[d-1]);var g=a(u);r=o.runCopyPluginOnSerializedComponent(r,n,t),r=o.runPastePluginOnSerializedComponent(r,t);var f=t.components.add(c,r);return t.documentServices.waitForChangesApplied(function(){!function(o,i,n){e.isUndefined(i)||t.components.arrangement.moveToIndex(o,i,n)}(f,d,!0),function(e,o){t.components.getChildren(e).length===h&&s(e,b,o)}(c,!0);m(t.components.getChildren(c),u,g),P=!1,t.documentServices.waitForChangesApplied(function(){t.history.add("added column")})}),f}}function p(e){var o=n.getCompTypeSuffix(e,t.documentServices);return!!v[o]}function d(o){var i=t.components.getChildren(o);return e(i).reject(p).flatMap(d).union(i).value()}function u(e,o,i,n){var a=t.components.layout.getRelativeToStructure(o),r=a.x-e.x,s=a.width,l=t.components.is.resizable(o)?s*i:s,c={width:l};if(!t.components.is.group(o)){if(n===y.LEFT)c.x=r*i;else if(n===y.CENTER){var p=(r+s/2)*i;c.x=p-l/2}else{var d=(r+s)*i;c.x=d-l}c.x+=e.x;t.components.layout.updateRelativeToStructure(o,c,!0)}}function m(o,i,n){e.forEach(o,function(o,a){var r=function(e,t,o){var i=e[o],n=t[o];return i&&n?i/n:null}(n,i,a);if(r){var s=d(o),l=t.components.properties.get(o).alignment,c=t.components.layout.getRelativeToStructure(o);e.forEach(s,function(e){u(c,e,r,l)})}})}function g(e){return 1===t.components.getChildren(e).length}var f="compPanels.panels.StripColumnsContainer.managePanel",h=5,b=e.times(h,function(){return 1}),y={LEFT:0,CENTER:50,RIGHT:100},v={BoxSlideShow:!0,StripContainerSlideShow:!0},S={background:{type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",color:"#FFFFFF",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:""}},P=!1;return{isColumn:function(e){return"wysiwyg.viewer.components.Column"===t.components.getType(e)},isStrip:function(e){return"wysiwyg.viewer.components.StripColumnsContainer"===t.components.getType(e)},isMultiColumnsStrip:function(e){return!g(e)},isSingleColumnStrip:g,addColumn:function(o){var i=t.components.getChildren(o),n=e.last(i);if(i.length!==h)return c(n)},duplicateColumn:c,removeColumn:function(o,i,n){var a=n||e.partial(t.documentServices.components.remove,o),s=t.components.getContainer(o),l=t.components.getChildren(s),c=r(s);return a(),new Promise(function(o){t.documentServices.waitForChangesApplied(function(){var i=r(s);e.forEach(i,function(o,i){var n=o/c[i],a=e.find(l,{id:i}),r=d(a),s=t.components.properties.get(a).alignment,p=t.components.layout.getRelativeToStructure(a);e.forEach(r,function(e){u(p,e,n,s)})}),1===e.keys(i).length&&t.components.design.update(s,S,void 0,!0),o()})})},canAdd:function(e){return t.components.getChildren(e).length<h},proportions:{set:s,get:l,flip:function(e){s(e,l(e).reverse())},toPercentages:a},columnAlignment:{set:function(e,o){t.components.properties.update(e,{alignment:o})},get:function(e){return t.components.properties.get(e).alignment}},move:{left:function(e){t.components.arrangement.moveBackward(e)},right:function(e){t.components.arrangement.moveForward(e)}},manage:{setManagedColumn:function(e,o){t.updateState({managedColumnPointer:e},o)},getManagedColumn:function(){var e=t.store.getState().managedColumnPointer;return e&&t.components.is.exist(e)?e:null},openPanel:function(o,i){e.isArray(i)&&(i=e.head(i)),i=i||e(o).thru(t.components.getChildren).head(),t.columns.manage.setManagedColumn(i,function(){t.selection.selectComponentByCompRef(o),t.panelManager.openComponentPanel(f,{selectedComponent:o})})},closePanel:function(){t.columns.manage.setManagedColumn(null,function(){t.panelManager.closePanelByName(f)})}}}}var n=t.components.selectors;return{create:i}}),define("rEditor/app/APISections/pagesWrapper",["lodash","core","util","rEditor/utils/removeUtil","rEditor/app/updateOperationsPlugins","platform"],function(e,t,o,i,n,a){"use strict";function r(r){function s(t,i){!function(t,i){o.keyboardShortcuts.enable(),e(r.pageNavigationCallbacks).concat(i).compact().forEach(function(e){e(t)})}(t,i),l()}function l(){r.getPreviewMode()||(r.shouldUpdateEditorScrollAfterHeightUpdate=!0,r.applyPreviewScrollToEditorScroll())}function c(t,i){return e.reduce(t,function(t,n){return e.isObject(n)?(t.push(e.defaults(n,{category:i,id:n.event||n.title||n.type})),t):(t.push({title:o.translate(n),type:n,id:n,category:i}),t)},[])}function p(o){var i=o.style;e.isObject(o.style)&&(i=t.styleManager.getStyleIdByDef(r.theme,r.components,o.style,o.componentType)),i&&(o.style=i),e.forEach(o.components,function(e){p(e)})}function d(t,o){var i=t.pages.data.get(o);return e.get(i,"title")||""}function u(t,i){var n=r.documentServices.platform.editorApps.DATA_BINDING.appDefId,a=r.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId;switch(t){case n:return o.translate("DYNAMIC_PAGES_APP_TYPE_DATA_BINDING");case a:var s=r.documentServices.platform.getAppManifest(a);return e.get(s,"routers.pagesGroups."+i+".label")}return o.translate("DYNAMIC_PAGES_APP_TYPE_CUSTOM_ROUTER")}function m(){return r.documentServices?r.documentServices.pages.getCurrentUrlPageId():null}function g(){var t=function(){var t=["type","name"],o=r.actions.getDefinition("load"),i=r.behaviors.getDefinition("openPopup");return{action:e.pick(o,t),behavior:e.pick(i,t)}}();return e(r.documentServices.pages.getPageIdList(!0)).map(e.ary(r.components.get.byId,1)).flatMap(e.ary(r.behaviors.get,1)).filter(t).map(function(e){return{pageId:e.action.sourceId,popupId:e.behavior.targetId,params:e.behavior.params}}).value()}function f(){function i(e,t){return{id:t.id,label:t.title,type:{isPage:!0,isDynamicPage:!0,routerType:e},isVisible:!0,isVisibleMobile:!0,pageData:t}}function n(t){var i=[],n=e.groupBy(t,"appDefinitionId");return e.forEach(n,function(t){var n=e.groupBy(t,"group");n[void 0]&&(i=i.concat(n[void 0]),delete n[void 0]),e.forEach(n,function(t){var n=function(t,i,n){var a=r.documentServices.platform.getAppManifest(t),s=e.get(a,"routers.pagesGroups."+n+".label");return s?s+" "+o.translate("DYNAMIC_PAGES_ROUTER_PAGES"):i+" ("+n+")"}(t[0].appDefinitionId,t[0].appDefinitionName,t[0].group),a=e.reduce(t,function(e,t){return e.pages=e.pages.concat(t.pages),e},e.assign({},t[0],{prefix:t[0].prefix,label:n,pages:[]}));i=i.concat(a)})}),i}var a=n(r.documentServices.routers.pages.getDynamicPagesList()),s=[];return e.forEach(a,function(n,a){var l=u(n.appDefinitionId,n.group),c=function(e){return e===r.documentServices.platform.editorApps.DATA_BINDING.appDefId?t.constants.ROUTER_TYPES.DATA_BINDING:t.constants.ROUTER_TYPES.CUSTOM_ROUTER}(n.appDefinitionId),p={id:"router_"+a,isRoot:!0,isVisible:!0,isVisibleMobile:!0,label:n.label||e.upperFirst(n.prefix)+" "+o.translate("DYNAMIC_PAGES_ROUTER_PAGES")+" ("+l+")",prefix:n.prefix,routerType:c,type:{isRouter:!0},items:e.map(n.pages,e.partial(i,c))};s.push(p)}),s}function h(t,i){var n=e.filter(t,function(t){var o=t.type;return e.includes(i,o)}),r=e.find(n,{type:a.constants.pages.page_settings.pageInfo.type}),s=e.find(n,{type:a.constants.pages.page_settings.seo.type}),l=[];return r&&l.push(function(t){return e.assign(t,{tabTitle:t.title,title:o.translate("Pages_Actions_Page_Settings"),icon:"settingsAction"})}(r)),s&&l.push(function(t){return e.assign(t,{tabTitle:t.title,icon:"seoSettingsAction"})}(s)),l}function b(t){var o=r.documentServices,i=o.routers.getRouterRef.byPrefix(t);if(!i)return[];var n=o.routers.get.byRef(i);return function(t,o){return e.isEmpty(o.pages)?t:t?e.reject(t,{event:"removeRouterClicked"}):[]}(y(c(r.platform.routers.getDataFromRoutersAppManifest(n.appDefinitionId,"routerActions"),"routerActions")),n)||[]}function y(t){return e(t).map(function(t){switch(t.type){case a.constants.members.router_actions.view_site_members.type:return function(t){if(!r.documentServices.generalInfo.isTemplate()){var i=r.site.getMetaSiteId();return e.assign(t,{title:o.translate(a.constants.members.router_actions.view_site_members.title),icon:a.constants.members.router_actions.view_site_members.icon,callback:function(){window.open("https://www.wix.com/my-account/sites/"+i+"/contacts/?tag=contacts-site_members_approved")}})}return null}(t);case a.constants.members.router_actions.open_signup_settings.type:return function(t){return e.assign(t,{title:o.translate(a.constants.members.router_actions.open_signup_settings.title),icon:a.constants.members.router_actions.open_signup_settings.icon,callback:function(){r.panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{panelName:"panels.focusPanels.siteMembersSettingsPanel"},!0)}})}(t);case a.constants.pages.page_actions.rename.type:return function(t){return e.assign(t,{icon:a.constants.pages.page_actions.rename.icon,title:o.translate(a.constants.pages.page_actions.rename.title)})}(t);default:return t}}).compact().value()}return{add:function(e,t){return t&&(t.data.pageUriSEO=r.documentServices.pages.data.pageUriSEO.getValid("",t.data.pageUriSEO)),r.documentServices.pages.add(e,t)},navigateTo:function(e,i,n){r.selection.deselectComponents(),o.keyboardShortcuts.disable(),r.documentServices.pages.navigateTo(e),r.documentServices.waitForChangesApplied(function(){s(r.documentServices.pages.getFocusedPageId(),i)}),n||r.developerMode.setContext(r.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))},navigateToAndScroll:function(o,i,n){r.selection.deselectComponents(),r.documentServices.pages.navigateToAndScroll(o,i,l),r.documentServices.waitForChangesApplied(e.partial(s,o,n)),r.developerMode.setContext(r.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))},getCurrentUrlPageTitle:function(){return r.documentServices?d(r.documentServices,m()):null},getCurrentUrlPageId:m,getPageTitle:function(e){return d(r.documentServices,e)},remove:function(e,t,o,n){r.selection.deselectComponents(),i.removePage(r,r.documentServices,r.removePagePlugins,e,t,o,n)},beforePageRemoveHook:function(e,t){var o=r.homePage.get(),i=void 0;o===e&&(i=r.mainMenu.getFirstNonHomePageMenuItem())&&(r.homePage.set(i.pageData.id),o=i.pageData.id.replace(/^#/,"")),r.documentServices.pages.navigateTo(o,t)},isPageExist:function(e){return r.documentServices.pages.doesPageExist(e)},isHomePage:function(e){return e===r.homePage.get()},serialize:function(e,t){var o=r.documentServices.pages.serialize(e,!0);return t&&p(o),o},data:{update:function(e,o){o.isLandingPage&&r.selection.deselectComponents(),o.pageUriSEO&&(o.pageUriSEO=r.documentServices.pages.data.pageUriSEO.getValid(e,o.pageUriSEO)),o=t.utils.updateDataUtil.fixData(o),r.documentServices.pages.data.update(e,o),r.documentServices.waitForChangesApplied(function(){n.updatePagePlugins.run(r,e)})}},background:{update:function(e,o,i){o=t.utils.updateDataUtil.fixData(o),r.documentServices.pages.background.update(e,o,i)}},transitions:{set:function(e){r.documentServices.pages.transitions.set(e),r.history.add("page transition")}},popupPages:{close:function(){r.hideFloatingBubble();var e=r.documentServices.pages.getPrimaryPageId();r.pages.navigateTo(e)},getCurrentPopup:function(){var e=r.documentServices.pages.popupPages.getCurrentPopupId();return r.components.get.byId(e)},getCurrentPopupData:function(){var e=r.documentServices.pages.popupPages.getCurrentPopupId();return r.documentServices.pages.data.get(e)},getPopupContainer:function(o){if(!(o=o||r.documentServices.pages.popupPages.getCurrentPopupId()))return null;var i=r.documentServices.components.get.byId(o);return e.head(r.documentServices.components.get.byType(t.constants.COMP_TYPES.POPUP_CONTAINER,i))},getOpenBehaviorsForPopups:g,getOpenBehaviorsForPopupWithId:function(t){return e.filter(r.pages.popupPages.getOpenBehaviorsForPopups(),{popupId:t})},getDataListOrdered:function(){return e.sortBy(r.documentServices.pages.popupPages.getDataList(),"id")},isFullWidthPopupOpened:function(){if(!r.documentServices.pages.popupPages.isPopupOpened())return!1;var e=r.components.properties.get(r.pages.popupPages.getPopupContainer());return e&&"fullWidth"===e.alignmentType}},dynamicPages:{getMenuItems:f,getRouterPageType:function(e){var t=r.documentServices.routers.getRouterDataForPageIfExist(e);return t?u(t.appDefinitionId,t.group):""},getDynamicPageActions:function(t,o,i){var n=r.documentServices,a=n.pages.getReference(t);if(!a)return[];var s=n.routers.getRouterRef.byPage(a);if(!s)return[];var l=n.routers.get.byRef(s);if("pageActions"===o&&l.appDefinitionId===r.documentServices.platform.editorApps.SANTA_MEMBERS.appDefId)return[];var p=y(c(r.platform.routers.getDataFromRoutersAppManifest(l.appDefinitionId,o),o));return"pageSettings"!==o||e.isEmpty(i)||(p=h(p,i)),p||[]},getRouterActionByPrefix:b,getActionByAppDefId:function(t,o,i){var n=y(c(r.platform.routers.getDataFromRoutersAppManifest(t,o),o));return"pageSettings"!==o||e.isEmpty(i)||(n=h(n,i)),n||[]}}}}return{create:r}}),define("rEditor/app/APISections/layoutersWrapper",["rEditor/utils/multiSelectHandler"],function(e){"use strict";return{create:function(t){return{getNonMasterChildren:function(o){return e.call(t,o,{multiCompHandler:t.multiselect.getNonMasterChildren,singleCompHandler:t.documentServices.layouters.getNonMasterChildren})},getParentCompWithOverflowHidden:function(o){return e.call(t,o,{multiCompHandler:t.multiselect.getParentCompWithOverflowHidden,singleCompHandler:t.documentServices.layouters.getParentCompWithOverflowHidden})}}}}}),define("rEditor/app/APISections/platformWrapper",["lodash","util"],function(e,t){"use strict";function o(o){return o.editorEventRegistry.register(o.editorEventRegistry.constants.events.ADD_PANEL_LOADED,function(){if(o.wixCode.isProvisioned()){var e=o.wixCode.fileSystem,t=e.getVirtualDescriptor(e.getRoots().schemas.location,!0);e.getChildren(t).then(function(e){e.length>0&&o.toggleEditorStateParam("hasDatabaseCollections",!0)})}}),o.editorEventRegistry.register(o.editorEventRegistry.constants.events.ADD_PANEL_LOADED,function(){o.documentServices.platform.registerToManifestAdded(function(o,i){var n=e.get(o,"controllersStageData.langs");e.forEach(n,function(e,o){var n={};n[i.applicationId+"_"+o]=e,t.translate.addLangs(n)})})}),{controllers:{getStageData:function(e){return o.documentServices.platform.controllers.getStageData(e)},connections:{isConnectedToDataBindingController:function(t){return e(t).thru(o.documentServices.platform.controllers.connections.get).map("controllerRef").map(o.components.data.get).some({applicationId:"dataBinding"})}}},routers:{getDataFromRoutersAppManifest:function(t,i){return function(t,i){var n=o.documentServices.platform.getAppManifest(t);return e.get(n,i)}(t,["routers",i,"default"])||[]}}}}return{create:o}}),define("rEditor/app/APISections/pinModeWrapper",["lodash","util","stateManagement"],function(e,t,o){"use strict";function i(i){function a(){r(n.close()),i.getPreviewMode()||i.documentServices.waitForChangesApplied(function(){var n=i.store.getState(),a=o.selection.selectors.getSelectedCompsRefs(n),r=i.components.layout.getDock(a);if(!e.isUndefined(r)){var s=t.pinModeUtils.getDockedDirection(r),l=i.components.layout.get(a);t.pinModeUtils.checkSizeRestrictions(s,l)&&i.panelHelpers.openPinModeSizeRestrictionPanel({state:"on pin",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}})}var r=i.store.dispatch;return{closeAndCheckSizeRestrictions:a}}var n=o.pinMode.logic;return{create:i}}),define("rEditor/app/APISections/promotionsWrapper",["lodash","core","util","staticAssets","stateManagement","experiment"],function(e,t,o,i,n,a){"use strict";function r(r){function s(t){var n=e.template("panels/focusPanels/<%= promotionName %>PromotionPopup.png"),a=e.template("panels/focusPanels/<%= promotionName %>PromotionPopupRetina.png");return o.browserUtil.getDevicePixelRatio()>=2?o.media.getMediaUrl(i.staticAssetsMap[a({promotionName:t})]):o.media.getMediaUrl(i.staticAssetsMap[n({promotionName:t})])}function l(){n.userPreferences.selectors.getSessionUserPreferences("photo-promo-popup-displayed")(r.store.getState())||(r.store.dispatch(n.userPreferences.logic.setSessionUserPreferences("photo-promo-popup-displayed",!0)),r.promotions.photography.displayPopup())}function c(){p=function(){var t=n.userProfile.selectors.getUserProfile(r.store.getState());return e.get(t,["post_reg_category","value"])||""}().toLowerCase(),function(){if(a.isOpen("musicPromotionFixed")||a.isOpen("musicPromotionRotation")){var e=r.promotions.music;r.documentServices.tpa.app.registerOnInstalled(t.constants.MUSIC_PROMO.APP_DEFINITION_ID,e.displayPopup),e.isActive()&&e.displayPopup()}}(),(a.isOpen("photographyPromotionFixed")||a.isOpen("photographyPromotionRotation"))&&e.forEach(t.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,function(e){r.documentServices.tpa.app.registerOnInstalled(e,l)})}var p=void 0;return{initPromotions:c,music:{isActive:function(){if(a.isOpen("musicPromotionFixed")||a.isOpen("musicPromotionRotation")){var o=r.documentServices.generalInfo.getSiteOriginalTemplateId(),i=e.includes(t.constants.MUSIC_PROMO.TEMPLATE_IDS,o),n=r.documentServices.tpa.app.isInstalled(t.constants.MUSIC_PROMO.APP_DEFINITION_ID);return i||n||e.includes(p,"music")}return!1},displayPopup:function(){r.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"music-promo-popup",headerFirstLineText:"MUSIC_PROMOTION_HEADER_2",imageSrc:s("music"),bodyText:"MUSIC_PROMOTION_BODY_LINE1",bodyLinkText:"MUSIC_PROMOTION_BODY_B4_ENDS",bodyBottomText:"MUSIC_PROMOTION_BODY_EASY",actionText:"MUSIC_PROMOTION_BUTTON_SUBMIT",actionUrl:"MUSIC_PROMOTION_BUTTON_SUBMIT_URL",biEvent:t.bi.events.musicPromotionPopup.submit_video_clicked})}},photography:{isActive:function(){if(a.isOpen("photographyPromotionFixed")||a.isOpen("photographyPromotionRotation")){var o=r.documentServices.generalInfo.getSiteOriginalTemplateId().toUpperCase(),i=e.includes(t.constants.PHOTOGRAPHY_PROMO.TEMPLATE_IDS,o),n=e.some(t.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,e.bind(r.documentServices.tpa.app.isInstalled,r)),s=e.includes(p,"photography")||e.includes(p,"design");return i||n||s}return!1},displayPopup:function(){r.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"photo-promo-popup",headerFirstLineText:"PHOTO_PROMO_POP_HEADER1",headerSecondLineText:"PHOTO_PROMO_POP_HEADER2",imageSrc:s("photo"),bodyText:"PHOTO_PROMO_POP_TEXT1",isImageLinkActive:!1,actionText:"PHOTO_PROMO_POP_BUTTON_TEXT",actionUrl:"PHOTO_PROMO_POP_BUTTON_URL",biEvent:t.bi.events.photographyPromotionPopup.submit_video_clicked})}}}}return{create:r}}),define("rEditor/app/APISections/togglePreviewWrapper",["lodash","core","baseUI","constants","util","stateManagement"],function(e,t,o,i,n,a){"use strict";function r(r){function s(s){var c=e.isFunction(s)?[s]:[];c.push(l),r.developerMode.setContext(r.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),function(){var t=r.store.getState().eventCounters,o=e.defaults({clearTextSelection:t.clearTextSelection+1},t);r.store.dispatch(a.legacy.setState({eventCounters:o}))}(),o.tooltipManager.hide(i.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),n.keyboardShortcuts.setContext(n.keyboardShortcuts.CONTEXTS.PREVIEW),function(t){var o=u.concat(t);r.updateState({previewMode:!0,contextMenu:null},function(){e.invokeMap(o,Function.call),r.documentServices.waitForChangesApplied(r.actions.executeAnimationsInPage)})}(c)}function l(){var e=r.isMobileEditor(),o=!a.userPreferences.selectors.getSiteUserPreferences(t.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN)(r.store.getState());!e&&o&&(r.store.dispatch(a.userPreferences.logic.setSiteUserPreferences(t.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN,!0)),r.waitForChangesApplied(r.topBar.animateModeSwitch))}function c(e){var t=d();t&&(r.panelManager.closeAllPanels(),r.selection.deselectComponents()),r.prepareDocumentForPreviewMode(t),r.setRenderPlugins(t),r.documentServices.waitForChangesApplied(function(){t?s(e):function(){r.documentServices.components.modes.resetAllActiveModes();var e=r.site.getScroll();r.scroll.scrollTo({scrollLeft:e.x,scrollTop:e.y}),r.updateState({previewMode:!1},function(){r.hideFloatingBubble(),n.keyboardShortcuts.setContext(n.keyboardShortcuts.CONTEXTS.EDITOR),r.isMobileEditor()&&r.panelHelpers.openMobileEditorFirstTimePanelIfNeeded()})}()})}function p(){return!!r.store.getState().previewMode}function d(){return!p()}var u=[];return{registerToGoToPreview:function(e){u.push(e)},togglePreview:function(t){d()?r.wixCode.prepareBeforePreview(e.partial(c,t)):c(t)},isInPreviewMode:p}}return{create:r}}),define("rEditor/app/APISections/account",["lodash","jquery","util","core","rEditor/bi/bi","stateManagement"],function(e,t,o,i,n,a){"use strict";return{create:function(r){function s(){var e=r.documentServices.generalInfo.getMetaSiteId(),t=l+"history/"+e+"/?referralInfo=EDITOR";window.open(t)}var l=o.serviceTopology.dashboardUrl.replace(/create\//,"")+"/",c="1480c568-5cbd-9392-5604-1148f5faffa0",p={},d="https://www."+o.serviceTopology.serverName+"/_api/wix-laboratory-server/laboratory/conductAllInScope?scope=my-account",u="specs.wos.OpenNewSEOWizard";return{isUserOwner:function(){var e=o.editorModel.permissionsInfo;return e&&e.ownerId===e.loggedInUserId},isUserContributor:function(){return!r.account.isUserOwner()},openConnectDomain:function(t,o){var i=r.documentServices.generalInfo.isFirstSave();o=e.isBoolean(o)?o:!r.documentServices.generalInfo.isSitePublished();var n=r.site.isPremium();r.panelManager.openPanel("savePublish.panels.connectDomain",{isFirstSave:i,isFirstPublish:o,isPremium:n,title:"PREMIUM_PUBLISH_TITLE",subtitle:n?"PREMIUM_PUBLISH_SUBTITLE":"CONNECT_DOMAIN_DIALOG_FREE_SUBTITLE",flowId:t},!0)},openSettings:function(e,t){r.panelManager.openPanel("rEditor.panels.siteSettingsPanel",{helpId:"49cebc11-f15c-4cf8-82d9-2c36c5397520",tab:e,referrer:t})},openRevisions:function(){a.userPreferences.selectors.getSiteUserPreferences(i.constants.USER_PREFS.SITE_REVISIONS.SITE_HISTORY_DONT_SHOW_AGAIN)(r.store.getState())?s():r.panelManager.openPanel("panels.messagePanels.siteRevisionsPanel",{onButtonClick:function(e){e&&r.account.openSiteHistory()}})},manage:function(){var e=r.documentServices.generalInfo.getMetaSiteId();window.open(l+"sites/"+e+"/?referralInfo=EDITOR")},transferSite:function(){var e=r.documentServices.generalInfo.getMetaSiteId();window.open(l+"sites/"+e+"/site-settings/overview?referrer==EDITOR")},openSiteHistory:s,upgrade:function(e){var t=e.replace(/edhtml_/,"")||"unknown";r.bi.event(n.events.UPGRADE_EVENT,{origin:t});var i=r.documentServices.generalInfo.getMetaSiteId(),a=e?"referralAdditionalInfo="+e:"",s=o.serviceTopology.premiumServerUrl||"https://premium.wix.com";s+="/wix/api/premiumStart?"+a+"&siteGuid="+i,window.open(s)},getEditorVersionsInfo:function(){return window.editorVersionsInfo||null},getWixSEOWizURL:function(e){var t=r.documentServices.generalInfo.getMetaSiteId(),o=l+"sites/"+t+"/app/"+c+"?app=seo";return e?o+"&referralInfo="+e:o},openWixSEOWiz:function(e){window.open(r.account.getWixSEOWizURL(e),"_blank")},initMyAccountExperiments:function(){t.ajax({url:d,xhrFields:{withCredentials:!0},success:function(e){p=e}})},isWixSEOWizExperimentOpen:function(){return"true"===p[u]}}}}}),define("rEditor/app/APISections/mobileEditor",["lodash","core","coreUtilsLib","util","baseUI","mobileEditor","constants","stateManagement","experiment"],function(e,t,o,i,n,a,r,s,l){"use strict";function c(n){function c(t,o){var i=e.assign({},n.store.getState().mobile,{reAddedHiddenElement:{compRef:t,addingPhase:o}});n.updateState({mobile:i})}function m(){return n.store.getState().mobile.isHiddenItemsCounterVisible}function g(){c(null,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE)}function f(o){var i=e.defaults({targetId:o.id},u);n.components.behaviors.previewAnimation(o,i,function(e){n.selection.selectComponentByCompRef(e),n.documentServices.documentMode.setComponentVisibility(e.id,!0),c(e,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.FINISH),window.clearTimeout(y),y=window.setTimeout(g,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.TOOLTIP_TIMEOUT)}.bind(this,o))}function h(e,i){l.isOpen("se_animateReAddMobileItem")&&n.documentServices.documentMode.setComponentVisibility(e,!1),n.documentServices.mobile.hiddenComponents.show(e,i),l.isOpen("se_animateReAddMobileItem")&&n.documentServices.waitForChangesApplied(function(e){var i=n.components.get.byId(e);c(i,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IN_PROGRESS);var a=n.components.layout.getRelativeToScreen(i).y-d,r=o.scrollUtils.calcScrollDuration(n.site.getScroll().y,a,n.isMobileEditor());n.scroll.animateScrollTo({y:a},r,f.bind(this,i))}.bind(this,e))}function b(){var e=n.documentServices.pages.getFocusedPageId();n.mobile.reLayoutPage(e),n.history.add("relayout"),n.bi.event(t.bi.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_REFRESH_LAYOUT_CLICK,{current_page_name:e}),function(){var e=i.url.isQA();return"true"===i.url.getParameterByName("qa_magicLayoutTooltip")||!e}()&&function(){var e=r.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.MOBILE_OPTIMIZE_LAYOUT_UNDO;n.topBarMenuBar.openDropDown(e),window.setTimeout(n.topBarMenuBar.closeDropDown.bind(n,e),5e3)}()}var y=null;return{mobileOnlyComponents:{enableBackToTopButton:function(e){n.documentServices.mobile.mobileOnlyComponents.enableBackToTopButton(e)},removeQuickActionBar:function(){n.documentServices.mobile.qab.clearActions(),e.some(n.panelManager.getPanelsOfType("leftPanelFrame"),{name:"mobileEditor.mobileElementsPanel"})||p.show("mobileElementsPanel_quickActionBar_afterRemove")}},hiddenComponents:{get:function(e){return n.documentServices.mobile.hiddenComponents.get(e)},show:h,getReAddedHiddenElement:function(){return n.store.getState().mobile.reAddedHiddenElement},setReAddedHiddenElement:c},hideHiddenItemsCounter:function(){m()&&n.updateState({mobile:e.defaults({isHiddenItemsCounterVisible:!1},n.store.getState().mobile)},function(){n.store.dispatch(s.leftBar.actions.setNotificationsCount("mobileEditor.hiddenItemsPanel",0))})},optimizeLayout:b,updateLeftBarNotificationsCount:function(){if(n.documentServices.pages.getFocusedPageId()){var e=l.isOpen("se_mobileHiddenItemsCounter")&&m()?a.hiddenItemsUtils.getFocusedPageHiddenComps(n,n.documentServices.pages.getFocusedPageId()).length:0;n.store.dispatch(s.leftBar.actions.setNotificationsCount("mobileEditor.hiddenItemsPanel",e))}}}}var p=n.tooltipManager,d=50,u={action:"",duration:.3,name:"FadeIn"};return{create:c}}),define("rEditor/app/APISections/mouseActions",["lodash","util"],function(e,t){"use strict";return{create:function(o){function i(i){i.preventDefault();var n=o.store.getState();r&&e.isFunction(r.on)&&(!n.performingMouseMoveAction&&(t.keyboardShortcuts.disable(),o.updateState({performingMouseMoveAction:!0,lastSelectionClickPos:null})),r.on(i))}function n(o){o.preventDefault(),r&&e.isFunction(r.end)&&r.end(o),t.keyboardShortcuts.enable(),a()}function a(){window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n);var t={isUsingWindowMouseEvents:!1,performingMouseMoveAction:!1};e.isEqual(t,e.pick(o.store.getState(),e.keys(t)))||o.updateState(t),r=null}var r=null;return{isPerformingMouseMoveAction:function(){return o.store.getState().performingMouseMoveAction},onMouseMove:i,onMouseUp:n,onEditorViewMouseMove:function(e){var t=o.store.getState();r&&!t.isUsingWindowMouseEvents&&i(e)},onEditorViewMouseUp:function(e){var t=o.store.getState();r&&!t.isUsingWindowMouseEvents&&n(e)},turnOffMouseEvents:a,registerMouseMoveAction:function(t,a,s){e.isFunction(t.start)&&t.start(o,a),s&&(window.addEventListener("mousemove",i),window.addEventListener("mouseup",n)),r=t,o.updateState({isUsingWindowMouseEvents:!!s})},shouldInitLassoToolOnMouseDown:function(e){var i=o.selection.getSelectedComponents();if(o.selection.isSelectedCompUnderCursorAndBeneathSiteSegment(i,e))return!1;var n=o.selection.getComponentUnderClickToBeSelected(e);if(t.browserUtil.isSpecialKeyPressed(e))return!0;if(o.selection.isHiddenComponentDraggedNext())return!1;if(o.components.is.siteSegment(n)||o.components.is.page(n))return!0;var a=o.components.is.container(n),r=o.components.is.allowLassoOnContainer(n);return a&&r&&(!o.selection.isComponentSelected(n)||!o.components.is.movable(n))},getRegisteredMouseMoveAction:function(){return r},setRegisteredMouseMoveAction:function(e){r=e}}}}}),define("rEditor/app/APISections/tpaWrapper",["lodash","tpa"],function(e,t){"use strict";return{create:function(e){return{addApplication:function(o,i){return new Promise(function(n,a){t.services.tpaAddAppService.isAppInstalled(e,o,!0)?a(new Error("Application already installed.")):e.documentServices.tpa.appMarket.getDataAsync(o).then(function(r){if(r&&!r.error){var s="Wix"===r.by;if(s){var l=r.hasSection?"tpaSection":"tpaWidget",c=t.constants.BI.initiator.PLATFORM;t.services.tpaAddAppService.addApp(e,o,r.name,null,l,c,!s,{adding_method:"platform"},i,n)}else a(new Error("Only wix apps are allowed"))}else a(new Error("Application with "+o+" appDefinitionId do not exist."))})})},addComponent:function(o){return new Promise(function(i,n){t.services.tpaAddComponentService.addComponent(e,null,o,function(e){e.onError?n(new Error(e.onError)):i(e)})})}}}}}),define("rEditor/app/APISections/mediaWrapper",["rEditor/utils/multiSelectHandler"],function(e){"use strict";return{create:function(t){return{vectorImage:{getSvgOriginalAspectRatio:function(o){return e.call(t,o,{multiCompHandler:t.multiselect.media.getSvgOriginalAspectRatio,singleCompHandler:t.documentServices.media.vectorImage.getSvgOriginalAspectRatio})}}}}}}),define("rEditor/app/pluginService",["lodash"],function(e){"use strict";return{create:function(){var t={};return{pluginConstants:{DOUBLE_CLICK:"doubleClick"},registerPlugin:function(o,i,n){e.set(t,[o,i],n)},getPlugin:function(o,i){return e.get(t,[o,i])}}}}}),define("rEditor/app/updateThemePlugins/tinyMenu",["lodash"],function(e){"use strict";return function(t,o){if(o&&o.style&&o.style.properties){var i=o.style.properties,n=o.style.propertiesSource,a=i["alpha-txt"];if(e.isUndefined(a)||(e.isUndefined(i["alpha-iconcolor"])&&(i["alpha-iconcolor"]=a),e.isUndefined(i["alpha-bordercolor"])&&(i["alpha-bordercolor"]=a)),delete i["alpha-txt"],delete i["alpha-txts"],n){var r=n["alpha-txt"];n["alpha-iconcolor"]=n["alpha-iconcolor"]||r,n["alpha-bordercolor"]=n["alpha-bordercolor"]||r,delete n["alpha-txt"],delete n["alpha-txts"]}}}}),define("rEditor/app/updateThemePlugins/designDataThemeChangeHandler",["lodash","util"],function(e,t){"use strict";return function(o,i){var n=i.values;"COLOR"===i.type&&e(o.components.getAllComponents()).reduce(function(e,t){var i=o.components.design.get(t);return i&&e.push({pointer:t,data:i}),e},[]).forEach(function(e){var i=e.data;t.designData.updateThemeColors(i,n),o.components.design.update(e.pointer,i,!0)})}}),define("rEditor/app/updateThemePlugins",["lodash","rEditor/app/updateThemePlugins/tinyMenu","rEditor/app/updateThemePlugins/designDataThemeChangeHandler"],function(e,t,o){"use strict";function i(e,t){var o=n[t.skin];o&&o(e,t)}var n={"wysiwyg.viewer.skins.mobile.TinyMenuSkin":t};return{register:function(t){t.theme.styles.registerHook(i);var n=e.bind(o,{},t);t.documentServices.theme.events.onChange.addListener(n)}}}),define("rEditor/app/tooltipTextService",["lodash"],function(e){"use strict";var t={};return{registerTooltipText:function(o,i,n){e.isUndefined(t[o])&&(t[o]={}),t[o][i]=n},getTooltipText:function(e,o){return t[e]?t[e][o]||null:null},getSelectedComponentTooltipText:function(e){var t=this.selection.getSelectedComponents();return this.tooltipTextService.getComponentTooltipText(t,e)},getComponentTooltipText:function(e,t){var o=this.components.getType(e);return this.tooltipTextService.getTooltipText(o,t)},clearAllToolTipsText:function(){t={}}}}),define("rEditor/pasteLogic/pasteLogicCalculations",["experiment"],function(e){"use strict";var t={xOffset:40,yOffset:30,newStackOffset:{x:60,y:40},bottomThreshold:80,rightThreshold:80};return{getNextComponentPosition:function(o){return e.isOpen("se_pasteBehaviorFix")&&(t.xOffset=20,t.yOffset=20),{x:o.x+t.xOffset,y:o.y+t.yOffset}},getNewStackComponentPosition:function(e){return{x:e.x+t.newStackOffset.x,y:e.y-t.newStackOffset.y}},cannotFitIntoViewPort:function(e,o,i){var n=t.rightThreshold,a=t.bottomThreshold;return i&&(n=0,a=0),o.x+n>e.rightX||o.y+a>e.stageLayout.bottom+e.scrollTop},getCenteredCompPosition:function(t,o,i){if(e.isOpen("se_pasteBehaviorFix"))return function(e,t,o){var i=e.documentServices.siteSegments.getPagesContainer(),n=e.components.layout.getRelativeToScreen(i);return{x:(n.width-o.width)/2+n.x,y:(t.stageLayout.height-o.height)/2+t.scrollTop+n.y}}(t,o,i);var n=t.documentServices.siteSegments.getPagesContainer(),a=t.documentServices.siteSegments.layout.get(n);return{x:(a.width-i.width)/2,y:(o.stageLayout.height-i.height)/2+o.scrollTop-a.y}},isComponentInViewPort:function(e,o){return o.y>=e.stageLayout.top&&o.y+t.bottomThreshold<=e.stageLayout.bottom-e.stageLayout.top+e.scrollTop},cannotFitIntoPageHeight:function(e,t,o){var i=e.documentServices.siteSegments.getPagesContainer(),n=e.documentServices.siteSegments.layout.get(i);return o.y>n.height+t.stageLayout.top}}}),define("rEditor/pasteLogic/ComponentPasteLogic",["lodash","core","rEditor/pasteLogic/pasteLogicCalculations"],function(e,t,o){"use strict";function i(e){return e!==this.lastCompPage}function n(e,t,n,a){var r={};if(function(e,t,n){return this.centerOnFirstPaste||i.call(this,n)&&o.cannotFitIntoPageHeight(e,t,this.originalCompPosition)}.call(this,e,t,a))(function(e){return e.y<0})(r=o.getCenteredCompPosition(e,t,n))&&(r.y=0);else if(i.call(this,a))!function(e,t,i){o.isComponentInViewPort(t,i)||e.ui.scroll.setScroll({scrollLeft:0,scrollTop:i.y})}(e,t,r=this.originalCompPosition);else{var s=e.ui.scroll.getScroll();r={x:this.originalCompPosition.x,y:this.originalCompPosition.y-this.originalScrollPosition+s.scrollTop}}return this.firstCompPosition=r,r}function a(e){e=e||{},this.originalCompPosition={},this.originalScrollPosition=0,this.firstCompPosition={},this.lastCompPosition={},this.lastCompPage="",this.centerOnFirstPaste=e.centerOnFirstPaste||!1,this.lastScrollPosition=null}return a.prototype.setPasteData=function(e,t,o){this.originalScrollPosition=o.scrollTop,this.originalCompPosition={x:e.x,y:e.y},this.firstCompPosition={x:e.x,y:e.y},this.lastCompPosition={x:e.x,y:e.y},this.lastCompPage=t},a.prototype.resetPastePosition=function(){this.firstCompPosition={},this.lastCompPosition={}},a.prototype.getPastePosition=function(a,r,s){var l=a.ui.scroll.getScroll();this.lastScrollPosition&&!e.isEqual(l,this.lastScrollPosition)&&this.resetPastePosition();var c=t.utils.stageUtils.getViewPort(!0),p=e.pick(r,["width","height"]),d={};return function(e){this.lastCompPage||(this.lastCompPage=e),i.call(this,e)&&this.resetPastePosition()}.call(this,s),d=function(){return e.isEmpty(this.firstCompPosition)}.call(this)?n.call(this,a,c,p,s):function(e){var t=o.getNextComponentPosition(this.lastCompPosition);return o.cannotFitIntoViewPort(e,t)&&(t=o.getNewStackComponentPosition(this.firstCompPosition),this.firstCompPosition=t),t}.call(this,c),this.lastCompPosition=d,this.lastCompPage=s,this.lastScrollPosition=l,e.clone(d)},a}),define("rEditor/pasteLogic/AddPanelPasteLogic",["rEditor/pasteLogic/ComponentPasteLogic"],function(e){"use strict";function t(){e.call(this,{centerOnFirstPaste:!0}),this.lastCompTypeAdded=""}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.getPastePosition=function(t,o,i,n){return n!==this.lastCompTypeAdded&&this.resetPastePosition(),this.lastCompTypeAdded=n,e.prototype.getPastePosition.call(this,t,o,i)},t}),define("rEditor/pasteLogic/pasteLogicContext",["lodash","rEditor/pasteLogic/ComponentPasteLogic","rEditor/pasteLogic/AddPanelPasteLogic"],function(e,t,o){"use strict";return{pasteContext:new t,duplicateContext:new t,addContext:new t({centerOnFirstPaste:!0}),addPanelPasteLogic:new o}}),define("rEditor/utils/openPanelByURLData",["lodash","experiment"],function(e,t){"use strict";var o={addPanel:{name:"addPanelInfra.addPanel",propsGenarator:function(e,t){return{category:e,section:t}}},siteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(e){return{tab:e}}},pagesPanel:{name:t.isOpen("newPagesPanel")?"pages.pagesPanel":"rEditor.panels.pagesAndPopupsPanel",propsGenarator:function(e){return{initialSettingsTabType:e}}},feedMe:{name:"panels.focusPanels.feedbackPanel"},blog:{name:"blog.menuPanel"},background:{name:"rEditor.panels.backgroundPanel"},wixStore:{name:"wixStore.panels.wixStorePanel",shouldOpenPanelByRestrictions:function(e){return e.documentServices.tpa.app.isInstalled("1380b703-ce81-ff05-f115-39571d94dfcd")}},accessibilityPanel:{name:"panels.focusPanels.accessibilityPanel"}},i={mobileHidden:{name:"mobileEditor.hiddenItemsPanel"},mobileBackground:{name:"rEditor.panels.backgroundPanel"},mobileSiteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(e){return{tab:e}}},mobileElements:{name:"mobileEditor.mobileElementsPanel",propsGenarator:function(e){return{mobileElementId:e}}},mobileLayoutOptimizer:{name:"mobileEditor.layoutOptimizerPanel"}};return{allPanels:function(){var t=e.merge({},o,i);return e.mapKeys(t,function(e,t){return t.toLowerCase()})}(),mobilePanels:e.mapKeys(i,function(e,t){return t.toLowerCase()})}}),define("rEditor/utils/openPanelByURL",["lodash","rEditor/utils/openPanelByURLData"],function(e,t){"use strict";function o(e){var t=i(e),o=t?t.split("."):"",n=o?o[0]:"";return"mobile"===n||function(e){return e&&!!r[e]}(n)}function i(t){var o=e.mapKeys(t,function(e,t){return t.toLowerCase()}).openpanel;return o?o.toLowerCase():""}function n(t,o){var n=i(t);if(function(t,o){if(t){var i=t.split(".")[0],n=!e.isFunction(e.get(a[i],"shouldOpenPanelByRestrictions"))||a[i].shouldOpenPanelByRestrictions(o);return!!a[i]&&n}}(n,o)){var r=a[n.split(".")[0]].name,s=function(t){var o=t.split("."),i=o[0],n=o.slice(1);if(a[i]&&e.isFunction(a[i].propsGenarator)&&n.length){var r=a[i].propsGenarator.apply(null,n);return e.omit(r,e.isUndefined)}return{}}(n);o.panelManager.openPanel(r,s)}}var a=t.allPanels,r=t.mobilePanels;return{shouldLoadMobileEditor:o,openPanel:n}}),define("rEditor/app/EditorAPI",["coreUtilsLib","lodash","jquery","core","baseUI","panels","util","tpa","shoutOut","wixStore","wixBookings","mediaServices","compPanels","rEditor/app/panelHelpers","rEditor/app/updateOperationsPlugins","rEditor/app/pluginsRegistrar","userPreferences","savePublish","gfppData","platform","addPanel","rEditor/rootComps/gfpp/gfppModel","rEditor/app/APISections/concurrentUsersWrapper","rEditor/app/APISections/themeWrapper","rEditor/app/APISections/historyWrapper","rEditor/app/APISections/imageCrop","rEditor/app/APISections/siteWrapper","rEditor/app/APISections/developerMode","rEditor/app/APISections/selectedComponent","rEditor/app/APISections/savePublishWrapper","rEditor/app/APISections/componentsWrapper","rEditor/app/APISections/rulersAPI","rEditor/app/APISections/tabIndicationState","rEditor/app/APISections/feedback","rEditor/app/APISections/mainMenuWrapper","rEditor/app/APISections/menuWrapper","rEditor/app/APISections/multiselect","rEditor/app/APISections/addPanelAPI","rEditor/app/APISections/topBarAPI","rEditor/app/APISections/selection","rEditor/app/APISections/databaseEditor","rEditor/app/APISections/welcomeScreensWrapper","rEditor/app/APISections/copyPasteWrapper","rEditor/app/APISections/wixStoresFlowAPI","rEditor/app/APISections/editorUI","rEditor/app/APISections/wixCode","rEditor/app/APISections/columns","rEditor/app/APISections/pagesWrapper","rEditor/app/APISections/layoutersWrapper","rEditor/app/APISections/platformWrapper","rEditor/app/APISections/pinModeWrapper","rEditor/app/APISections/promotionsWrapper","rEditor/app/APISections/togglePreviewWrapper","rEditor/app/APISections/account","rEditor/app/APISections/mobileEditor","rEditor/app/APISections/mouseActions","rEditor/app/APISections/tpaWrapper","rEditor/app/APISections/mediaWrapper","rEditor/app/pluginService","rEditor/app/updateThemePlugins","rEditor/app/tooltipTextService","rEditor/pasteLogic/pasteLogicContext","rEditor/utils/openPanelByURL","textControls","blog","editorEventRegistry","experiment","constants","rEditor/bi/bi","stateManagement","uiAnimations"],function(e,t,o,i,n,a,r,s,l,c,p,d,u,m,g,f,h,b,y,v,S,P,E,C,T,I,_,M,O,A,w,R,k,D,x,N,L,B,F,U,H,G,q,V,z,W,j,Y,K,X,Z,Q,J,$,ee,te,oe,ie,ne,ae,re,se,le,ce,pe,de,ue,me,ge,fe){"use strict";function he(he,Oe){function Ae(e){if(it.store.dispatch(fe.legacy.setState({previewReady:!0})),e&&(ke(e),it.bi.event=We),Fe(),$e.complete(function(e,o){if("success"===o){var i=e.responseJSON,n=i.payload&&i.payload.fields;he.dispatch(fe.userProfile.actions.setUserProfile(t.keyBy(n,"name")))}}),xe(),it.components.onPreviewReady(),it.account.initMyAccountExperiments(),Re(),it.saveManager.setTimerForSaveReminder(),it.feedback.init(),it.documentServices.registerToSiteChanged(it.notifyViewerUpdate),it.autosaveManager.init(),it.documentServices.documentMode.enableAction("screenIn",!1),it.documentServices.documentMode.enableAction("scrollScrub",!1),it.documentServices.documentMode.enableAction("viewportEnter",!1),it.documentServices.documentMode.enableAction("viewportLeave",!1),it.documentServices.documentMode.enableAction("modeChange",!1),it.documentServices.documentMode.enableAction("load",!1),it.documentServices.documentMode.enableAction("exit",!1),it.documentServices.documentMode.enableBgVideoAutoplay(!1),it.documentServices.generalInfo.isFirstSave()||it.store.dispatch(fe.leftBar.logic.collapseMenu()),i.bi.registerEvents(it),De(),it.campaigns.fetchCampaignInfo(),it.documentServices.generalInfo.isFirstSave()&&it.initTemplateCharacterSet(),it.store.dispatch(fe.uploadedFonts.logic.init()),$e.then(it.promotions.initPromotions),function(e){var o=r.url.parseUrl(window.document.location.href).query||"",i=t.mapKeys(o,function(e,t){return t.toLowerCase()}),n=t.partial(le.openPanel,i,e);i.pageid?e.pages.navigateTo(i.pageid,n):n()}(it),B.loadAndCreate(it,we),ue.isOpen("se_multilingual")){var o=r.url.parseUrlParams(window.location),n=o.languages&&o.languages.split(","),a=it.documentServices.generalInfo.isFirstSave();if(n&&a){var s=S.sections.getSections().menu.languageSelectorSection.props.items[0],l=it.documentServices.siteSegments.getHeader();it.components.add(l,s.structure,void 0,function(e){it.selection.selectComponentByCompRef(e)})}}it.store.dispatch(fe.legacy.logic.onPreviewReady())}function we(e){it.addPanel=e,function(e){var t=e.documentServices.generalInfo.getUserInfo().email;e.mediaServices.setIsEmailWithWixDomain(/@wix\.com$/.test(t)),e.mediaServices.setSiteMediaToken(e.documentServices.generalInfo.getSiteToken()),e.savePublish.registerFirstSaveCallback(function(){e.mediaServices.setSiteMediaToken(e.documentServices.generalInfo.getSiteToken())})}(it);var t=it.editorEventRegistry.constants.events.ADD_PANEL_LOADED;s.onPreviewReady(it),c.onPreviewReady(it),l.onPreviewReady(it),p.onPreviewReady(it),pe.onPreviewReady(it),u.onPreviewReady(it),r.automationUtil.onPreviewReady(it),it.bi.event(i.bi.events.editor.Add_PANEL_LOADED,{}),it.editorEventRegistry.dispatch(t,it)}function Re(){var e=it.documentServices.seo.title.get()||"",t=it.documentServices.seo.description.get()||"",o=it.documentServices.seo.keywords.get()||"",i=it.homePage.get(),n=it.documentServices.pages.data.get(i);n.pageTitleSEO=e,n.descriptionSEO=t,n.metaKeywordsSEO=o,it.pages.data.update(i,n)}function ke(e){var o=void 0;o=ue.isOpen("cachedDocumentServices")&&e.withCache?e.withCache():e,function(e,o){t.defaultsDeep(e,o)}(it,o),it.documentServices=o,he.dispatch(fe.legacy.logic.loadDocumentServices(o)),window.documentServicesReady=!0}function De(){f.register(it),ae.register(it)}function xe(){function e(e){$e.then(function(){n=n||e===i.constants.USER_PREFS.TYPES.GLOBAL,a=a||e===i.constants.USER_PREFS.TYPES.SITE,n&&(a||r)&&(it.userPreferencesInitCallbacksInvoked=!0,t.forEach(it.userPreferencesInitCallbacks,function(e){e()}))})}var o=it.documentServices.generalInfo.getSiteId(),n=void 0,a=void 0,r=it.documentServices.generalInfo.isFirstSave();he.dispatch(fe.userPreferences.logic.loadGlobalPreferences()).then(t.partial(e,i.constants.USER_PREFS.TYPES.GLOBAL)),r||he.dispatch(fe.userPreferences.logic.loadSitePreferences(o,!1)).then(t.partial(e,i.constants.USER_PREFS.TYPES.SITE)).catch(t.partial(e,i.constants.USER_PREFS.TYPES.SITE))}function Ne(e){var o=he.getState(),i=t.isUndefined(e)?o.hideTools&&!o.hideToolsAndMaintainStagePosition:e,n=Ce.TOPBAR_HEIGHT;return i&&(n-=Ce.OFFSET_TOP_WHEN_TOOLS_HIDDEN),it.isMobileEditor()&&(n+=Ce.MOBILE_PREVIEW_TOP),n}function Le(e){it.updateState({scrollTo:e})}function Be(){return he.getState().openPanels}function Fe(){var e=he.getState();e.editorIsInit||it.prepareDocumentForPreviewMode(!1);var o=Pe(e),i=it.getPendingStateChanges();it.pendingStateChanges={},it.pendingEditorStateUpdateCallbacks=[];var n=t.filter(o,it.documentServices.components.is.rendered),a=!t.isEqual(n,o);a&&(it.mouseActions.turnOffMouseEvents(),it.pendingStateChanges.focusedContainer=null);var r=it.documentServices.viewMode&&it.documentServices.viewMode.get()===it.documentServices.viewMode.VIEW_MODES.MOBILE,s=t.defaults({config:t.defaults({previewHeight:it.documentServices.site.getHeight()},he.getState().config),previewPosition:t.defaults({top:Ne()},e.previewPosition),editorIsInit:!0,isMobileEditor:r,viewerRendersCounter:e.viewerRendersCounter+1},i);he.dispatch(fe.legacy.setState(s)),a?it.selection.selectComponentByCompRef(n):e.performingMouseMoveAction||he.dispatch(Se(Ve(Pe(he.getState())))),he.dispatch(fe.highlights.logic.updateHighlights()),it.shouldUpdateEditorScrollAfterHeightUpdate&&(it.applyPreviewScrollToEditorScroll(),it.shouldUpdateEditorScrollAfterHeightUpdate=!1),he.flush()}function Ue(e){return it.documentServices.tpa.isTpaByCompType(e)}function He(e){it.documentServices.renderPlugins.allowSiteOverflow(e),it.documentServices.renderPlugins.setExtraSiteHeight(e||it.isMobileEditor()?0:it.editorConfig.extraSiteHeight),it.documentServices.renderPlugins.setPreviewTooltipCallback(function(e,o){var n=function(e,o){var i=t.pick(e,["top","left","height","width"]);return i.top+=o,i}(e,it.getPreviewPosition().top);it.showFloatingBubble(o,n),_e=window.setTimeout(it.hideFloatingBubble,i.constants.PREVIEW.FLOATING_BUBBLE_TIMEOUT)}),it.documentServices.renderPlugins.setErrorPagesPopUp(function(e){it.preview.isInPreviewMode&&it.panelManager.openPanel("panels.errorPages.errorPagePanel",{errorInfo:e,routerAddress:e.routerUrl})})}function Ge(e){var t=he.getState();if(!e||t.isOpenTextEditor||fe.pinMode.selectors.isOpen(t))return{horizontallyMovable:!1,verticallyMovable:!1};var o=it.components.getRestrictions(e,["verticallyMovable"]);return o.horizontallyMovable=fe.componentMetaData.isHorizontallyMovable(it.components.asArray(e),it.documentServices),o}function qe(e){var o=Ge(e);return e&&t.assign(o,{canMoveForward:it.components.arrangement.canMoveForward(e),canMoveBackward:it.components.arrangement.canMoveBackward(e)}),o}function Ve(e){if(t.isEmpty(e))return{};var o=qe(e),i=it.components.layout.isPinned(e),n=he.getState().isOpenTextEditor,a=["container","containable","movable","alignable","canMoveUp","resizable","disabledKnobs","duplicatable","fixed","showLegacyFixedPosition","anchorableFrom","anchorableTo","controlledByParent"];return i||a.push("horizontallyResizable","verticallyResizable","rotatable","duplicatable"),n||a.push("removable"),t.assign(o,it.components.getRestrictions(e,a)),i&&(o.horizontallyResizable=!1,o.verticallyResizable=!1,o.rotatable=!1,o.duplicatable=!1),n&&(o.removable=!1),t.assign(o,{resizeableSides:it.components.layout.getResizableSides(e),canBeFixed:it.components.layout.canBeFixedPosition(e),resizeOnlyProportionally:it.resizeOnlyProportionally(e),canToggleShowOnAllPages:it.components.canToggleShowOnAllPages(e),canResizeWithAnchors:it.components.layout.getResizableWithAnchors(e),canResizeDiagonally:it.components.layout.getResizableDiagonally(e)}),o}function ze(){return it.store.getState().previewReady}function We(e,t){he.dispatch(fe.bi.event(e,t))}function je(e,o){var n=he.getState().topBar;n.dropPanelDisabled||(Ke({topBar:t.defaults({openedDropPanel:e,shouldDropPanelRemainOpen:o},n)}),it.openPanelTimeout&&window.clearTimeout(it.openPanelTimeout),e&&(it.openPanelTimeout=window.setTimeout(function(){it.bi.event(i.bi.events.topbar.TOP_BAR_PANEL_OPENED,{menu_name:e})},3e3)))}function Ye(e){return it.panelHelpers.openPagesPanel(e)}function Ke(e,o){t.isFunction(o)&&(null===t.last(tt)&&(tt=[],ot=-1),tt.push(o));var i=t.defaults({__renderCounter:tt.length},e);he.dispatch(fe.legacy.setState(i))}var Xe={scrollTop:0,scrollLeft:0},Ze=function(e,t){return he.dispatch(fe.userPreferences.logic.setSiteUserPreferences(e,t))},Qe=function(e,t){return he.dispatch(fe.userPreferences.logic.setSessionUserPreferences(e,t))},Je=function(e){return fe.userPreferences.selectors.getSiteUserPreferences(e)(he.getState())},$e=function(){var e=(r.serviceTopology.wixStoresMigrationServiceUrl.replace(/ecommerce-migration-web\//,"bi-profile-webapp/userprofile")||"https://editor.wix.com/_api/wix-bi-profile-webapp/userprofile")+"?fields=post_reg_category,post_reg_sub_category,wix_code_exposure_flag&accept=json";return o.ajax(e)}(),et=t.curry(function(e,o){if(!t.isUndefined(o)&&!t.isEqual(o,he.getState()[e])){var i={};i[e]=o,he.dispatch(fe.legacy.setState(i))}}),tt=[],ot=-1,it={store:he,onPreviewReady:Ae,onRenderDone:function(e){var o=void 0;for(o=ot+1;o<e;o++)ot++,t.isFunction(tt[o])&&tt[o](),tt[o]=null},updateState:Ke,isMetaSiteFlagOpen:function(e){return t.includes(r.editorModel.metaSiteFlags,e)},synchronizeSiteSEOToMainPageSEO:Re,initTemplateCharacterSet:function(){var e=it.documentServices.theme.fonts.getCharacterSet();if(function(e){return t.isEqual(e,Ie)}(e)||function(e){return t.includes(e,"arabic")&&t.includes(e,"hebrew")}(e)){var o=it.documentServices.theme.fonts.getLanguageCharacterSet(it.getLanguageCode());if(o)it.documentServices.theme.fonts.updateCharacterSet(o);else{var i=it.documentServices.theme.fonts.getCharacterSetByGeo();it.documentServices.theme.fonts.updateCharacterSet(i)}}},setDocumentServices:ke,initPlugins:De,getLanguageCode:function(){return r.languages.getLanguageCode()},getViewTools:function(){return t.clone(he.getState().viewTools)},updateUserPreferencesOnPreviewReady:xe,initWelcomeScreen:function(){it.newEditorWelcomeScreenWrapper.initWelcomeScreen(it)},initViewToolsFromUserPrefs:function(){var e=i.constants.USER_PREFS.VIEW_TOOLS,o={showHiddenComponents:Je(e.SHOW_HIDDEN_COMPS),developerModeEnabled:Je(e.DEVELOPER_MODE_ENABLED),developerToolBarEnabled:Je(e.DEVELOPER_TOOLBAR_ENABLED),guidelinesEnabled:Je(e.GUIDELINES_ENABLED),sectionsHandlesEnabled:Je(e.SECTIONS_HANDLES_ENABLED),snapToEnabled:Je(e.SNAPTO_ENABLED),rulersEnabled:Je(e.RULERS_ENABLED),rulers:{guidesState:Je(e.GUIDES_STATE)}};ue.isOpen("se_toolbarVisibility")&&(o.toolbarEnabled=Je(e.TOOLBAR_ENABLED)),t.defaults(o,Te),he.dispatch(fe.legacy.setState({viewTools:o})),it.rulers.resetRulersHistory()},initUserAddedColors:function(){var e=it.documentServices.theme.colors.getCustomUsedInSkins(),t=i.constants.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED;Qe(t,e)},refreshNavControlsSize:et("navControlsSize"),refreshPreviewPosition:et("previewPosition"),refreshEditingAreaPosition:et("editingAreaPosition"),refreshMobileFramePosition:et("mobileFramePosition"),setEditBoxRotateKnobRect:et("editBoxRotateKnobRect"),getOpenPanels:Be,openLayoutTractor:function(){ue.isOpen("layoutTractor")&&it.updateState({isLayoutTractorOpen:!0})},closeLayoutTractor:function(){it.updateState({isLayoutTractorOpen:!1})},notifyViewerUpdate:function(e){t.forEach(it.viewerUpdateCallbacks,function(t){t(e)})},setStateWaitForViewer:function(e){t.assign(it.pendingStateChanges,e)},setStateUpdateCallback:function(e){it.pendingEditorStateUpdateCallbacks.push(e)},getPendingStateChanges:function(){return t.reduce(it.pendingEditorStateUpdateCallbacks,function(e,o){return t.assign(e,o())},it.pendingStateChanges)},preventMouseDown:function(){window.addEventListener("mousedown",it.preventEvent,!0),it.preventMouseDownTimeout=window.setTimeout(it.allowMouseDown,5e3)},allowMouseDown:function(){window.clearTimeout(it.preventMouseDownTimeout),window.removeEventListener("mousedown",it.preventEvent,!0)},preventEvent:function(e){e.stopPropagation(),e.preventDefault()},onViewerChanged:Fe,registerInitUserPrefsCallback:function(e){it.userPreferencesInitCallbacks.push(e),it.userPreferencesInitCallbacksInvoked&&e()},exitEditor:function(){window.open(be+"?referralInfo=EDITOR","_self")},getUserPreferences:function(){return it.userPreferences},isTpa:Ue,registerToViewerChange:function(e){it.viewerUpdateCallbacks.push(e)},registerRemovePlugin:function(e,t){it.removePlugins[e]=t},registerRemovePagePlugin:function(e,t){it.removePagePlugins[e]=t},registerComponentsRemoveHandlerPlugin:function(e){it.componentsRemoveHandlerPlugins.push(e)},registerHidePlugin:function(e,t){it.hidePlugins[e]=t},registerDuplicatePlugin:function(e,t){it.duplicatePlugins[e]=t},registerCannotRemovePlugin:function(e,t){it.cannotRemovePlugins[e]=t},registerCopyComponentPlugin:function(e,t){it.copyComponentPlugins[e]=t},registerAddComponentPlugin:function(e,t){it.addComponentPlugins[e]=t},registerPasteComponentPlugin:function(e,t){it.pasteComponentPlugins[e]=it.pasteComponentPlugins[e]||[],it.pasteComponentPlugins[e].push(t)},registerSerializeComponentPlugin:function(e,t){it.serializeComponentPlugins[e]=it.serializeComponentPlugins[e]||[],it.serializeComponentPlugins[e].push(t)},registerCutComponentPlugin:function(e,t){it.cutComponentPlugins[e]=t},registerPageNavigationCallback:function(e){it.pageNavigationCallbacks.push(e)},registerCompNamePlugin:function(e,t){it.compNamePlugins[e]=t},registerCompIconPlugin:function(e,t){it.compIconPlugins[e]=t},registerSitePublishedCallbacks:function(e){it.sitePublishedCallbacks.push(e)},registerDeviceTypeChangeCallbacks:function(e){it.deviceTypeChangeCallbacks.push(e)},applyPreviewScrollToEditorScroll:function(){if(!it.getPreviewMode()){var e=it.site.getScroll();Le({scrollLeft:e.x,scrollTop:e.y})}},setRenderPlugins:He,prepareDocumentForPreviewMode:function(e){var t=e&&it.isDesktopEditor(),o=it.documentServices.documentMode;it.documentServices.components.modes.resetAllActiveModes(),o.enablePlaying(e),o.enableZoom(e),o.enableSocialInteraction(!1),o.enableExternalNavigation(!1),o.enableSlideShowGalleryClick(e),o.enableTinyMenuOpening(e),o.enableRenderFixedPositionContainers(e),o.enableRenderFixedPositionBackgrounds(e),o.enableBackToTopButton(e),o.enablePageProtection(!1),o.toggleWixAds(e),o.enableBgVideoAutoplay(t),o.enableSiteMembersDialogsOpening(e),o.enableResetGalleryToOriginalState(e),o.enableResetComponent(!e),o.resetBehaviors(e),o.enableAction("screenIn",t),o.enableAction("viewportEnter",e),o.enableAction("viewportLeave",e),o.enableAction("load",e),o.enableAction("scrollScrub",e),o.enableAction("modeChange",t),o.enableAction("exit",t),o.enableAction("bgScrub",t),o.setExtraSiteHeight(e||it.isMobileEditor()?0:it.editorConfig.extraSiteHeight),o.enableShouldUpdateJsonFromMeasureMap(!e),o.allowSiteOverflow(e),e||(it.documentServices.pages.animations.stopAll(),o.runtime.reset()),o.setComponentViewMode(e?"preview":"editor"),o.allowWixCodeInitialization(e),o.showHiddenComponents(e?!e:it.getViewTools().showHiddenComponents),o.showControllers(e?!e:it.getViewTools().developerModeEnabled)},getPreviewPosition:function(){return he.getState().previewPosition},getNavControlsSize:function(){return he.getState().navControlsSize},getEditBoxRotateKnobRect:function(){return he.getState().editBoxRotateKnobRect},getEditingAreaPosition:function(){return he.getState().editingAreaPosition},getMobileFramePosition:function(){return he.getState().mobileFramePosition},getPreviewMode:function(){return he.getState().previewMode},isCurrentPageLandingPage:function(){var e=it.pages.getCurrentPageId();return it.documentServices.pages.isLandingPage(e)},isDesktopEditor:function(){return!it.isMobileEditor()},isMobileEditor:function(){return he.getState().isMobileEditor},getDeviceType:function(){return it.isMobileEditor()?"mobile":"desktop"},resizeOnlyProportionally:function(e){return it.components.is.resizeOnlyProportionally(e)},openCantCopyPastePanel:function(){Je(i.constants.USER_PREFS.CANT_MAKE_CHANGES.MOBILE_CANT_MAKE_CHANGE_DONT_SHOW_AGAIN)||it.panelManager.openPanel("mobileEditor.panels.cantMakeChangeMobile",{},!0)},setDesktopEditor:function(){it.setEditorMode(!1)},setMobileEditor:function(){n.tooltipManager.hide(me.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),it.setEditorMode(!0)},setEditorMode:function(e,o){if(e!==it.isMobileEditor()){t.invokeMap(it.deviceTypeChangeCallbacks,t.call),e?Ze(i.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN,!0):it.updateState({isMobileEditor:!1,mobileFramePosition:null});var n=e?it.documentServices.viewMode.VIEW_MODES.MOBILE:it.documentServices.viewMode.VIEW_MODES.DESKTOP;it.developerMode.getContext().type===i.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE&&it.panelManager.closeAllPanels(),it.selection.deselectComponents(),it.documentServices.viewMode.set(n),it.documentServices.waitForChangesApplied(function(){var t=it.documentServices.documentMode,o=it.getPreviewMode(),n=o&&!e;t.enableAction("screenIn",n),t.enableAction("load",o),t.enableAction("scrollScrub",o),t.enableAction("viewportEnter",o),t.enableAction("viewportLeave",o),t.enableAction("modeChange",n),t.enableAction("exit",n),t.enableAction("bgScrub",n),t.enableAction("pageTransition",n),t.enableBgVideoAutoplay(n),e&&(it.mobile.updateLeftBarNotificationsCount(),it.panelHelpers.openMobileEditorFirstTimePanelIfNeeded(),o||it.bi.event(i.bi.events.mobileEditor.MOBILE_EDITOR_READY))}),He(it.getPreviewMode()),!o&&e&&it.documentServices.history.canUndo()&&it.history.add("mobile structure was updated"),it.documentServices.documentMode.setExtraSiteHeight(he.getState().previewMode||e?0:it.editorConfig.extraSiteHeight),it.documentServices.documentMode.resetBehaviors(it.getPreviewMode()),it.rulers.resetRulersHistory(),e||it.documentServices.components.modes.resetAllActiveModes()}},isMobileOptimizedSite:function(){return!!it.documentServices&&it.documentServices.mobile.isOptimized()},setMobileOptimizedSite:function(e){it.documentServices&&it.documentServices.mobile.enableOptimizedView(e)},groupComponents:function(e){if(!it.components.is.groupedComponent(e)){it.selection.deselectComponents();var t=it.components.groupComponents(e);it.closeCompPanelIfExists(),it.history.add("group components"),it.documentServices.waitForChangesApplied(function(){it.selection.selectComponentByCompRef(t)})}},getLeftBarButtonsBoundingRect:function(){return he.getState().leftBar.buttonsBoundingRect},closeRightClickMenu:function(e){Ke({contextMenu:null},e)},disableRightClickMenuCloseOnOuterClick:function(){it.rightClickMenuCloseOnOuterClickDisabled=!0},enableRightClickMenuCloseOnOuterClick:function(){it.rightClickMenuCloseOnOuterClickDisabled=!1},closeCompPanelIfExists:function(){it.panelManager.getPanelsOfType("compPanelFrame").length&&it.panelManager.closeAllPanelsOfType("compPanelFrame")},openFirstTimePanel:function(e){var t=it.selection.getSelectedComponentType(e);(Je("firstTimePanelsNotToShow")||{})[t]||it.isMobileEditor()||it.panelManager.openFirstTimePanel(t)},toggleShowOnAllPages:function(e){var t=void 0;return t=it.components.isShowOnAllPages(e)?it.documentServices.pages.getReference(it.documentServices.pages.getPrimaryPageId()):it.documentServices.siteSegments.getSiteStructure(),it.components.setContainer(e,t)},getCompDragRestrictions:Ge,getCompMoveRestrictions:qe,getCompRestrictions:Ve,isPopUpMode:function(){return Boolean(ze()&&it.documentServices.pages.popupPages.getCurrentPopupId())},reportAddMenuDrag:function(e){it.bi.event(i.bi.events.addPanel.ADD_MENU_DRAG_COMPONENT,e)},editorIsInit:function(){return he.getState().editorIsInit},navigateAndOpenPagesPanel:function(e,t){it.pages.navigateTo(e,function(){Ye(t)})},openComponentPanel:function(e,o){o=o||{};var i=Pe(he.getState()),n=t.get(o,"selectedComponent",i),a=ve.getCompTypeSuffix(n,it.documentServices),r=it.getPanelPathByType(a,e);it.panelManager.openComponentPanel(r,o)},replaceComponentPanel:function(e,t){t=t||{};var o=Pe(he.getState()),i=ve.getCompTypeSuffix(o,it.documentServices),n=it.getPanelPathByType(i,e);it.panelManager.replaceComponentPanel(n,t)},openCompOutOfGridPanelIfNeeded:function(e){var t=it.utils.findAncestorMatchesCondition(e,it.components.is.showMarginsIndicator);t&&it.components.layout.isCompExceedingContainerMargin(e,t)?(it.panelHelpers.openCompOutOfGridPanel({},!0),it.bi.event(i.bi.events.columns.COLUMNS_ELEMENTS_PLACED_IN_DEAD_SPOT)):!t&&it.components.layout.isCompOutOfPageBounds(e)&&it.panelHelpers.openCompOutOfGridPanel()},openLinkPanel:function(){return it.panelHelpers.openLinkPanel.apply(this,arguments)},openPagesPanel:Ye,openColorPicker:function(e,t,o){var i={top:72,left:-12};it.panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{value:e,onChange:o.onChange,onClose:o.onClose,customInstanceColors:o.customInstanceColors,history:!1!==o.enableHistory&&it.history,palettePresets:!1!==o.allowPaletteEditing&&it.theme.colors.getColorPresets(),updateSitePalette:!1!==o.allowPaletteEditing&&it.theme.colors.update,previewOnHover:!1!==o.previewOnHover,top:t.top+i.top,left:t.left+i.left},!0)},setForceOpenPagesQuickNavigationEventCounter:function(){var e=he.getState().eventCounters,o=t.assign({},e,{forceOpenPagesQuickNavigation:e.forceOpenPagesQuickNavigation+1});he.dispatch(fe.legacy.setState({eventCounters:o}))},getForceOpenPagesQuickNavigationEventCounter:function(){return he.getState().eventCounters.forceOpenPagesQuickNavigation},setForcePageSettingsTabEventCounter:function(){var e=he.getState().eventCounters,o=t.assign({},e,{forcePageSettingsTab:e.forcePageSettingsTab+1});he.dispatch(fe.legacy.setState({eventCounters:o}))},getForcePageSettingsTabEventCounter:function(){return he.getState().eventCounters.forcePageSettingsTab},getPanelPathByType:function(e,o){var n="compPanels.panels."+e+"."+o;return t.get(u,["panels",e,o])||(it.isTpa(e)?o===i.constants.componentPanels.settings&&(n="tpa.compPanels.tpaSettings"):o===i.constants.componentPanels.animation?n="compPanels.dynamicPanels."+i.constants.componentPanels.animation:o===i.constants.componentPanels.stretching?n="compPanels.dynamicPanels."+i.constants.componentPanels.stretching:o===i.constants.componentPanels.filters?n="compPanels.dynamicPanels."+i.constants.componentPanels.filters:o===i.constants.componentPanels.effects?n="compPanels.dynamicPanels."+i.constants.componentPanels.effects:o===i.constants.componentPanels.apply?n="compPanels.dynamicPanels."+i.constants.componentPanels.apply:o===i.constants.componentPanels.design?n="designPanel."+i.constants.componentPanels.design:o===i.constants.componentPanels.customizeDesign&&(n="advancedStylePanel."+i.constants.componentPanels.customizeDesign)),n},openLearnMore:function(t){t&&"string"==typeof t&&e.log.info("opening learn more with key - ",t)},isPreviewReady:ze,setPortalChildren:function(e,o){var i=t.cloneDeep(he.getState().portalComps);t.isEmpty(o)?delete i[e]:i[e]=o,Ke({portalComps:i})},hasExternalDesign:function(e){return it.documentServices.tpa.isTpaByCompType(it.components.getType(e))},setAttachCandidate:function(e,t){t?Ke({attachCandidate:e}):it.setStateWaitForViewer({attachCandidate:e})},setConstraintArea:function(e){it.setStateWaitForViewer({constraintArea:e})},setPageSections:function(e,o){var i=t.clone(he.getState().pageSections);t.assign(i,{sections:e,selectedSection:o}),it.updateState({pageSections:i})},clearPageSections:function(){it.setPageSections(null,null)},sectionsHandles:{areSectionsHandlesEnabled:function(){return he.getState().viewTools.sectionsHandlesEnabled},toggleSectionsHandles:function(e,t){var o=!it.sectionsHandles.areSectionsHandlesEnabled();it.updateEditorViewTools("sectionsHandlesEnabled",o),Ze(i.constants.USER_PREFS.VIEW_TOOLS.SECTIONS_HANDLES_ENABLED,o).then(e).catch(t)}},setSiteScale:function(e,t){e!==he.getState().siteScale&&it.updateState({siteScale:e}),it.documentServices.site.setScrollAndScale(0,t,e,Ee),it.ui.scroll.animateScroll({x:0,y:t},Ee)},zoomMode:{enterZoomMode:function(){n.tooltipManager.hide(me.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),it.setSiteScale(.5,0),it.documentServices.documentMode.allowShowingFixedComponents(!1),r.keyboardShortcuts.setContext(r.keyboardShortcuts.CONTEXTS.ZOOM_MODE)},exitZoomMode:function(){it.setSiteScale(1,0),it.documentServices.documentMode.allowShowingFixedComponents(!0),r.keyboardShortcuts.setContext(r.keyboardShortcuts.CONTEXTS.EDITOR)},isInZoomMode:function(){return 1!==he.getState().siteScale}},snapData:{set:function(e,t){t?it.updateState({snapData:e}):it.setStateWaitForViewer({snapData:e})},clear:function(e){e?it.updateState({snapData:null}):it.setStateWaitForViewer({snapData:null})}},lasso:{setCandidates:function(e){it.updateState({lassoCandidates:e})},setLayout:function(e){it.updateState({lassoLayout:e})},clear:function(){it.updateState({lassoLayout:null,lassoCandidates:[]})}},focusBox:{getFocusedContainer:function(){return he.getState().focusedContainer}},clipboard:{types:i.constants.EDITOR_CLIPBOARD_TYPES,setItem:function(e,o){var i=t.cloneDeep(he.getState().clipboard);i[e]=o,it.updateState({clipboard:i})},getItem:function(e){return he.getState().clipboard[e]}},clipboardContainsComp:function(){return!!it.clipboard.getItem(i.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT)},text:{startEditing:function(){if(it._currentTextManager&&(CKEDITOR&&!CKEDITOR.wixDocumentServices&&(CKEDITOR.wixDocumentServices=it),!he.getState().isOpenTextEditor)){var e=it.selection.getSelectedComponents();it._textCompForEdit=t.head(e),ce.migrationUtils.isOldTextComponent(it._textCompForEdit,it)?(it.documentServices.bi.error(i.bi.errors.OLD_TEXT_MIGRATION),ce.migrationUtils.migrateComponent(it._textCompForEdit,it),it.documentServices.waitForChangesApplied(function(){it.updateState({isOpenTextEditor:!0})})):it.updateState({isOpenTextEditor:!0})}},stopEditing:function(){he.getState().isOpenTextEditor&&it.updateState({isOpenTextEditor:!1})},setCurrentTextEditor:function(e){it._currentTextManager=e},isEditingText:function(){return!!he.getState().isOpenTextEditor},undo:function(){it._currentTextManager.undo()},canUndo:function(){return it._currentTextManager.hasUndo},redo:function(){it._currentTextManager.redo()},canRedo:function(){return it._currentTextManager.hasRedo}},help:{openHelpCenter:function(t,o,i,n){e.log.error("editorAPI.help.openHelpCenter is deprecated. Use panelManager.openHelpCenter instead"),it.panelManager.openHelpCenter(t,i,n)}},utils:{isSameRef:function(e,o){var i=it.components.asArray(e),n=it.components.asArray(o);if(it.multiselect.isMultiselect(i)||it.multiselect.isMultiselect(n)){if(i.length!==n.length)return!1;var a=t.sortBy(i,"id"),r=t.sortBy(n,"id");return t.every(a,function(e,t){return it.documentServices.utils.isSameRef(e,r[t])})}return it.documentServices.utils.isSameRef(t.head(i),t.head(n))},isPage:function(e){var t=it.components.asArray(e);return!it.multiselect.isMultiselect(t)&&it.documentServices.utils.isPage(t[0])},getParentIfCompCanBeSelected:function(e){return it.components.is.selectable(e)?null:it.components.getContainer(e)},findAncestorMatchesCondition:function(e,t){if(!e)return null;for(var o=it.components.getContainer(e);o&&!t(o,e);)o=it.components.getContainer(o);return o}},siteName:{validate:function(e){var t=it.documentServices.siteName.validate(e),o={};return o[it.documentServices.siteName.ERRORS.SITE_NAME_IS_EMPTY]="SAVE_SITE_NAME_IS_EMPTY",o[it.documentServices.siteName.ERRORS.SITE_NAME_IS_NOT_STRING]="SITE_NAME_IS_NOT_STRING",o[it.documentServices.siteName.ERRORS.SITE_NAME_INVALID_CHARS]="SAVE_SITE_NAME_INVALID_CHARS",o[it.documentServices.siteName.ERRORS.SITE_NAME_ENDS_WITH_HYPHEN]="SAVE_SITE_NAME_ENDS_WITH_HYPHEN",o[it.documentServices.siteName.ERRORS.SITE_NAME_TOO_SHORT]="SAVE_SITE_NAME_TOO_SHORT",o[it.documentServices.siteName.ERRORS.SITE_NAME_TOO_LONG]="SAVE_SITE_NAME_TOO_LONG",o[it.documentServices.siteName.ERRORS.SITE_NAME_ALREADY_EXISTS]="SAVE_SITE_NAME_ALREADY_EXISTS",t.errorMessage=o[t.errorCode],t},set:function(e){it.documentServices.siteName.set(e);var t=it.store.getState();ye.isDomainConnected(t,it.documentServices)||it.documentServices.generalInfo.setPublicUrl(ye.getFreeDomainPrefix(t,it.documentServices)+e)},sanitize:function(e){return it.documentServices.siteName.sanitize(e)},rename:function(e,t,i){var n=r.serviceTopology.editorServerRoot||"//editor.wix.com/html/editor/web";n+="/meta-site-proxy/rename/"+it.documentServices.generalInfo.getMetaSiteId(),o.ajax(n,{type:"POST",data:{newName:e},success:function(o){if(o.success){var n=it.store.getState();it.documentServices.siteName.set(e),ye.isDomainConnected(n,it.documentServices)||it.documentServices.generalInfo.setPublicUrl(ye.getFreeDomainPrefix(n,it.documentServices)+e),t&&t()}else i(o)},error:function(){i&&i()}})}},updateEditorViewTools:function(e,o){var i=e;t.isString(e)&&((i={})[e]=o);var n=t.defaults(i,it.getViewTools());it.updateState({viewTools:n})},toolbar:{isToolbarEnabled:function(){return he.getState().viewTools.toolbarEnabled},toggleToolbar:function(){var e=!it.toolbar.isToolbarEnabled();it.updateEditorViewTools("toolbarEnabled",e),ue.isOpen("se_toolbarVisibility")&&Ze(i.constants.USER_PREFS.VIEW_TOOLS.TOOLBAR_ENABLED,e)}},developerToolBar:{isEnabled:function(){return he.getState().viewTools.developerToolBarEnabled},toggle:function(){var e=!it.developerToolBar.isEnabled(),t=e?"open":"close";it.bi.event(ge.events.PROPERTIES_PANEL_TOGGLE,{site_id:it.documentServices.generalInfo.getSiteId(),state:t}),it.updateEditorViewTools("developerToolBarEnabled",e),Ze(i.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,e)}},platformToolBar:{isEnabled:function(){return he.getState().viewTools.platformToolBarEnabled},toggle:function(){var e=!it.platformToolBar.isEnabled();it.updateEditorViewTools("platformToolBarEnabled",e)},open:function(e){var t=!it.platformToolBar.isEnabled();it.updateEditorViewTools("platformToolBarEnabled",t),it.updateState({platformToolBarPanelProps:e})}},developerHiddenComponents:{isEnabled:function(){return he.getState().viewTools.showHiddenComponents},toggle:function(){var e=!it.developerHiddenComponents.isEnabled();it.updateEditorViewTools("showHiddenComponents",e),it.documentServices.documentMode.showHiddenComponents(e),Ze(i.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,e)}},grid:{guidelines:{isGuidelinesEnabled:function(){return he.getState().viewTools.guidelinesEnabled},toggleGuidelines:function(e,t){var o=!it.grid.guidelines.isGuidelinesEnabled();it.updateEditorViewTools("guidelinesEnabled",o),Ze(i.constants.USER_PREFS.VIEW_TOOLS.GUIDELINES_ENABLED,o).then(e).catch(t)}},snapTo:{isSnapToEnabled:function(){return he.getState().viewTools.snapToEnabled},toggleSnapTo:function(e,t){var o=!it.grid.snapTo.isSnapToEnabled();it.updateEditorViewTools("snapToEnabled",o),Ze(i.constants.USER_PREFS.VIEW_TOOLS.SNAPTO_ENABLED,o).then(e).catch(t)}}},siteSegments:{getRefs:function(){var e=it.documentServices.siteSegments;return[e.getFooter(),e.getHeader(),e.getPagesContainer(),e.getSiteStructure()]},getPagesContainerAbsLayout:function(){var e=it.documentServices.siteSegments.getPagesContainer();return it.components.layout.getRelativeToScreen(e)}},tooltipTextService:re,homePage:{get:function(){return it.documentServices.homePage.get()},set:function(e){it.documentServices.homePage.set(e),g.setHomePagePlugins.run(it,e)}},openEditorVersionInfoPanel:function(){it.panelManager.openPanel("rEditor.panels.editorVersionInfoPanel")},styles:{openApplyStylePanel:function(e){it.panelManager.openPanel("rEditor.panels.applyStylePanel",{selectedComp:e})}},bi:{getComponentsBIParams:function(e){return t.map([].concat(e),function(e){var o={};if(e){o.component_id=e.id;var i=it.components.getType(e);o.component_type=i,i&&it.isTpa(i)&&t.assign(o,it.bi.getTpaComponentBIParams(e))}return o})},getTpaComponentBIParams:function(e){var o={};if(!t.isEmpty(e)&&Ue(it.components.getType(e))){var i=it.components.data.get(e)||{},n=it.documentServices.tpa.app.getData(i.applicationId);o.app_id=""+n.appDefinitionId,o.app_site_id=""+n.instanceId,o.instance_id=""+e.id,o.widget_id=""+i.widgetId;var a="TPAWidget"===i.type,r=it.documentServices.tpa.app.isLastAppComp(i.applicationId)||!(a||it.documentServices.tpa.app.isMultiSectionInstalled(i.applicationId));o.is_last_tpa=r?1:0}return o},reportBI:function(e,o,i){!i||t.isFunction(i)&&i()?t.forEach(o,t.bind(function(o){var i=t.isFunction(o)?o():o;i.is_last=i.is_last||i===it,it.bi.event(e,i)},o[o.length-1])):t.isFunction(i)&&it.biConditionedEventsQueue.push({event:e,biParamArray:o,condition:i})},tryFlushingConditionedEvents:function(){if(!t.isEmpty(it.biConditionedEventsQueue)){var e=t.remove(it.biConditionedEventsQueue,function(e){return t.isFunction(e.condition)&&e.condition()});t.forEach(e,function(e){it.bi.reportBI(e.event,e.biParamArray)})}}},campaigns:{fetchCampaignInfo:function(){var e=r.serviceTopology.dealerUrl+"/salesSystemResolver";o.getJSON(e,function(e,t){"success"===t&&e&&(it.campaignInfo={id:e.payload.campaignId,type:e.payload.type})})},getActiveCampaignInfo:function(){return it.campaignInfo},isActiveCampaign:function(e){return!!it.campaigns.getActiveCampaignInfo()&&t.includes(it.campaigns.getActiveCampaignInfo().id,e.id)},getDiscountValue:function(e){var o=it.campaigns.getActiveCampaignInfo().id.split("_");return 1===o.length?e.defaultDiscount:t.last(o)},personalSale:{isActiveCampaign:function(){return it.campaigns.isActiveCampaign(i.constants.CAMPAIGNS.PERSONAL_SALE)||it.campaigns.isActiveCampaign(i.constants.CAMPAIGNS.SEASONAL_CAMPAIGN)},getDiscountValue:function(){return it.campaigns.getDiscountValue(i.constants.CAMPAIGNS.PERSONAL_SALE)},getAssetPath:function(){return i.constants.CAMPAIGNS.PERSONAL_SALE.assetPath}}},newEditorWelcomeScreenWrapper:G,showFloatingBubble:function(e,o,i,n){it.updateState({floatingBubble:t.assign({},he.getState().floatingBubble,{value:e,targetLayout:o,bubbleProps:i,shouldNotHideOnMouseLeaveTarget:n})})},hideFloatingBubble:function(){var e={value:null,targetLayout:null,bubbleProps:{},shouldNotHideOnMouseLeaveTarget:!1};t.isEqual(he.getState().floatingBubble,e)||it.updateState({floatingBubble:e}),window.clearTimeout(_e)},blockingPopupLayer:{show:function(){var e=me.EDITOR_API.BLOCKING_LAYER_STYLE;it.documentServices.renderPlugins.setCompsToShowOnTop(t.map(it.selection.getSelectedComponents(),"id")),it.documentServices.renderPlugins.setBlockingPopupLayer(e)},hide:function(){it.documentServices.renderPlugins.setCompsToShowOnTop(null),it.documentServices.renderPlugins.setBlockingPopupLayer(null)}},getSiteScale:function(){return he.getState().siteScale},endMouseMoveActionIfNeeded:function(e){it.mouseActions.getRegisteredMouseMoveAction()&&it.mouseActions.onMouseUp(e)},isVerticalScrollbarHidden:function(){var e=window.document.body.clientHeight>window.innerHeight;return!e||e&&window.document.body.clientWidth===window.innerWidth},onCollectionAdded:function(){it.toggleEditorStateParam("hasDatabaseCollections",!0)},toggleEditorStateParam:function(e,t){var o={};o[e]=void 0===t?!he.getState()[e]:t,it.updateState(o)},toolsControl:{toggleHalfOpacityTools:function(e){it.toggleEditorStateParam("halfOpacityTools",e)},toggleHideToolsBtnBlink:function(e){it.toggleEditorStateParam("shouldHideToolsBtnBlink",e)},toggleHideTools:function(e,o){o=o||he.getState().hideToolsAndMaintainStagePosition;var i=void 0===e?!he.getState().hideTools:e,n=Be();it.hideFloatingBubble();var a=o?he.getState().previewPosition:t.defaults({top:Ne(i)},he.getState().previewPosition);return it.updateState({hideToolsAndMaintainStagePosition:i?o:i,hideTools:i,previewPosition:a,halfOpacityTools:!1,shouldHideToolsBtnBlink:!1}),i&&t(n).reject({frameType:me.PANEL_TYPES.COMP}).reject({name:"panels.toolPanels.linkPanel"}).forEach(function(e){it.panelManager.closePanelByName(e.name)}),i},areToolsHiddenAndStagePositionMaintained:function(){return he.getState().hideToolsAndMaintainStagePosition},areToolsHidden:function(){return he.getState().hideTools},isHalfOpacityTools:function(){return he.getState().halfOpacityTools}},blog:{add:function(e,t){pe.installApp(it,e||"MediaLeftPage",t)}},cursor:{get:function(){return Me},set:function(e){Me=e},updateMousePosition:function(e,t){var o={x:e,y:t};it.cursor.set(o)}},overlay:{disableUpdate:function(){it.updateState({shouldOverlayUpdate:!1})},enableUpdate:function(){it.updateState({shouldOverlayUpdate:!0})},shouldUpdate:function(){return he.getState().shouldOverlayUpdate}},topBarMenuBar:{openDropDown:je,closeDropDown:function(e){if(!he.getState().topBar.shouldDropPanelRemainOpen){var t=he.getState().topBar.openedDropPanel;e&&e!==t||je(null)}},getOpenedDropDown:function(){return he.getState().topBar.openedDropPanel}},topBarPagesFilter:{set:function(e){Ke({topBarPagesFilter:e})},get:function(){return he.getState().topBarPagesFilter}},scroll:{get:function(){return Xe},registerNewScrollPosition:function(e){Xe=e,it.site.setScroll(e.scrollLeft,e.scrollTop)},scrollTo:Le,animateScrollTo:function(e,t,o){it.updateState({animateScrollTo:{position:e,duration:t,onComplete:o}})},clearScrollTo:function(){it.updateState({scrollTo:null,animateScrollTo:null})},resetScrollListeners:function(){it.scrollListeners=[]},handleStageScroll:function(e){t.invokeMap(it.scrollListeners,t.call,null,e)},addScrollListener:function(e){it.scrollListeners.push(e)},removeScrollListener:function(e){it.scrollListeners=t.without(it.scrollListeners,e)}},setFocus:function(){var e=he.getState().eventCounters,o=t.assign(e,{focus:e.focus+1});he.dispatch(fe.legacy.setState({eventCounters:o}))}};return it.pluginService=ne.create(),it.editorEventRegistry=de.create(),it.history=T.create(it),it.pinMode=Z.create(it),it.imageCrop=I.create(it),it.ui=z.create(it),it.promotions=Q.create(it),it.preview=J.create(it),it.pages=Y.create(it),it.wixCode=W.create(it),it.wixStores=V.create(),it.selection=U.create(it),it.layouters=K.create(it),it.multiselect=L.create(it),it.savePublish=A.create(it),it.topBar=F.create(it),it.rulers=R.create(it),it.tabIndicationState=k.create(it),it.site=_.create(it),it.mainMenu=x.create(it),it.menus=N.create(it),it.components=w.create(it),it.copyPaste=q.create(it),it.concurrentUsers=E.create(it),it.columns=j.create(it),it.account=$.create(it),it.platform=X.create(it),it.databaseEditor=H.create(it),it.selectedComponent=O.create(it),it.developerMode=M.create(it),it.feedback=D.create(it),it.theme=C.create(it),it.mobile=ee.create(it),it.panelHelpers=m.create(it),it.mouseActions=te.create(it),it.tpa=oe.create(it),it.media=ie.create(it),r.bindOwnMethodsDeep(it,it),it.documentServices=null,it.userPreferences=h(it.store),it.editorConfig={topBarHeight:Ce.TOPBAR_HEIGHT,previewHeight:null,previewWidth:null,languages:["latin"],extraSiteHeight:40},it.pendingStateChanges={},it.pendingEditorStateUpdateCallbacks=[],it.removePlugins={},it.removePagePlugins={},it.componentsRemoveHandlerPlugins=[],it.hidePlugins={},it.duplicatePlugins={},it.compNamePlugins={},it.compIconPlugins={},it.cannotRemovePlugins={},it.copyComponentPlugins={},it.pasteComponentPlugins={},it.cutComponentPlugins={},it.addComponentPlugins={},it.serializeComponentPlugins={},it.pageNavigationCallbacks=[it.mobile.updateLeftBarNotificationsCount],it.viewerUpdateCallbacks=[Fe],it.userPreferencesInitCallbacks=[function(){var e=fe.userProfile.selectors.getUserProfile(it.store.getState()),o=t.get(e,["wix_code_exposure_flag","value"]);!ue.isOpen("excludeFromWixCodeMarketingFlow")&&o&&it.generalInfo.isFirstSave()&&it.developerMode.enableWithMarketingConfig()},it.initViewToolsFromUserPrefs,it.initUserAddedColors,it.initWelcomeScreen,function(){var e=Je(i.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS);it.documentServices.documentMode.showHiddenComponents(e),it.documentServices.documentMode.showControllers(it.getViewTools().developerModeEnabled)},function(){v.init(it,P.registerGfppActions,y.registerComponent,y.mergeComponentGfppData,me.ROOT_COMPS.GFPP.ACTIONS)}],it.sitePublishedCallbacks=[],it.deviceTypeChangeCallbacks=[],it.biConditionedEventsQueue=[],it.registeredHideBubbleOnPreview=!1,it.isSavedInCurrentSession=!1,it.pasteLogic=se,it.mediaServices=d.create(it),it.panelManager=a.PanelManager.create(he),it.saveManager=b.createSaveManager(it,e.log),it.publishManager=b.createPublishManager(it),it.autosaveManager=b.createAutosaveManager(it),it.scroll.resetScrollListeners(),Oe&&r.measuring.measureAndReportFrameRate(he.getState,he.dispatch,it.mouseActions.getRegisteredMouseMoveAction,fe.bi.event,i.bi.events.editor,2),window.testApi&&window.testApi.domSelectors&&(window.testApi.editorAPI=it,window.testApi.bi=r.automationUtil.bi),it}var be=r.serviceTopology.dashboardUrl.replace(/create\//,"")+"/"||"http://www.wix.com/my-account/",ye=fe.domain.selectors,ve=fe.components.selectors,Se=fe.selection.actions.setSelectedCompsRestrictions,Pe=fe.selection.selectors.getSelectedCompsRefs,Ee=.5,Ce=me.UI,Te={toolbarEnabled:!0,developerModeEnabled:!1,showHiddenComponents:!0,guidelinesEnabled:!0,sectionsHandlesEnabled:!0,snapToEnabled:!0,rulersEnabled:void 0,rulers:{guidesState:{},selectedGuide:void 0,isHovered:!1,isDragging:null}},Ie=["latin"],_e=null,Me={};return{create:he}}),define("rEditor/utils/previewUrl",["lodash","core","util","rEditor/utils/openPanelByURL","experiment"],function(e,t,o,i,n){"use strict";function a(t,a,r){var c=t.editorServerRoot||"http://editor.wix.com/html/editor/web",p=c+"/renderer/render/",d=p+"document/",u=p+"template/",m=c+"/renderer/new?",g=0===a.href.indexOf(m)?u:d,f=o.url.parseUrl(a.href).query;e.isUndefined(f.editorSessionId)&&(f.editorSessionId=r.editorSessionId);var h=e(f).keys().find(function(e){return"showmobileview"===e.toLowerCase()}),b=e.pickBy(f,function(t,o){return e.endsWith(o,"-override")}),y=l,v=new o.UrlBuilder(g+(f.siteId||function(e){var t=e.match(s);return t&&t.length&&t[1]}(a.href))).param("isEdited","true").param("isSantaEditor","true").param("dsOrigin","Editor1.4").ifParam(f.petri_ovr,"petri_ovr",f.petri_ovr).ifParam(n.isOpen("wixstaff"),"iswixsite","true").ifParam(h||i.shouldLoadMobileEditor(f),"showMobileView","true").param("lang",r.languageCode).paramsObj(e.pick(f,y)).paramsObj(b);return n.isOpen("se_multilingual")&&v.param("languages",f.languages),v.url()}function r(i,n,r,s,l){var c=a(s,i,r);if(n){var p={prefetched_preview_url:n,client_preview_url:c,does_match:function(t,i){var n=["hash","host","hostname","path","port","protocol","query"];return e.isEqual(e.pick(o.url.parseUrl(t),n),e.pick(o.url.parseUrl(i),n))}(n,c)};return l(t.bi.events.editor.PREVIEW_PREFETCH_COMPARISON,p),n}return c}var s=/\/([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/,l=["metaSiteId","ReactSource","SantaVersions","baseVersion","isqa","debug","editorSessionId","layout","experiments","experimentsoff","viewerexp","suppressbi","WixCodeRuntimeSource","sampleratio","hot","dsQTrace","autosaveRestore","debugApp","closeSectionGaps","editorSdkSource","editorPlatformAppSources","viewerPlatformAppSources","PlatformContainerSource","PlatformContainerHttp"];return{getPreviewUrl:r}}),define("rEditor/rootComps/editorMain",["reactDOM","lodash","util","react","reduxLibs","rEditor/rootComps/editor","rEditor/app/EditorAPI","rEditor/utils/previewUrl","baseUI","stateManagement","higherOrderComponents","experiment","wixmp"],function(e,t,o,i,n,a,r,s,l,c,p,d,u){"use strict";function m(n){window.document.title=o.translate("EDITOR_BROWSER_TAB_NAME"),function(e){e.debugTools&&(window.testApi=t.assign({},window.testApi,{domSelectors:e.qaAutomation.getDomSelectors(e.react,e.reactDOM),helpers:e.debugTools.helpers,clientSelectors:e.debugTools.clientSelectors})),e.qaAutomation&&e.qaAutomation.init(window),e.tpaIntegrationEditor&&e.tpaIntegrationEditor.init(window,e.tpa,e.util,e.savePublish,e.panels),e.uiLibIntegrationEditor&&e.uiLibIntegrationEditor.init(window,e.tpa,e.util,e.savePublish,e.panels),e.platformIntegrationEditor&&e.platformIntegrationEditor.init(window,e.platform)}(n),o.imageTransform.init(),o.polyfills.register(),d.isOpen("qualaroo")&&o.qualaroo.start(),d.isOpen("fullstory")&&o.fullStory.start(),o.fedopsLogger.create();var m=o.url.getParameterByName("debug")||"true"===o.url.getParameterByName("isqa"),f=c.createEditorStore(m,{tooltipManager:l.tooltipManager,wixmpFonts:{uploadQueue:[],wixmpSource:new u.Source(u.sources.PRIVATE,{asyncFontUpload:!0})}}),h=c.throttledStore(o.animationFrameUtils.request,o.animationFrameUtils.cancel,f),b=r.create(h,!0),y=t.get(window.document.getElementById("preview-prefetch"),"href"),v={previewUrl:s.getPreviewUrl(window.document.location,y,o.editorModel,o.serviceTopology,function(e,t){window.bi.event(e.evid,t)}),editorAPI:b,isLeavePagePopUpDisabled:"false"===o.url.getParameterByName("leavePagePopUp")},S=window.document.getElementById("root"),P=p.connect(function(e){return{editorIsInit:e.editorIsInit,previewMode:e.previewMode}},t.noop,!0)(a),E=i.createElement(P,v),C=i.createElement(g.Provider,{store:h},E);window.rendered=e.render(C,S),function(e){o.url.getParameterByName("debug")&&(window.editorAPI=e)}(b)}var g=n.reactRedux;return{start:m}}),define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt",["react","lodash","baseUILib","baseUI","util","core","compPanels"],function(e,t,o,i,n,a,r){"use strict";return function(){function i(){var i=this.getPopupProps()||{};return e.createElement(r.compPanelFrame,function(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}({title:"Popups_OverlaySettings_Panel_Header",className:"popup-overlay-settings-panel",contentClass:"settings-panel",helpId:this.getHelpId()},this.getFrameProps()),e.createElement(o.Divider,{long:!1}),e.createElement(o.Composites.ToggleSwitch,{key:"clickClosesOverlay2"},e.createElement(o.ToggleSwitch,{value:this.linkPopupPropsValue(i,"closeOnOverlayClick").value,label:"Popups_OverlaySettings_ClickCloses_Toggle",onChange:this.linkPopupPropsValue(i,"closeOnOverlayClick").requestChange})))}return i.apply(this,[])}}),define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel",["create-react-class","lodash","core","compPanels","helpIds","rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt"],function(e,t,o,i,n,a){"use strict";return e({displayName:"overlaySettingsPanel",mixins:[i.compPanelMixin],render:a,componentDidMount:function(){this.getEditorAPI().bi.event(o.bi.events.popups.setup_overlay_clicked,{})},getHelpId:function(){return n.UTILS.getSettingsHelpId(n.COMP_TYPES.POPUP_OVERLAY,this.getEditorAPI().isMobileEditor())},getPage:function(){return this.getEditorAPI().pages.popupPages.getCurrentPopup()},getPopupProps:function(){return t.get(this.getEditorAPI().pages.properties.get(this.getPage()),"popup",{})},openHelpPanelFrame:function(){this.openHelpCenter(this.getHelpId(),!0)},linkPopupPropsValue:function(e,o){return{value:e&&e[o],requestChange:function(e){var i=this.getEditorAPI(),n=i.pages.properties.get(this.getPage());t.set(n,["popup",o],e),i.pages.properties.update(this.getPage(),n),i.history.add("toggle close popup by click on overlay")}.bind(this)}}})}),define("rEditor/pagesMenu/specialPagesMenuMixin",["core"],function(e){"use strict";return{mixins:[e.mixins.editorAPIMixin],getInitialState:function(){return{selectedSectionPage:null}},openSpecialPagesMenu:function(e){this.setState({selectedSectionPage:e})},closeSpecialPagesMenu:function(){this.setState({selectedSectionPage:null}),this.props.closeSpecialPageMenu(),this.getEditorAPI().bi.event(e.bi.events.topbar.pages.top_bar_PAGES_special_pages_back_click)},isSpecialPagesPanelOpen:function(){return Boolean(this.state.selectedSectionPage)}}}),define("rEditor/pagesMenu/quickActionsMenuItemsMixin",["lodash","pagesMenu","core"],function(e,t,o){"use strict";function i(e,t,o,i){var n=e.documentServices.viewMode.get();n===e.documentServices.viewMode.VIEW_MODES.DESKTOP&&r.setHidden(e,t,i),n===e.documentServices.viewMode.VIEW_MODES.MOBILE&&r.setHidden(e,t,void 0,i)}function n(e,t,o){this.props.openSettingsPanel(t,o)}function a(e){return function(t,o){n.call(this,t,o,e)}}var r=t.pageMenuItemHelpers,s={tabPageInfo:a("page"),tabLayout:a("layout"),tabPermissions:a("privacy"),tabSEO:a("seo"),settings:n,setAsDynamicPage:function(e,t){var o=t.pageData.id,i=e.documentServices.platform.getAppDataByAppDefId(e.documentServices.platform.editorApps.DATA_BINDING.appDefId);e.documentServices.platform.notifyApplication(i.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{pageRef:e.documentServices.pages.getReference(o),origin:"quickActionsMenu"}})},rename:function(e,t,o){t.pageData?r.renamePage(e,t.pageData,o):r.renameMenuItem(e,t,o)},duplicate:function(e,t){r.duplicateMenuItem(e,t,function(e){this.props.closeSettingsPanel(),this.props.editedItemIdLink.requestChange(e)}.bind(this))},unhide:e.partialRight(i,!1),hide:e.partialRight(i,!0),subpage:r.subpage,moveup:r.moveUp,remove:function(e,t){this.props.closeSettingsPanel(),r.removeMenuItem(e,t),t.pageData&&e.bi.event(o.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"page",page_popup_string_id:t.pageData.id,page_popup_name:t.pageData.title})},changeLink:function(t,o){!function(t,o,i){t.openLinkPanel({visibleSections:{NoLink:!1},showAllPopups:!0,hidePageLinks:!0,link:i,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:e.once(o)})}(t,function(i){var n=t.data.createItem(i.type);e.assign(n,e.omit(i,["type"])),r.updateLink(t,o.id,n)},t.data.getById(o.id).link)}};return{onActionMenuItemsSelected:function(t,i,n){e.isFunction(s[t])&&s[t].call(this,this.getEditorAPI(),i,n),function(e,t){e.bi.event(o.bi.events.topbar.pages.top_bar_PAGES_quick_actions_menu_select_click,{category:t})}(this.getEditorAPI(),t)}}}),define("rEditor/pagesMenu/pageNode/pageInfoTextHelper",["core"],function(e){"use strict";var t=e.utils.tpaTypeUtils,o=e.utils.blogTypeUtils,i=e.utils.wixStoreTypeUtils;return{getInfoTextForSpecialPage:function(e,n){if(o.isBlog(e,n))return"Pages_Blog_Post_Info_WhatisText";if(t.isTPA(n)){if(!i.isWixStore(e,n))return"TPA pages";if(i.isWixStoreProductPage(n))return"Pages_Store_Product_Info_WhatisText";if(i.isWixStoreCartPage(n))return"Pages_Store_Cart_Info_WhatisText";if(i.isWixStoreThankYouPage(n))return"Pages_Store_Thankyou_Info_WhatisText"}},getInfoTextForSectionPage:function(e,n){return o.isBlog(e,n)?"Pages_Menu_Blog_Tooltip":t.isTPA(n)?i.isWixStore(e,n)?"Pages_Store_Panel_Title":"TPA pages":void 0},getInfoTextForNonPage:function(e){return e.type.isLink?"Pages_Menu_Link_Tooltip":e.type.isDropdown?"Pages_Menu_Dropdown_Tooltip":void 0}}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(e,t,o,i,n,a,r,s){"use strict";return function(){return e.createElement(o.nodeContentCommon,t.assign({},{isVisible:void 0===this.props.isVisible?this.props.dataSource.isVisibleMobile:this.props.isVisible},this.props),e.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:this.onClick},e.createElement(a.symbol,{name:"quickActionsSettings"})),"\n\n    ",this.props.children,"\n")}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell",["create-react-class","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt"],function(e,t){"use strict";return e({displayName:"nodeContentMobileShell",onClick:function(){this.props.actions.openSettingsPanel(this.props.dataSource)},render:t})}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(e,t,o){"use strict";return function(){return e.createElement(o,this.props)}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(e,t,o,i,n,a){"use strict";return function(){return function(){var t=a.getInfoTextForNonPage(this.props.dataSource);return e.createElement(n,this.getNotPageProps(),e.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:t,ref:"infoIcon"})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(e,t,o,i,n,a,r,s,l){"use strict";return function(){return function(){var t=s.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return e.createElement(l,this.props,e.createElement("a",{className:"action-button action-button-special-pages-mobile",onClick:function(e){this.props.actions.openSubPagesMenu(this.props.dataSource)}.bind(this,t)},e.createElement(i.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:!0,text:t})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","pagesMenu","symbols"],function(e,t,o,i,n,a){"use strict";return function(){return function(){var r=i.getInfoTextForSpecialPage(this.props.editorAPI,this.props.dataSource.pageData);return e.createElement(n.nodeContentCommon,t.assign({},{isVisible:!0},this.props),e.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:function(e){this.props.actions.openSettingsPanel(this.props.dataSource)}.bind(this,r)},e.createElement(a.symbol,{name:"quickActionsSettings"})),e.createElement("a",{href:"#",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:r})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt",["react","lodash","pagesMenu"],function(e,t,o){"use strict";return function(){return e.createElement(o.nodeContentCommon,t.assign({},{isVisible:void 0===this.props.isVisible?this.props.dataSource.isVisible:this.props.isVisible},this.props),"\n\n    ",this.props.children,"\n\n")}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon",["create-react-class","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt"],function(e,t){"use strict";return e({displayName:"nodeContentDesktopCommon",render:t})}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt",["react","lodash","baseUI","symbols","util","pagesMenu","experiment"],function(e,t,o,i,n,a,r){"use strict";return function(){return function(){var t=this.props.dataSource,r=n.translate,s=a.pageMenuItemHelpers,l=this.props.editorAPI;return e.createElement(o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",shrink:this.props.shrink,onClick:this.handleClick,onNotificationClick:this.props.onNotificationClick,notificationCount:this.props.notificationCount,onChange:this.actionSelectedHandler},"\n\n    ",this.props.children,"\n\n    ",e.createElement(o.dropDown.option,{value:"rename",key:"quick-actions-rename"},e.createElement("div",{className:"svg-container"},e.createElement(i.symbol,{name:"quickActionsRename"})),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Rename"))),s.canDuplicate(l,t)?e.createElement(o.dropDown.option,{key:"quick-actions-duplicate",value:"duplicate"},e.createElement("div",{className:"svg-container"},e.createElement(i.symbol,{name:"qaDuplicate"})),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Duplicate"))):null,this.isDeveloperModeEnabled()&&s.canBeSetAsDynamicPage(l,t)?e.createElement(o.dropDown.option,{key:"quick-actions-set-as-dynamic-page",value:"setAsDynamicPage"},e.createElement("div",{className:"svg-container"},e.createElement(i.symbol,{name:"page_dynamic_icon"})),e.createElement("span",{className:"qa-label"},r("Platform_Page_Actions_Set_Dynamic_Page"))):null,s.canUnhide(l,t)?e.createElement(o.dropDown.option,{key:"quick-actions-unhide",value:"unhide"},e.createElement("div",{className:"svg-container"},e.createElement(i.symbol,{name:"quickActionsShow"})),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Unhide"))):null,s.canHide(l,t)?e.createElement(o.dropDown.option,{key:"quick-actions-hide",value:"hide"},e.createElement("div",{className:"svg-container"},e.createElement(i.symbol,{name:"quickActionsHide"})),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Hide"))):null,this.isSubpageActive(t)?e.createElement(o.dropDown.option,{key:"quick-actions-subpage",value:"subpage"},e.createElement("div",{className:"svg-container"},e.createElement(i.symbol,{name:"quickActionsSubpage"})),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Subpage"))):null,this.isMoveUpActive(t)?e.createElement(o.dropDown.option,{key:"quick-actions-moveup",value:"moveup"},e.createElement("div",{className:"svg-container"},e.createElement(i.symbol,{name:"quickActionsMainPage"})),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_MoveUp"))):null,s.canRemoveMenuItem(l,t)?e.createElement(o.dropDown.option,{key:"quick-actions-remove",value:"remove"},e.createElement("div",{className:"svg-container"},e.createElement(i.symbol,{name:"qaDelete"})),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Delete"))):null)}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon",["create-react-class","prop-types","core","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt","experiment"],function(e,t,o,i,n,a){"use strict";return e({displayName:"quickActionsMenuCommon",mixins:[i.mixins.quickActionRenameMixin],propTypes:{dataSource:t.object.isRequired,editorAPI:t.object.isRequired,editedPageIdLink:t.object.isRequired,onActionSelected:t.func.isRequired},isSubpageActive:function(e){return i.pageMenuItemHelpers.canSubpage(e)&&"tree"===this.props.structureType},isMoveUpActive:function(e){return i.pageMenuItemHelpers.canMoveUp(e)&&"tree"===this.props.structureType},handleClick:function(){if(this.props.setSelected(),a.isOpen("pagesFirstTimeSteps")){var e=this.props.dataSource.pageData,t={page_on_top:0===this.props.dataSource.position,page_ind:e?e.id:"non-page"};this.props.editorAPI.bi.event(o.bi.events.topbar.pages.pages_panel_page_settings_click,t)}},isDeveloperModeEnabled:function(){return this.props.editorAPI.developerMode.isEnabled()},render:n})}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt",["react","lodash","baseUILib","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","experiment","util"],function(e,t,o,i,n,a,r,s){"use strict";return function(){return function(){var r=s.translate;return e.createElement(a,t.assign({},{onNotificationClick:this.getOnNotificationClick(),notificationCount:1},this.props),e.createElement(i.dropDown.option,{key:"quick-action-tab-page-info",value:"tabPageInfo",className:"primary psp-qa"},e.createElement(n.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Info"))),e.createElement(i.dropDown.option,{key:"quick-action-tab-layout",value:"tabLayout",className:"primary psp-qa"},e.createElement(n.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Layouts"))),e.createElement(i.dropDown.option,{key:"quick-action-tab-permissions",value:"tabPermissions",className:"primary psp-qa"},e.createElement(n.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Permissions"))),e.createElement(i.dropDown.option,{key:"quick-action-tab-seo",value:"tabSEO",className:"primary psp-qa"},e.createElement(n.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_SEO"))),e.createElement(i.dropDown.option,{key:"quick-action-separator",className:"separator"},e.createElement(o.Divider,{long:!0})),e.createElement(i.dropDown.option,{key:"quick-action-settings",value:"settings",className:"primary"},e.createElement(n.symbol,{name:"quickActionsSettings",style:{position:"relative",top:"4px",left:"-1px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Settings"))))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage",["create-react-class","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt"],function(e,t,o){"use strict";return e({displayName:"quickActionsMenuPage",getOnNotificationClick:function(){var e=this.props.actions.openSettingsPanel,o=this.props.dataSource;if(t.utils.quickActions.hasNotification(this.props.editorAPI,this.props.dataSource.pageData.id))return function(){e(o,"page")}},render:o})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage"],function(e,t,o,i){"use strict";return function(){return e.createElement(o,this.props,e.createElement(i,this.props))}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage","rEditor/pagesMenu/pageNode/pageInfoTextHelper","baseUI"],function(e,t,o,i,n,a){"use strict";return function(){return function(){var t=this.props.dataSource,r=n.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return e.createElement(o,this.props,e.createElement(i,this.props),e.createElement("a",{href:"#",className:"action-button",onClick:function(e,t){this.props.actions.openSubPagesMenu(e)}.bind(this,t,r)},e.createElement(a.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:!0,text:r})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","rEditor/pagesMenu/pageNode/pageInfoTextHelper","util"],function(e,t,o,i,n,a,r){"use strict";return function(){return function(){var t=this.props.dataSource,a=r.translate;return e.createElement(n,this.props,t.type.isLink?e.createElement(o.dropDown.option,{key:"quick-actions-rename-link",value:"changeLink"},e.createElement(i.symbol,{name:"quickActionsLink"}),e.createElement("span",{className:"qa-label"},a("Pages_Actions_Link_Change"))):null)}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage",["create-react-class","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt"],function(e,t){"use strict";return e({displayName:"quickActionsMenuNotPage",render:t})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage"],function(e,t,o,i,n,a){"use strict";return function(){return function(){var t=i.getInfoTextForNonPage(this.props.dataSource);return e.createElement(n,this.getNotPageProps(),e.createElement(a,this.props),e.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:t,ref:"infoIcon"})))}.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage.rt",["react","lodash","baseUI","baseUILib","symbols","util"],function(e,t,o,i,n,a){"use strict";return function(){function r(){var r=this.props.dataSource,s=a.translate;return e.createElement.apply(this,[o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.handleClick,onChange:this.actionSelectedHandler},t.map(this.pageSettingsOptions,function(t,i,a,r){return e.createElement(o.dropDown.option,{value:a.id,key:"page-settings-action"+r},e.createElement(n.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"3px 7px 0 4px"}}),"\n        ",a.title)}.bind(this,r,s)),this.isDeveloperModeEnabled()?e.createElement(o.dropDown.option,{key:"quick-action-separator",className:"separator"},e.createElement(i.Divider,{long:!0})):null,this.isDeveloperModeEnabled()?t.map(this.pageActionsOptions,function(t,i,a,r){return e.createElement(o.dropDown.option,{value:a.id,key:"page-actions"+r},e.createElement(n.symbol,{name:a.icon||"file",style:{position:"relative",margin:"3px 7px 0 4px"}}),"\n        ",a.title,"\n    ")}.bind(this,r,s)):null])}return r.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage",["create-react-class","lodash","platform","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage.rt"],function(e,t,o,i){"use strict";var n={PAGE_SETTINGS:"pageSettings",PAGE_ACTIONS:"pageActions"};return e({displayName:"quickActionsMenuDynamicPage",render:i,componentWillMount:function(){var e=this.props.editorAPI;this.pageActionsOptions=e.pages.dynamicPages.getDynamicPageActions(this.props.dataSource.pageData.id,n.PAGE_ACTIONS),this.pageSettingsOptions=e.pages.dynamicPages.getDynamicPageActions(this.props.dataSource.pageData.id,n.PAGE_SETTINGS)},isDeveloperModeEnabled:function(){return this.props.editorAPI.developerMode.isEnabled()},getApplicationId:function(e){var o=this.props.editorAPI,i=o.documentServices.routers.get.byRef(e);return t.get(o.documentServices.platform.getAppDataByAppDefId(i.appDefinitionId),"applicationId")},notifyApplicationOnEvent:function(e){var t=this.props.editorAPI,o=t.documentServices.pages.getReference(this.props.dataSource.pageData.id),i=t.documentServices.routers.getRouterRef.byPage(o),n={routerRef:i,publicUrl:t.documentServices.generalInfo.getPublicUrl(),pageRef:o,origin:"quickActionsMenu"};t.documentServices.platform.notifyApplication(this.getApplicationId(i),{eventType:e,eventPayload:n})},actionSelectedHandler:function(e){var i=o.constants,a=[].concat(this.pageActionsOptions,this.pageSettingsOptions),r=t.find(a,{id:e});if(r.category!==n.PAGE_SETTINGS)return r.callback?r.callback():r.type===i.pages.page_actions.rename.type?this.props.editedPageIdLink.requestChange(this.props.dataSource.pageData.id):void this.notifyApplicationOnEvent(r.event);this.props.actions.openSettingsPanel(this.props.dataSource,r.title,this.pageSettingsOptions)}})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopDynamicPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage"],function(e,t,o,i){"use strict";return function(){return e.createElement(o,this.props,e.createElement(i,this.props))}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter.rt",["react","lodash","baseUI","symbols","util"],function(e,t,o,i,n){"use strict";return function(){function a(){var a=this.props.dataSource,r=n.translate;return e.createElement.apply(this,[o.dropDown.contextMenu,{key:"router-context-menu",shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.handleClick,onChange:this.actionSelectedHandler},t.map(this.routerActions,function(t,n,a,r){return e.createElement(o.dropDown.option,{value:a.id,key:"router-actions"+r},e.createElement(i.symbol,{name:a.icon||"file",style:{position:"relative",margin:"0 7px 0 5px"}}),"\n        ",a.title,"\n    ")}.bind(this,a,r))])}return this.shouldDisplayActions()?a.apply(this,[]):null}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter",["create-react-class","lodash","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter.rt"],function(e,t,o){"use strict";return e({displayName:"quickActionsMenuRouter",shouldDisplayActions:function(){var e=this.props.editorAPI,t=this.getCurrentApplicationId(),o=this.props.editorAPI.platform.getAppDataByApplicationId(t).appDefinitionId;return!0===this.props.editorAPI.platform.getAppManifest(o).routers.routerActions.showOnAllModes||e.developerMode.isEnabled()},componentWillMount:function(){this.routerActions=this.props.editorAPI.pages.dynamicPages.getRouterActionByPrefix(this.props.dataSource.prefix)},getCurrentApplicationId:function(){var e=this.props.editorAPI.documentServices.routers.getRouterRef.byPrefix(this.props.dataSource.prefix);return this.getApplicationId(e)},getApplicationId:function(e){var o=this.props.editorAPI,i=o.documentServices.routers.get.byRef(e);return t.get(o.documentServices.platform.getAppDataByAppDefId(i.appDefinitionId),"applicationId")},notifyApplicationOnEvent:function(e){var t=this.props.editorAPI,o=t.documentServices.routers.getRouterRef.byPrefix(this.props.dataSource.prefix),i={routerRef:o,publicUrl:t.documentServices.generalInfo.getPublicUrl(),origin:"quickActionsMenu"};t.documentServices.platform.notifyApplication(this.getApplicationId(o),{eventType:e,eventPayload:i})},actionSelectedHandler:function(e){var o=t.find(this.routerActions,{id:e});if(o.callback)return o.callback();this.notifyApplicationOnEvent(e)},render:o})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopRouter.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter"],function(e,t,o,i){"use strict";return function(){return e.createElement(o,this.props,e.createElement(i,this.props))}}),define("rEditor/pagesMenu/pageNodeRenderers",["rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt","rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopDynamicPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopRouter.rt"],function(e,t,o,i,n,a,r,s,l){"use strict";return{mobile:{mainMenu:function(i,n){return i.type.isPage||i.type.isDynamicPage||i.type.isRouter?n?o:e:i.type.isLink||i.type.isDropdown?t:void 0}},desktop:{mainMenu:function(e,t){return e.type.isPage?t?a:e.type.isDynamicPage?s:n:e.type.isLink||e.type.isDropdown?r:e.type.isRouter?l:void 0}},common:{subPages:function(){return i}}}}),define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage",["create-react-class","rEditor/pagesMenu/pageNodeRenderers"],function(e,t){"use strict";return e({displayName:"nodeContentMobileSubPage",render:function(){return t.common.subPages(this.props.dataSource).call(this)}})}),define("rEditor/pagesMenu/subPages/subPages.rt",["react","lodash","baseUI","baseUILib","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage"],function(e,t,o,i,n,a,r,s){"use strict";return function(){return e.createElement("div",{className:"pages-tree-container pages-menu"},e.createElement("div",{className:"pages-tree-controls"},e.createElement("a",{href:"#",className:"panel-header-close",onClick:function(e){e.preventDefault(),this.props.closeSubPagesMenu()}.bind(this)},e.createElement("button",{className:"button-control back-to-pages"},e.createElement(a.symbol,{name:"arrowLeft"})),e.createElement("span",{},r.translate("pages_blog_panel_back")))),e.createElement(i.CustomScroll,{},e.createElement(o.treeView,{editedPageIdLink:this.isSubpageRenamingAllowed()?this.props.editedItemIdLink:void 0,onActionSelected:this.isSubpageRenamingAllowed()?this.onActionMenuItemsSelected:void 0,className:"pages-tree ",dataSource:this._pagesList,nodeContent:s,equalityComparer:this.equalityComparer,editorAPI:this.getEditorAPI(),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage(this._curPageData.id),isRoot:!0})))}}),define("rEditor/pagesMenu/subPages/subPages",["lodash","react","create-react-class","prop-types","core","pagesMenu","rEditor/pagesMenu/quickActionsMenuItemsMixin","experiment","rEditor/pagesMenu/subPages/subPages.rt"],function(e,t,o,i,n,a,r,s,l){"use strict";return o({displayName:"subPages",mixins:[t.addons.LinkedStateMixin,n.mixins.editorAPIMixin,r],propTypes:{sectionMenuItem:i.object,openSettingsPanel:i.func.isRequired,closeSubPagesMenu:i.func.isRequired,selectedMenuItemChanged:i.func.isRequired},linkPage:function(e){return{value:e,requestChange:function(e){this.props.selectedMenuItemChanged(e),e&&e.pageData&&this.getEditorAPI().pages.navigateTo(e.pageData.id)}.bind(this)}},getCurrentPagePageData:function(){var e=this.getEditorAPI();return e.documentServices.pages.data.get(e.documentServices.pages.getPrimaryPageId())},equalityComparer:function(e,t){return e.pageData&&e.pageData.id===t},isSubpageRenamingAllowed:function(){var t=e.get(this,"props.sectionMenuItem.pageData.id");return s.isOpen("se_blogChangeSinglePostPageName")&&!0===this.getEditorAPI().documentServices.wixapps.classics.blog.isFeed(t)},render:function(){var e=this.getEditorAPI();this._curPageData=this.getCurrentPagePageData();var t=a.specialPages.menuLogic.getSpecialPagesListBySectionPageOrBySibling(e,this.props.sectionMenuItem&&this.props.sectionMenuItem.pageData||this._curPageData);return this._pagesList=e.mainMenu.convertPagesDataListToMenuItemsList(t),l.call(this)}})}),define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt",["react","lodash","util","symbols"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{className:"empty-pages-and-popups"},e.createElement("figure",{className:"empty-figure"},e.createElement(i.symbol,{name:"noSearchResultStructureSite"})),e.createElement("div",{className:"main-message"},o.translate("POPUPS_SiteStructure_EmptySearch_Title")),e.createElement("div",{className:"try-again-message"},o.translate("POPUPS_SiteStructure_EmptySearch_Text")))}}),define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups",["create-react-class","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt"],function(e,t){"use strict";return e({displayName:"emptyPagesAndPopups",render:t})}),define("rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt",["react","lodash","baseUI","symbols","util"],function(e,t,o,i,n){"use strict";return function(){return e.createElement(o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.props.onClick,onChange:function(e){this.props.actionSelected(this.props.popupData,e)}.bind(this)},e.createElement(o.dropDown.option,{value:"settings"},e.createElement(i.symbol,{name:"qaPopupSettings"}),e.createElement("span",{className:"qa-label"},n.translate("Pages_Actions_Popups_Settings"))),e.createElement(o.dropDown.option,{value:"startRename"},e.createElement(i.symbol,{name:"quickActionsRename"}),e.createElement("span",{className:"qa-label"},n.translate("Pages_Actions_Page_Rename"))),e.createElement(o.dropDown.option,{value:"duplicate"},e.createElement(i.symbol,{name:"qaDuplicate"}),e.createElement("span",{className:"qa-label"},n.translate("Pages_Actions_Page_Duplicate"))),e.createElement(o.dropDown.option,{value:"remove"},e.createElement(i.symbol,{name:"qaDelete"}),e.createElement("span",{className:"qa-label"},n.translate("Pages_Actions_Page_Delete"))))}}),define("rEditor/pagesMenu/popups/quickActions/popupQuickActions",["lodash","create-react-class","prop-types","rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt"],function(e,t,o,i){"use strict";return t({displayName:"popupQuickActions",propTypes:{popupData:o.object.isRequired},render:i})}),define("rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin",["lodash"],function(e){"use strict";return{showTooltip:function(){this.refs.infoIcon&&this.refs.infoIcon.showTooltip()},hideTooltip:function(){this.refs.infoIcon&&this.refs.infoIcon.hideTooltip()},getNotPageProps:function(){return e.assign({},this.props,{onClick:this.showTooltip,onMouseLeave:this.hideTooltip})}}}),define("rEditor/pagesMenu/pageNode/common/nodeContentForList",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,i){"use strict";return e({displayName:"nodeContentForList",mixins:[t.mixins.editorAPIMixin,o],getDefaultProps:function(){return{structureType:"list"}},render:function(){var e=this.getEditorAPI().isDesktopEditor()?"desktop":"mobile";return i[e].mainMenu(this.props.dataSource,this.props.isSectionPage).call(this)}})}),define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt",["react","lodash","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions","rEditor/pagesMenu/pageNode/common/nodeContentForList","baseUI","baseUILib","util"],function(e,t,o,i,n,a,r,s){"use strict";return function(){return e.createElement("div",{className:"pages-and-popups-list"},e.createElement(r.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%"},this.isPagesVisible()?e.createElement("section",{className:"list list-of-pages",key:"list-of-pages"},e.createElement("h1",{className:"list-label"},s.translate("POPUPS_SiteStructure_Panel_Pages")),e.createElement.apply(this,["ul",{className:"popups-list"},t.map(this.props.menuItemsList,function(t,o){return e.createElement("li",{className:"item",key:t.id},e.createElement(n,this.getMenuItemProps(t)))}.bind(this))])):null,this.isPopUpsVisible()?e.createElement("section",{className:"list list-of-pop-ups",key:"list-of-popups"},e.createElement("h1",{className:"list-label"},s.translate("POPUPS_SiteStructure_Panel_Popups")),e.createElement.apply(this,["ul",{className:"pages-list"},t.map(this.props.popupsList,function(t,n){return e.createElement("li",{className:"item",key:t.id},e.createElement(o.pageItem,this.getPopupItemProps(t),this.isShowPopupQuickActions()?e.createElement(i,{key:"popup-quick-actions",popupData:t,actionSelected:this.onActionPopUpSelected}):null))}.bind(this))])):null))}}),define("rEditor/pagesMenu/quickActionsPopupsMixin",["lodash","core","pagesMenu"],function(e,t,o){"use strict";var i=o.pageMenuItemHelpers,n={settings:function(){var e=this.getEditorAPI(),t=e.pages.popupPages.getPopupContainer();e.selection.selectComponentByCompRef(t),e.openComponentPanel("settingsPanel",{initiatorName:"quickActions"})},startRename:function(e,t){this.props.editedItemIdLink.requestChange(t.id)},rename:function(e,t,o){i.renamePage(e,t,o),this.props.editedItemIdLink.requestChange(null)},duplicate:function(e,t){i.duplicatePopup(e,t,function(e){this.props.closeSettingsPanel(),this.props.editedItemIdLink.requestChange(e)}.bind(this))},remove:function(e,o){i.removePopup(e,o.id),e.bi.event(t.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"pop up",page_popup_string_id:o.id,page_popup_name:o.title})}};return{onActionPopUpSelected:function(t,o,i){e.isFunction(n[o])&&n[o].call(this,this.getEditorAPI(),t,i)}}}),define("rEditor/pagesMenu/navigateToMixin",["core"],function(e){"use strict";return{navigateToPageById:function(t,o){var i=this.getEditorAPI();(i.documentServices.pages.getFocusedPageId()!==t||o)&&(i.pages.navigateToAndScroll(t,o,i.applyPreviewScrollToEditorScroll),i.bi.event(e.bi.events.pages.navigate_to_page,{page_id:t}))},scrollToAnchor:function(e){var t=e.pageId&&e.pageId.replace("#","");this.navigateToPageById(t,e.anchorDataId)}}}),define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList",["create-react-class","prop-types","lodash","core","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/navigateToMixin"],function(e,t,o,i,n,a,r,s){"use strict";return e({displayName:"pagesAndPopUpsList",mixins:[i.mixins.editorAPIMixin,a,r,s],propTypes:{popupsList:t.array.isRequired,menuItemsList:t.array.isRequired,openSettingsPanel:t.func.isRequired,closeSettingsPanel:t.func.isRequired,openSpecialPageMenu:t.func.isRequired,closeSpecialPageMenu:t.func.isRequired,isSectionPage:t.func.isRequired,editedItemIdLink:t.object.isRequired,selectedItemInfoLink:t.object.isRequired,changeSelectedMenuItem:t.func.isRequired,openSectionPageMenu:t.func.isRequired},onRenameDone:function(e,t){this.onActionPopUpSelected(e,"rename",t)},isShowPopupQuickActions:function(){return this.getEditorAPI().isDesktopEditor()},isPagesVisible:function(){return this.props.menuItemsList.length},isPopUpsVisible:function(){return this.props.popupsList.length},setSelectedPage:function(e){e.type.isPage?this.navigateToPageById(e.pageData.id):e.type.isLink&&"AnchorLink"===e.type.raw&&this.scrollToAnchor(e.link),this.props.changeSelectedMenuItem(e),this.props.selectedItemInfoLink.requestChange({id:e.id,isPageOrPopup:e.isPage})},getPopupItemProps:function(e){return{value:e.title,label:e.title,onChange:o.partial(this.onRenameDone,e),isVisible:!0,isSelected:this.props.selectedItemInfoLink.value.id===e.id,editModeLink:this.linkEditMode(e.id),onClick:o.partial(this.onPopUpClick,e),onContextMenu:this.props.setSelected}},getMenuItemProps:function(e){return{editorAPI:this.getEditorAPI(),dataSource:e,editedPageIdLink:this.props.editedItemIdLink,isSelected:this.props.selectedItemInfoLink.value.id===e.id,onActionSelected:this.onActionMenuItemsSelected,setSelected:this.setSelectedPage.bind(this,e),isSectionPage:this.props.isSectionPage(e),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.props.openSectionPageMenu}}},onPopUpClick:function(e,t){t.stopPropagation(),this.getEditorAPI().pages.popupPages.open(e.id),this.props.closeSettingsPanel(),this.props.selectedItemInfoLink.requestChange({id:e.id,isPageOrPopUp:!0})},linkEditMode:function(e){return{value:e===this.props.editedItemIdLink.value,requestChange:function(t){this.props.editedItemIdLink.requestChange(t?e:null)}.bind(this)}},render:n})}),define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList"],function(e,t,o,i,n){"use strict";return function(){return e.createElement("div",{className:"filtered-pages-and-popups"},this.isSpecialPagesPanelOpen()?null:e.createElement("div",{className:"without-special-page",key:"list-of-filtered-pages-and-popups"},this.isHasSomeItems()?e.createElement(n,t.assign({},{key:"filtered-pages-and-popups-not-empty"},this.getProps())):null,this.isHasSomeItems()?null:e.createElement(i,{key:"filtered-pages-and-popups-empty"})),this.isSpecialPagesPanelOpen()?e.createElement(o,{key:"subpages-menu",sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null)}}),define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups",["react","create-react-class","prop-types","lodash","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt"],function(e,t,o,i,n,a){"use strict";return t({displayName:"filterPagesAndPopups",mixins:[e.addons.LinkedStateMixin,n],propTypes:{popupsList:o.array.isRequired,menuItemsList:o.array.isRequired,openSettingsPanel:o.func.isRequired,closeSettingsPanel:o.func.isRequired,openSpecialPageMenu:o.func.isRequired,closeSpecialPageMenu:o.func.isRequired,isSectionPage:o.func.isRequired,editedItemIdLink:o.object.isRequired,selectedItemInfoLink:o.object.isRequired,changeSelectedMenuItem:o.func.isRequired},isHasSomeItems:function(){return 0!==this.props.menuItemsList.length||0!==this.props.popupsList.length},getProps:function(){return i.assign({},this.props,{openSectionPageMenu:this.openSpecialPagesMenu})},render:a})}),define("rEditor/pagesMenu/mainMenuTreeState",["lodash"],function(e){"use strict";function t(e,t){n[e]=Boolean(t)}function o(e,t){return n.hasOwnProperty(e)?n[e]:t||!1}function i(n){e.forEach(n,function(e){e.isCollapsed=o(e.id),e.items.length>0?i(e.items):e.isCollapsed&&(e.isCollapsed=!1,t(e.id,!1))})}var n={};return{setMenuItemCollapsed:t,reflectStateToMenuTree:i,reflectStateToMenuItem:function(i,n){return i.isCollapsed=o(i.id,n),e.get(i,"items.length",0)<=0&&i.isCollapsed&&(i.isCollapsed=!1,t(i.id,!1)),i}}}),define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt",["react","lodash","symbols","baseUI","util","experiment","constants"],function(e,t,o,i,n,a,r){"use strict";return function(){return function(){var t=n.translate;return e.createElement("ul",{className:"tooltip-pages-add-menu"},e.createElement("li",{},e.createElement("div",{onClick:this.props.addPage},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelPage"})),e.createElement("div",{},e.createElement("span",{className:"title"},t("Pages_Menu_Add_Page_Title")),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Page_Text"))))),this.props.isEditorInDeveloperMode?e.createElement("li",{key:"dynamic_page"},e.createElement("div",{onClick:this.props.addDynamicPage},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelDynamicPage"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Platform_Pages_Menu_Add_Dynamic_Page_Title"),"\n                "),e.createElement("span",{className:"description"},t("Platform_Pages_Menu_Add_Dynamic_Page_Text"))))):null,e.createElement("li",{},e.createElement("div",{onClick:this.props.addLink},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelLink"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Pages_Menu_Add_Link_Title"),"\n                    ",e.createElement(i.tooltip,{value:"Pages_Menu_Add_Link_Tooltip",width:"228",alignment:r.UI.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"title-help-icon"},e.createElement(o.symbol,{name:"infoSmall"})))),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Link_Text"))))),e.createElement("li",{},e.createElement("div",{onClick:this.props.addDropdown},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelDropDown"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Pages_Menu_Add_Dropdown_Title"),"\n                    ",e.createElement(i.tooltip,{value:this.getTooltipValue(),width:"240px",alignment:r.UI.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"title-help-icon"},e.createElement(o.symbol,{name:"infoSmall"})))),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Dropdown_Text"))))))}.apply(this,[])}}),define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel",["create-react-class","prop-types","lodash","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt"],function(e,t,o,i){"use strict";return e({displayName:"addPageMenuPanel",mixins:[],propTypes:{addPage:t.func.isRequired,addLink:t.func.isRequired,addDropdown:t.func.isRequired,addDynamicPage:t.func,isEditorInDeveloperMode:t.bool},getTooltipValue:function(){return{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{image:"addDropDownHint",imageContainerStyle:{backgroundColor:"#17a8a4"},text:"Pages_Menu_Add_Dropdown_Tooltip"}}},render:i})}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils",["util"],function(e){"use strict";var t={none:"Pages_Menu_Transitions_None",swipeHorizontalFullScreen:"Pages_Menu_Transitions_SwipeH_Selected",swipeVerticalFullScreen:"Pages_Menu_Transitions_SwipeV_Popup",crossfade:"Pages_Menu_Transitions_CrossFade",outIn:"Pages_Menu_Transitions_OutIn"},o={outIn:"outIn",crossfade:"crossfade",shrinkfade:"crossfade",swipeHorizontal:"swipeHorizontalFullScreen",swipeHorizontalFullScreen:"swipeHorizontalFullScreen",swipeVertical:"swipeVerticalFullScreen",swipeVerticalFullScreen:"swipeVerticalFullScreen",none:"none"};return{calcNewIdFromLegacy:function(e){return o[e]?o[e]:o.none},getTransitionLabelKey:function(e){var o=this.calcNewIdFromLegacy(e);return t[o]},getTransitionLabelTranslated:function(t){return e.translate(this.getTransitionLabelKey(t))}}}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","baseUILib"],function(e,t,o,i,n,a,r,s){"use strict";return function(){return e.createElement("section",{className:"page-transitions",tabIndex:"0"},e.createElement(s.PanelHeader,{className:"dark",onClose:this.close,onHelp:this.helpClicked},e.createElement("span",{},a.translate("Pages_Menu_Transitions_Title"))),e.createElement("div",{className:"content"},e.createElement(o.thumbnails,{className:"with-labels",maxThumbsPerRow:"3",options:this.props.transitionsToShow,value:r.calcNewIdFromLegacy(this.getEditorAPI().pages.transitions.get()),onChange:this.onTransitionChange})),e.createElement("i",{className:"triangle"}))}}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel",["reactDOM","create-react-class","prop-types","lodash","baseUI","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","core","util"],function(e,t,o,i,n,a,r,s,l){"use strict";var c=n.tooltipManager,p=[{id:"none",symbolName:"transition-none"},{id:"swipeHorizontalFullScreen",symbolName:"transition-pages-horizontal"},{id:"swipeVerticalFullScreen",symbolName:"transition-pages-vertical"},{id:"crossfade",symbolName:"transition-pages-crossfade"},{id:"outIn",symbolName:"transition-pages-inout"}];return t({displayName:"pageTransitionsPanel",mixins:[s.mixins.editorAPIMixin,l.outerClickMixin],render:a,propTypes:{onClose:o.func},getDefaultProps:function(){return{transitionsToShow:i.map(p,function(e){return{value:e.id,label:r.getTransitionLabelKey(e.id),symbolName:e.symbolName}})}},componentDidMount:function(){e.findDOMNode(this).focus()},onTransitionChange:function(e){this.getEditorAPI().pages.transitions.set(e),this.getEditorAPI().bi.event(s.bi.events.pages.pagesPanel.page_transition_selected_click,{category:e}),this.performAnimationSimulation()},flattenMenuData:function(e){var t=[];return i.forEach(e.documentServices.mainMenu.getMenu(!0),function(e){t.push(e),t=t.concat(e.items||[])}),t},performAnimationSimulation:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPrimaryPageId(),o=i.filter(this.flattenMenuData(e),function(e){return!!e.link&&"PageLink"===e.link.type}),n=i.map(i.map(o,"link"),"pageId"),a=n.indexOf("#"+t),r=a+1;a===n.length-1&&(r=0),r!==a&&e.pages.navigateTo(n[r].slice(1))},helpClicked:function(){var e=this.getEditorAPI(),t={panel_name:this.props.id,origin:s.constants.BI.HELP.ORIGIN.PAGES,learn_more:!1};e.panelManager.openHelpCenter("dfc95824-954a-4d20-aad2-7971d3fbdb98",null,t),c.hide(this.props.id)},close:function(){this.props.onClose&&this.props.onClose(),c.hide(this.props.id)},onOuterClick:function(){this.close()}})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin",["lodash","core","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/navigateToMixin","experiment"],function(e,t,o,i,n){"use strict";function a(t){return e.reduce(t||[],function(e,t){return t.isCollapsed||(e+=a(t.items)),e+1},0)}function r(t,o){return e.forEach(t,function(e,t){e.items&&e.items.length&&(e.items=r(e.items,o));for(var i=0;i<o.length;i+=1)e=o[i](e,t)}),t}function s(e,t){return e.position=t,e}return{mixins:[t.mixins.editorAPIMixin,i],onPageToggled:function(e,t){var i=e.props.dataSource.id;o.setMenuItemCollapsed(i,t),this.forceUpdate()},linkPage:function(){var t=this.props.selectedItemInfoLink.value,o=Boolean(t.isPageOrPopup),i=t.id;return{value:{pageId:o?i:null,menuItemId:o?null:i,isPage:o},requestChange:function(t){this.props.selectedItemInfoLink.requestChange({id:t.type.isPage?e.get(t.pageData,"id"):t.id,isPageOrPopup:t.type.isPage}),this.props.changeSelectedMenuItem(t),t.type.isPage?this.navigateToPageById(t.pageData.id):t.type.isLink&&"AnchorLink"===t.type.raw&&this.scrollToAnchor(t.link)}.bind(this)}},closePanel:function(){this.props.onClose()},shouldShrinkMenu:function(){return a(this._menuTree)>17},equalityComparer:function(e,t){return t.isPage&&e.pageData&&e.pageData.id===t.pageId||t.menuItemId===e.id},getTreeDockerScrollTop:function(){return this.refs.pagesTree.getScrollTop()},renderTemplate:function(e){var t=this.getEditorAPI(),i=t.documentServices.pages.getPagesData(),a=this.props.menuItemsTree,l=!!n.isOpen("pagesPanelOpenCollapsed")&&i.length>40;a=r(a,[function(e){return o.reflectStateToMenuItem(e,l)},s]),this._menuTree=a;var c=t.pages.dynamicPages.getMenuItems();return c=r(c,[function(e){return o.reflectStateToMenuItem(e,l)}]),this._menuDynamicTree=c,e.call(this)}}}),define("rEditor/pagesMenu/pagesTree/pagesTree.rt",["react","lodash","baseUI","baseUILib","experiment"],function(e,t,o,i,n){"use strict";return function(){return e.createElement(i.CustomScroll,{ref:"customScroll"},e.createElement(o.treeView,t.assign({},{className:this.getTreeViewClasses(),dataSource:this.props.pagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:!0},this.filteredProps())),e.createElement(o.treeView,t.assign({},{key:"dynamicPagesTree",className:"dynamic-pages",dataSource:this.props.dynamicPagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:!0},this.filteredProps())))}}),define("rEditor/pagesMenu/pagesTree/pagesTree",["reactDOM","lodash","create-react-class","prop-types","core","rEditor/pagesMenu/pagesTree/pagesTree.rt"],function(e,t,o,i,n,a){"use strict";return o({displayName:"pagesTree",mixins:[n.mixins.editorAPIMixin],propTypes:{pagesList:i.any.isRequired,dynamicPagesList:i.any.isRequired},filteredProps:function(){return t.omit(this.props,["dynamicPagesList","pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},getScrollTop:function(){return this.refs.customScroll.getScrollTop()},scrollToSelectedNode:function(){this._scrollToSelectedNode=!0},componentDidUpdate:function(){var t=void 0,o=void 0,i=NaN;if(this._scrollToSelectedNode){this._scrollToSelectedNode=!1;var n=e.findDOMNode(this),a=n.querySelector(".pages-tree-item.selected");a&&(t=n.getBoundingClientRect(),(o=a.getBoundingClientRect()).top<t.top?i=this.getScrollTop()+(o.top-t.top):o.bottom>t.bottom&&(i=this.getScrollTop()+(o.bottom-t.bottom)),isNaN(i)||this.refs.customScroll.updateScrollPosition(Math.max(0,i)))}},getTreeViewClasses:function(){return"pages-tree "},render:a})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,i){"use strict";return e({displayName:"nodeContentDesktopMainMenu",mixins:[t.mixins.editorAPIMixin,o],render:function(){var e=this.props.dataSource;return i.desktop.mainMenu(e,this.props.isSectionPage(e)).call(this)}})}),define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","util"],function(e,t,o,i){"use strict";return function(){return this.state.isContextMenuOpen?function(){var n=i.translate;return e.createElement("div",{key:"pagesMenuContextMenuContainer",style:{position:"absolute",top:this.state.position.y,left:this.state.position.x},className:t({rightClickMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("ul",{},e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddPage",label:n(this.addPageItem.label),shouldTranslate:!1,item:this.addPageItem,onClick:this.addPageClickHandler}),e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddLink",label:n(this.addLinkItem.label),shouldTranslate:!1,item:this.addLinkItem,onClick:this.addLinkClickHandler}),e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddDropdown",label:n(this.addDropdownItem.label),shouldTranslate:!1,item:this.addDropdownItem,onClick:this.addDropdownClickHandler})),e.createElement("ul",{},e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuChangeTransition",label:n(this.changeTransitionItem.label),shouldTranslate:!1,item:this.changeTransitionItem,onClick:this.changeTransitionClickHandler})))}.apply(this,[]):null}}),define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu",["create-react-class","prop-types","core","lodash","baseUI","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt"],function(e,t,o,i,n,a){"use strict";var r=n.tooltipManager;return e({displayName:"pagesMenuContextMenu",mixins:[o.mixins.editorAPIMixin],propTypes:{addPage:t.func,addLink:t.func,addDropdown:t.func,transitionPanelId:t.string},addPageItem:{label:"Pages_Menu_Context_Menu_Add_Page",enabled:!0},addLinkItem:{label:"Pages_Menu_Context_Menu_Add_Link",enabled:!0},addDropdownItem:{label:"Pages_Menu_Context_Menu_Add_Dropdown",enabled:!0},changeTransitionItem:{label:"Pages_Menu_Context_Menu_Change_Transition",enabled:!0},closeContextMenu:function(){this.setState({isContextMenuOpen:!1})},getInitialState:function(){return{isContextMenuOpen:!1,position:null}},show:function(e){this.setState({isContextMenuOpen:!0,position:e});this.getEditorAPI().bi.event(o.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click,{origin:"right_click"})},addPageClickHandler:function(){this.closeContextMenu();this.props.addPage(void 0,{origin:"right_click"})},addLinkClickHandler:function(){this.closeContextMenu();this.props.addLink(void 0,{origin:"right_click"})},addDropdownClickHandler:function(){this.closeContextMenu();this.props.addDropdown(void 0,{origin:"right_click"})},changeTransitionClickHandler:function(){this.closeContextMenu(),r.show(this.props.transitionPanelId);this.getEditorAPI().bi.event(o.bi.events.topbar.pages.top_bar_PAGES_page_transition_click,{origin:"right_click"})},render:a})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt",["react","lodash","baseUI","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu","experiment","constants"],function(e,t,o,i,n,a,r,s,l,c,p,d){"use strict";return function(){return function(){var a=this.getEditorAPI(),p=n.translate;return e.createElement("div",{className:t({"pages-menu":!0,"pages-panel-settings-opened":!!this.state.menuItemIdToShowSettingsFor}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:t({"pages-tree-container":!0,"disable-drag":this.hasEditedPages()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseDown:this.mouseDownHandler,onContextMenu:this.rightClickHandler},e.createElement(o.treeDocker,{className:t({"pages-tree-docker":!0,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onNodeMoved:function(e,t,o){this.movePage(o,this.props.menuItemsTree)}.bind(this,a,p),treeClass:"pages-tree",treeNodeClass:"pages-tree-node",treeNodeLabelClass:"pages-tree-item",draggedClass:"rotated",previewClass:"shadow",cantBeChildClass:"cant-be-child",isDragAvailable:!this.hasEditedPages(),scrollTopGetter:this.getTreeDockerScrollTop,collapsedClass:"tree-collapsed"},e.createElement(r,{ref:"pagesTree",nodeContent:l,structureType:"tree",equalityComparer:this.equalityComparer,pagesList:this._menuTree,dynamicPagesList:this._menuDynamicTree,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu},onActionSelected:this.onActionMenuItemsSelected,editedPageIdLink:this.props.editedMenuItemIdLink,valueLink:this.linkPage()}))),e.createElement("footer",{},e.createElement(o.tooltip,{value:this.getAddPageMenu(),alignment:"right",width:"296",marginsFromWindow:"75",openTriggers:[d.UI.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[d.UI.TOOLTIP.TRIGGERS.OUTER_CLICK],onClose:this.onAddPageMenuClose,id:"addPageMenuPopoverId",className:"popover-add-page-menu"},e.createElement(o.button,{label:"Pages_Menu_Add_Button",icon:"addPage",onClick:this.reportClick("add"),hintId:"Pages_NewPage"})),e.createElement(o.tooltip,{value:this.getPageTransitionsPanel(),alignment:"right",width:"296",marginsFromWindow:"0",openTriggers:[d.UI.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[d.UI.TOOLTIP.TRIGGERS.OUTER_CLICK],id:this.getPageTransitionsPanelId()},e.createElement("div",{className:"page-transition",onClick:this.reportClick("transition")},e.createElement("div",{className:"icon"},e.createElement(i.symbol,{name:"truck"})),e.createElement("div",{},e.createElement("span",{},p("Pages_Menu_Transitions_Caption")),e.createElement(o.button,{className:"btn-text",label:s.getTransitionLabelKey(a.pages.transitions.get())}))))),e.createElement(c,{addPage:this.addPage,addLink:this.addLink,addDropdown:this.addDropdown,transitionPanelId:this.getPageTransitionsPanelId(),ref:"pagesMenuContextMenu"}))}.apply(this,[])}}),define("rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin",[],function(){"use strict";return{mouseDownHandler:function(){this.refs.pagesMenuContextMenu.closeContextMenu()},rightClickHandler:function(e){var t=void 0;"inner-container"===e.target.className&&(e.preventDefault(),t=e.target.getBoundingClientRect(),this.refs.pagesMenuContextMenu.closeContextMenu(),this.refs.pagesMenuContextMenu.show({x:e.clientX-t.left,y:e.clientY-t.top}))}}}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop",["react","create-react-class","prop-types","core","lodash","baseUI","util","pagesMenu","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin"],function(e,t,o,i,n,a,r,s,l,c,p,d,u,m,g){"use strict";var f=s.pageMenuItemHelpers;return t({displayName:"mainMenuPagesDesktopPopups",mixins:[d,m,g],propTypes:{pageAdded:o.func,mainMenuTree:o.any,onActionPagesSelected:o.func,selectedItemInfoLink:o.object},componentWillMount:function(){this.editorAPI=this.getEditorAPI(),this.dataBindingAppData=this.editorAPI.documentServices.platform.getAppDataByAppDefId(this.editorAPI.documentServices.platform.editorApps.DATA_BINDING.appDefId)},biData:{page:{category:"page"},link:{category:"link"},dropdown:{category:"dropdown menu"},dynamicPage:{category:"dynamic page"}},getInitialState:function(){return{isPageTransitionPanelOpened:!1}},movePage:function(e,t){var o={items:t},n=e.from.findIn(o,"items"),a=n.id,r=e.to.parent().findIn(o,"items").id||null,s=e.to.findIn(o,"items"),c=s?s.position:e.to.atRight(),p=this.getEditorAPI();a&&(r&&l.setMenuItemCollapsed(r,!1),p.documentServices.mainMenu.moveItem(a,r,c),p.history.add("moving a page"),p.documentServices.waitForChangesApplied(function(e){r&&this.refs.pagesTree.scrollToSelectedNode(),this.refs.pagesTree.props.valueLink.requestChange(e)}.bind(this,n)),p.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_menu_drag),r&&1===e.from.length()?p.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"drag"}):!r&&e.from.length()>1&&p.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"drag"}))},closePageTransitionsPanel:function(){this.setState({isPageTransitionPanelOpened:!1})},_onAddPageMenuCloseHandler:n.noop,onAddPageMenuClose:function(){this._onAddPageMenuCloseHandler(this.props.pageAdded||n.noop),this._onAddPageMenuCloseHandler=n.noop},addPage:function(){var e=this.getEditorAPI(),t=r.translate("Pages_Menu_Add_New_Page"),o=f.addPage(e,t,null,this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e,t){this.renameMenuItemById(t),this.props.selectedItemInfoLink.requestChange({id:t,isPageOrPopUp:!0})}.bind(this)),n=(e.documentServices.generalInfo.urlFormat.isSlash()?e.pages.data.pageUriSEO:s.utils).convertPageNameToUrl(t);e.pages.data.update(o.id,{pageUriSEO:n}),e.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.page)},addDynamicPage:function(){this.editorAPI.documentServices.platform.notifyApplication(this.dataBindingAppData.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{origin:"mainMenuPageDesktop"}}),this.editorAPI.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.dynamicPage)},addLink:function(){var e=this.getEditorAPI(),t=function(t){var o=e.data.createItem(t.type);n.assign(o,n.omit(t,["type"])),f.addLink(e,o,r.translate("Pages_Menu_Add_New_Link"),this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e){this.renameMenuItemById(e),this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0})}.bind(this))}.bind(this);!function(e,t,o){e.openLinkPanel({visibleSections:{NoLink:!1},hidePageLinks:!0,link:o,showAllPopups:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:n.once(t)})}(e,t),e.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.link)},addDropdown:function(){var e=this.getEditorAPI();f.addDropdown(e,r.translate("Pages_Menu_Add_New_Category"),this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e){this.renameMenuItemById(e),this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0})}.bind(this)),e.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.dropdown)},_setAddPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addPage,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddLinkHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addLink,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddDropdownHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDropdown,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddDynamicPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDynamicPage,a.tooltipManager.hide("addPageMenuPopoverId",!0)},getAddPageMenu:function(){return e.createElement(c,{addPage:this._setAddPageHandlerAndHideTooltip,addLink:this._setAddLinkHandlerAndHideTooltip,addDropdown:this._setAddDropdownHandlerAndHideTooltip,isEditorInDeveloperMode:this.isEditorInDeveloperMode(),addDynamicPage:this._setAddDynamicPageHandlerAndHideTooltip})},getPageTransitionsPanel:function(){var t=this.getEditorAPI();return e.createElement(p,{biEvent:t.bi.event,id:this.getPageTransitionsPanelId()})},isEditorInDeveloperMode:function(){return this.getEditorAPI().developerMode.isEnabled()},getPageTransitionsPanelId:function(){return"getPageTransitionsPanelId"},hasEditedPages:function(){return Boolean(this.props.editedMenuItemIdLink.value)},renameMenuItemById:function(e){this.props.editedMenuItemIdLink.requestChange(e)},reportClick:function(e){var t=this.getEditorAPI();switch(e){case"add":return function(){t.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click)};case"transition":return function(){t.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_page_transition_click)}}},render:function(){return this.renderTemplate(u)}})}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,i){"use strict";return e({displayName:"nodeContentMobileMainMenu",mixins:[t.mixins.editorAPIMixin,o],render:function(){var e=this.props.dataSource;return i.mobile.mainMenu(e,this.props.isSectionPage(e)).call(this)}})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu","experiment"],function(e,t,o,i,n,a,r,s,l){"use strict";return function(){return e.createElement("div",{className:"pages-menu"},e.createElement("div",{className:t({"pages-tree-container":!0,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(r,{ref:"pagesTree",structureType:"tree",nodeContent:s,pagesList:this._menuTree,dynamicPagesList:this._menuDynamicTree,equalityComparer:this.equalityComparer,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage()}),0===this.props.menuItemsTree.length?e.createElement("div",{key:"noPagesFoundSymbolContainer",className:"no-pages"},e.createElement(n.symbol,{name:"noPagesFound"}),e.createElement("div",{},a.translate("Pages_Menu_Empty_Title")),e.createElement("div",{},a.translate("Pages_Menu_Empty_Text"))):null))}}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile",["create-react-class","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt"],function(e,t,o){"use strict";return e({displayName:"mainMenuPagesMobilePopups",mixins:[t],openSettingsPanel:function(e){this.props.closeSettingsPanel(),this.props.openSettingsPanel(e)},render:function(){return this.renderTemplate(o)}})}),define("rEditor/pagesMenu/popups/popupsList/popupsList.rt",["react","lodash","baseUI","baseUILib","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions"],function(e,t,o,i,n,a){"use strict";return function(){return e.createElement("div",{className:"popups-list"},e.createElement("div",{className:"scroll-wrapper"},e.createElement(i.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%"},e.createElement.apply(this,["ul",{className:"page-node-list popups-list"},t.map(this.props.popupsList,function(i,r){return e.createElement("li",{className:"page-node-list-item",key:i.id},e.createElement(n.pageItem,this.getPopupItemProps(i),this.isQuickActionsVisible()?e.createElement(a,{key:i.id+"-popup-item-quick-action-menu",popupData:i,onClick:t.partial(this.onClick,i.id),actionSelected:this.onActionPopUpSelected}):null,this.isPagesListHintVisible(i)?e.createElement("a",{href:"#",key:"pages-related-to-popup-"+i.id,className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",shouldTranslate:!1,text:this.getHintWithRelatedPages(i),ref:"infoIcon"})):null))}.bind(this))]))))}}),define("rEditor/pagesMenu/popups/popupsList/popupsList",["lodash","create-react-class","prop-types","core","util","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/popups/popupsList/popupsList.rt"],function(e,t,o,i,n,a,r){"use strict";return t({displayName:"popupList",mixins:[i.mixins.editorAPIMixin,n.translationMixin,a],propTypes:{popupsList:o.any.isRequired,selectedItemInfoLink:o.object,editedItemIdLink:o.object},getKey:function(e){return"popup-quick-action-menu"+e},onClick:function(e){var t=this.getEditorAPI();this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0}),this.props.closeSettingsPanel(),t.pages.navigateTo(e,function(){t.selection.selectComponentByCompRef(t.pages.popupPages.getPopupContainer(e))}),t.bi.event(i.bi.events.topbar.pages.top_bar_PAGES_navigate_to_pop_up,{pop_up_id:e})},getPopupItemProps:function(t){return{value:t.title,label:t.title,onChange:e.partial(this.onRenameDone,t),isVisible:!0,isSelected:t.id===e.get(this.props,"selectedItemInfoLink.value.id"),editModeLink:this.linkEditMode(t.id),onClick:e.partial(this.onClick,t.id),onContextMenu:this.props.setSelected}},onRenameDone:function(e,t){this.onActionPopUpSelected(e,"rename",t)},linkEditMode:function(e){var t=this.props.editedItemIdLink;return{value:t&&t.value===e,requestChange:function(o){t&&t.requestChange(o?e:null)}}},filteredProps:function(){return e.omit(this.props,["pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},isQuickActionsVisible:function(){return this.getEditorAPI().isDesktopEditor()},isPagesListHintVisible:function(e){var t=e.pagesListToShowOnLoad;return this.getEditorAPI().isDesktopEditor()&&(t.titles.length>0||t.showOnAllPages)},_formatMessageForFewPages:function(t){var o=t.length,i=this.getEditorAPI(),n=this.translateTemplate("Pages_Menu_Popup_Tooltip_Start_Section",{$PAGE_NAME:e.head(t)},i),a=this.translateTemplate("Pages_Menu_Popup_Tooltip_End_Section",{$PAGE_NAME:e.last(t)},i),r=void 0;return 1===o?r=n:2===o?r=n+" "+a:(r=e.reduce(e.slice(t,1,-1),e.bind(function(e,t){return e+" "+this.translateTemplate("Pages_Menu_Popup_Tooltip_Middle_Section",{$PAGE_NAME:t},i)},this),n),r+=" "+a),r},getHintWithRelatedPages:function(e){var t=e.pagesListToShowOnLoad.titles;return e.pagesListToShowOnLoad.showOnAllPages?this.translateIfNeeded("Pages_Menu_Popup_Tooltip_Set_To_All"):this._formatMessageForFewPages(t)},render:r})}),define("rEditor/pagesMenu/popups/popups/popups.rt",["react","lodash","baseUI","rEditor/pagesMenu/popups/popupsList/popupsList"],function(e,t,o,i){"use strict";return function(){return e.createElement("div",{className:"popups-tab"},e.createElement(i,t.assign({},{className:"popups-list"},this.props)),this.isFooterHidden()?null:e.createElement("footer",{key:"popup-list-key"},e.createElement(o.button,{label:"POPUPS_SiteStructure_Panel_Button_Add",icon:"addPage",className:"control-button",onClick:this.onAddClick})))}}),define("rEditor/pagesMenu/popups/popups/popups",["lodash","react","create-react-class","prop-types","core","stateManagement","rEditor/pagesMenu/popups/popups/popups.rt"],function(e,t,o,i,n,a,r){"use strict";return o({displayName:"popups",mixins:[n.mixins.editorAPIMixin,t.addons.LinkedStateMixin],propTypes:{popupsList:i.any.isRequired,selectedItemInfoLink:i.object.isRequired,editedItemIdLink:i.object.isRequired},onAddClick:function(){this.getEditorAPI().store.dispatch(a.userPreferences.logic.setSessionUserPreferences("addPanelCategoryIdOnClose","popup")),this.getEditorAPI().store.dispatch(a.leftBar.logic.openAddPanel())},isFooterHidden:function(){return this.getEditorAPI().isMobileEditor()},render:r})}),define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile","pagesMenu","baseUI","rEditor/pagesMenu/popups/popups/popups"],function(e,t,o,i,n,a,r,s){"use strict";return function(){function a(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}return e.createElement("div",{className:"unfiltered-pages-and-popups"},this.isTabsVisible()?e.createElement(r.horizontalTabs,{key:"unfiltered-pages-popups-tabs",options:this.getTabs(),valueLink:this.props.unfilteredSelectedTabLink,className:"arrowed tabs-pages-and-popups"}):null,this.isMainMenuVisible()?e.createElement(i,a({className:"pages-tab",ref:"mainMenuPagesDesktop",key:"main-menu-pages-desktop",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isMainMenuMobileVisible()?e.createElement(n,a({className:"pages-tab",ref:"mainMenuPagesMobile",key:"main-menu-pages-mobile",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isSpecialPagesVisible()?e.createElement(o,{key:"subpages-menu",editedItemIdLink:this.props.editedItemIdLink,sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null,this.isPopupsTabActive()?e.createElement(s,{key:"popups-tab",className:"popup-tab",closeSettingsPanel:this.props.closeSettingsPanel,popupsList:this.props.popupsList,editedItemIdLink:this.props.editedItemIdLink,onActionSelected:this.onActionPopUpSelected,selectedItemInfoLink:this.props.selectedItemInfoLink}):null)}}),define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups",["react","create-react-class","prop-types","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt"],function(e,t,o,i,n){"use strict";var a=[{label:"POPUPS_SiteStructure_Panel_Pages",value:"pages"},{label:"POPUPS_SiteStructure_Panel_Popups",value:"popups"}];return t({displayName:"unfilteredPagesAndPopups",mixins:[e.addons.LinkedStateMixin,i],propTypes:{popupsList:o.array.isRequired,menuItemsTree:o.array.isRequired,openSettingsPanel:o.func.isRequired,closeSettingsPanel:o.func.isRequired,openSpecialPageMenu:o.func.isRequired,closeSpecialPageMenu:o.func.isRequired,isSectionPage:o.func.isRequired,editedItemIdLink:o.object.isRequired,selectedItemInfoLink:o.object.isRequired,unfilteredSelectedTabLink:o.object.isRequired},getTabs:function(){return a},isTabsVisible:function(){return this.props.popupsList.length>0},isMainMenuVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isDesktopEditor()},isMainMenuMobileVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isMobileEditor()},isSpecialPagesVisible:function(){return this.state.selectedSectionPage&&this.isPagesTabActive()},isPagesTabActive:function(){return 0===this.props.popupsList.length||"pages"===this.props.unfilteredSelectedTabLink.value},isPopupsTabActive:function(){return this.props.popupsList.length>0&&"popups"===this.props.unfilteredSelectedTabLink.value},render:n})}),define("rEditor/rootComps/panels/pagesAndPopupsPanel.rt",["react","lodash","panels","util","pagesMenu","baseUI","experiment","core","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups"],function(e,t,o,i,n,a,r,s,l,c){"use strict";return function(){return function(){var t=i.translate,a=n.settingsPanels.desktop.mainMenu,p=n.settingsPanels.mobile.mainMenu,d=n.settingsPanels.desktop.subpage,u=n.settingsPanels.mobile.subpage,m=this.getFilter();return e.createElement(o.frames.pagesPanelFrame,{ref:"frame",panelName:this.props.panelName,title:t(this._panelTitle),helpId:this.getHelpId(),"}":!0},e.createElement("div",{className:"pages-panel-shadow"}),r.isOpen("pagesFirstTimeSteps")&&this.getEditorAPI().isDesktopEditor()?e.createElement(s.lazyComponent,{key:"pagesPanelController",moduleName:"firstTimeExperience.pagesPanelController",target:this.state.firstPageItemNode,isPopupsTabSelected:"popups"===this.state.unfilteredSelectedTab}):null,this.isMainMenuDesktopOpened()?e.createElement(a,{key:"page-settings-panel",menuItem:this.state.menuItemToShowSettingsFor,activeTab:this.state.selectedSettingsTab,closeSettingsPanel:this.closeMainMenu,token:this.props.token,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isMainMenuMobileOpened()?e.createElement(p,{key:"page-settings-panel",menuItem:this.state.menuItemToShowSettingsFor,isDeveloperModeEnabled:this.isDeveloperModeEnabled(),closeSettingsPanel:this.closeMainMenu,token:this.props.token,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isSpecialPagesDesktopMenuOpened()?e.createElement(d,{key:"page-settings-panel",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,this.isSpecialPagesMobileMenuOpened()?e.createElement(u,{key:"page-settings-panel",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,m?null:e.createElement(c,{key:"unfilteredPagesAndPopUps",ref:"unfilteredPagesAndPopUps",popupsList:this._popupsList,menuItemsTree:this._menuItemsTree,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo"),unfilteredSelectedTabLink:this.linkUnfilteredSelectedTab()}),m?e.createElement(l,{key:"filterPagesAndPopups",ref:"filterPagesAndPopups",popupsList:this._popupsList,menuItemsList:this._menuItemsList,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo")}):null)}.apply(this,[])}}),define("rEditor/rootComps/panels/pagesAndPopupsPanel",["reactDOM","react","create-react-class","prop-types","core","lodash","pagesMenu","blog","tpa","helpIds","experiment","rEditor/rootComps/panels/pagesAndPopupsPanel.rt"],function(e,t,o,i,n,a,r,s,l,c,p,d){"use strict";function u(e,t,o){var i=a.toLower(o);return a.filter(e,function(e){return~(e[t]||"").toLowerCase().indexOf(i)})||[]}function m(e){return e.documentServices.pages.getFocusedPageId()}var g={POPUPS_AND_PAGES_LABEL_KEY:"POPUPS_SiteStructure_Panel_Title",PAGES_TITLE:"Pages_Menu_Title_Title",FILTERED_PAGES_POPUPS_TITLE:"POPUPS_SiteStructure_Panel_Title"};return o({displayName:"pagesAndPopupsPanel",mixins:[n.mixins.editorAPIMixin,t.addons.LinkedStateMixin],propTypes:{filter:i.any},getInitialState:function(){var e={menuItemToShowSettingsFor:this.props.menuItemToShowSettingsFor||null,selectedSettingsTab:this.props.selectedSettingsTab||null,specialPage:null,editedItemId:null,selectedItemInfo:{id:m(this.getEditorAPI()),isPageOrPopup:!0},unfilteredSelectedTab:this.getEditorAPI().documentServices.pages.popupPages.isPopupOpened()?"popups":"pages"};return p.isOpen("pagesFirstTimeSteps")&&a.assign(e,{firstPageItemNode:null}),e},isDeveloperModeEnabled:function(){return this.getEditorAPI().developerMode.isEnabled()},componentWillReceiveProps:function(){var e=m(this.getEditorAPI());this.state.selectedItemInfo.isPageOrPopup&&this.state.selectedItemInfo.id!==e&&this.setState({selectedItemInfo:{id:e,isPageOrPopup:!0}}),this.updateMenuItemAndSpecialPage()},updateMenuItemAndSpecialPage:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPagesData(),o=e.pages.dynamicPages.getMenuItems(),i=a.flatMap(o,"items"),n=e.mainMenu.getMenuItemsFlattened(t),r=this.state.menuItemToShowSettingsFor,s=this.state.specialPage;if(r){var l=a.find(n,{id:this.state.menuItemToShowSettingsFor.id})||a.find(i,{id:this.state.menuItemToShowSettingsFor.id});this.setState({menuItemToShowSettingsFor:l})}s&&s.pageData&&this.setState({specialPage:a.merge(s,{pageData:a.find(t,{id:s.pageData.id})})})},getDefaultProps:function(){return{filter:""}},componentDidMount:function(){this.panelDOMNode=e.findDOMNode(this),this.updateFirstPageItemNodeIfNeeded()},componentDidUpdate:function(){this.updateFirstPageItemNodeIfNeeded()},updateFirstPageItemNodeIfNeeded:function(){if(p.isOpen("pagesFirstTimeSteps")){var e=this.panelDOMNode.querySelector(".pages-first-item");e!==this.state.firstPageItemNode&&this.setState({firstPageItemNode:e})}},duplicate:function(e){r.pageMenuItemHelpers.duplicateMenuItem(this.getEditorAPI(),e,function(e){this.setState({editedMenuItemId:e,menuItemToShowSettingsFor:null})}.bind(this))},changeSelectedMenuItem:function(e){this.state.menuItemToShowSettingsFor&&(e.type.isPage?this.openMainMenu(e):this.closeMainMenu())},openMainMenu:function(e,t){this.setState({menuItemToShowSettingsFor:e,selectedSettingsTab:t||this.state.selectedSettingsTab||null})},closeMainMenu:function(){this.setState({menuItemToShowSettingsFor:null})},openSpecialPageMenu:function(e){this.setState({specialPage:e})},closeSpecialPageMenu:function(){this.setState({specialPage:null})},changeSpecialPage:function(e){this.state.menuItemToShowSettingsFor&&(this.setState({menuItemToShowSettingsFor:null}),this.openSpecialPageMenu(e)),this.state.specialPage&&this.setState({specialPage:e})},isMainMenuDesktopOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.menuItemToShowSettingsFor},isMainMenuMobileOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.menuItemToShowSettingsFor},isSpecialPagesDesktopMenuOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.specialPage},isSpecialPagesMobileMenuOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.specialPage},openBlogManager:function(){s.openBlogManagerFrame(this.getEditorAPI(),"allPosts")},openStoreManager:function(){l.superApps.openDashboardUrl(l.superApps.superAppsConstants.ECOM_APP_DEF_ID,"90%","100%"),this.getEditorAPI().bi.event(n.bi.events.topbar.pages.top_bar_PAGES_store_pages_store_manager_click)},getHelpId:function(){return"popups"===this.state.unfilteredSelectedTab&&!this.getFilter()?this.getEditorAPI().isMobileEditor()?c.EXTERNAL.MOBILE_POPUPS_PANEL:c.EXTERNAL.POPUPS_PANEL:c.EXTERNAL.PAGES_PANEL},addAdditionalClassesForPageItem:function(e,t){this._menuItemsTree[e].additionalClasses=t},linkUnfilteredSelectedTab:function(){return{value:this.state.unfilteredSelectedTab,requestChange:function(e){this.setState({unfilteredSelectedTab:e}),this.getEditorAPI().bi.event(n.bi.events.topbar.pages.pages_menu_tab_click,{value:"popups"===e?"pop ups":"pages"})}.bind(this)}},getFilter:function(){return this.getEditorAPI().topBarPagesFilter.get()},render:function(){var e=this.getEditorAPI(),t=this.getFilter(),o=e.documentServices.pages.getPagesData(),i=e.mainMenu.getMenuItemsTreeForMainMenu(o),n=e.mainMenu.getMenuItemsFlattened(o),s=e.pages.popupPages.getOpenBehaviorsForPopups(),l=function(e,t){return u(e||[],"title",t)}(function(e,t,o,i){var n=a.zipObject(a.map(t,"id"),a.map(t,"title")),r=a.groupBy(o,"popupId"),s=i.documentServices.siteSegments.getSiteStructureId();return a.forEach(e,function(e){var t=r[e.id],o=!!t&&t[0].pageId===s,i=a.map(t,"pageId");e.pagesListToShowOnLoad={showOnAllPages:o,titles:a.map(i,a.partial(a.get,n))||[]}}),e}(e.pages.popupPages.getDataListOrdered(),o,s,e),t);return this._menuItemsTree=i,this._menuItemsList=function(e,t){return u(e||[],"label",t)}(n,t),this._popupsList=l,this._panelTitle=function(e,t){return e?g.FILTERED_PAGES_POPUPS_TITLE:t.length>0?g.POPUPS_AND_PAGES_LABEL_KEY:g.PAGES_TITLE}(t,l),this._isSectionPage=function(e,t){var o=r.specialPages.menuLogic.getSectionPagesIds(e,t);return function(e){return e.type.isPage&&a.includes(o,e.pageData.id)}}(e,o),p.isOpen("pagesFirstTimeSteps")&&this.addAdditionalClassesForPageItem(0,["pages-first-item"]),d.call(this)}})}),define("rEditor/rootComps/panels/thumbNailItemRow.rt",["react","lodash","baseUI"],function(e,t,o){"use strict";return function(){return e.createElement("li",{onClick:this.props.onClick,className:"panel-button"},e.createElement("div",{className:"panel-button-inner"},e.createElement("div",{className:"label"},e.createElement(o.symbol,{name:this.props.itemName}),e.createElement("span",{className:"button-label"},this.props.itemLabel)),e.createElement("div",{className:"action"},e.createElement(o.symbol,{name:"arrowWithStates"}))))}}),define("rEditor/rootComps/panels/thumbNailItemRow",["create-react-class","prop-types","lodash","rEditor/rootComps/panels/thumbNailItemRow.rt"],function(e,t,o,i){"use strict";return e({propTypes:{onClick:t.func,itemName:t.string,itemLabel:t.string},displayName:"myUploadItem",render:i})}),define("rEditor/rootComps/panels/myMediaPanel.rt",["react","lodash","baseUI","baseUILib","util","core","panels","rEditor/rootComps/panels/thumbNailItemRow"],function(e,t,o,i,n,a,r,s){"use strict";return function(){return e.createElement(r.frames.leftPanelFrame,{className:"panel-background",panelName:this.props.panelName,panelClass:"my-uploads-panel",panelIndex:this.props.panelIndex,label:n.translate("MY_UPLOADS_PANEL_HEADER_TITLE"),helpId:"e1df1248-6bd6-4497-ad2a-2a42cd357eae"},e.createElement("div",{className:"listWrapper"},e.createElement(i.CustomScroll,{addScrolledClass:!0,heightRelativeToParent:"100%"},e.createElement.apply(this,["ul",{},t.map(this.getUploadItems(),function(t,o){return e.createElement(s,{key:t.itemName,onClick:t.onClick,itemName:t.itemName,itemLabel:n.translate(t.itemLabel)})}.bind(this))]))))}}),define("rEditor/rootComps/panels/myMediaPanelAddCompData",["lodash","util"],function(e,t){"use strict";var o=t.backgroundPanelUtils,i={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"};return{picture:function(e){var t=Math.min(600,e.width);return{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:t,height:Math.floor(t*e.height/e.width)},data:{width:e.width,height:e.height,alt:"",uri:e.uri,title:e.title,type:"Image",description:""}}},document:function(e){var t=e.uri.split(".").pop();return{componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{title:e.title,uri:i[t]||i.other,description:"",width:105,height:141,type:"Image",link:{docId:e.uri,name:e.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:!1}}},music:function(e){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{originalFileName:e.title,uri:e.uri,type:"SingleAudioPlayer"},props:{autoplay:!1,loop:!1,showArtist:!0,showTrack:!0,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}},video:function(t,i,n){var a=o.getMediaPlayerVideoObject([t],i),r=o.getAspectRatio(a),s=o.getMediaProportionSize(r),l=n.addPanel.getCategory("video"),c=e.find(l.items,{title:"add_section_media_player_title"}),p=e.cloneDeep(e.get(c,["props","items",0,"structure"]));return p.design.background.mediaRef=a,p.layout={width:s.width,height:s.height},e.forEach(p.components,function(e){"wysiwyg.viewer.components.MediaOverlayControls"===e.componentType?e.layout={width:82,height:82,x:(s.width-82)/2,y:(s.height-82)/2}:"wysiwyg.viewer.components.MediaControls"===e.componentType&&(e.props.showStoryboard=o.getStoryboardDisplayValue(a),e.layout={width:s.width,height:44,x:0,y:s.height-44})}),p}}}),define("rEditor/rootComps/panels/myMediaPanel",["create-react-class","lodash","core","util","rEditor/rootComps/panels/myMediaPanel.rt","rEditor/rootComps/panels/myMediaPanelAddCompData","coreUtilsLib","experiment"],function(e,t,o,i,n,a,r,s){"use strict";var l=i.backgroundPanelUtils,c=o.bi.events.singleVideoPlayer;return e({displayName:"MyMediaPanel",mixins:[o.mixins.editorAPIMixin,i.blockOuterScrollMixin],titleMap:{IMAGE:"MMGR_API_IMAGE_MANAGE_TITLE",VIDEO:"MMGR_API_VIDEO_MANAGE_TITLE",MUSIC:"MMGR_API_MUSIC_MANAGE_TITLE",DOCUMENT:"MMGR_API_DOCUMENT_MANAGE_TITLE"},submitButtonMap:{IMAGE:"MMGR_submitbutton_uploads_myimages_add",VIDEO:"MMGR_submitbutton_uploads_myvideos_add",MUSIC:"MMGR_submitbutton_uploads_mytracks_add",DOCUMENT:"MMGR_submitbutton_uploads_mydocs_add"},mediaManagerOpen:function(e){var t=this.getEditorAPI();t.bi.event(o.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:e}),t.mediaServices.mediaManager.open(e,{multiSelect:!0,callback:this.onItemsSelected.bind(this,e),translation:{title:i.translate(this.titleMap[e]),submitButton:i.translate(this.submitButtonMap[e])}})},mediaManagerManage:function(e){var t=this.getEditorAPI();t.bi.event(o.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:e}),t.mediaServices.mediaManager.manage(e)},fontsManagerOpen:function(){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.fontsUploadPanel",{},!0)},onItemsSelected:function(e,o,i){if(o){this.getEditorAPI().pasteLogic.addContext.resetPastePosition(),t.forEach(o,t.bind(function(t,o,n){this.addComponent(e,i,t,o,n)},this))}},addComponent:function(e,i,n,s,p){var d=this.getEditorAPI(),u=function(e,t,o){var i=a[e.mediaType];if(i)return i(e,t,o);r.log.error("Unsupported media type",e.mediaType)}(n,i,d),m=d.documentServices.pages.getFocusedPageId(),g=d.pasteLogic.addContext.getPastePosition(d,u.layout,m);t.merge(u.layout,g);var f=d.documentServices.pages.getReference(m);d.documentServices.waitForChangesApplied(function(){d.components.add(f,u,void 0,function(i){s===p.length-1&&(d.selection.selectComponentByCompRef(i),d.history.add("added component")),d.bi.event(o.bi.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:"my_uploads",category:t.get(d,["mediaServices.mediaManager",e,"mmgrParams.mediaType"]),component_type:u.componentType,component_id:i.id,adding_method:"click"}),"video"===e.toLowerCase()&&l.sendChangeVideoBiEvent(d,c.video_player_video_changed,n,"my_uploads")})})},isWixMusic:function(){return this.getEditorAPI().documentServices.tpa.app.isInstalled("13bb5d67-1add-e770-a71f-001277e17c57")},getUploadItems:function(){var e={itemName:"my_uploads_fonts",itemLabel:"MY_UPLOADS_MY_FONTS_LINK_LABEL",onClick:this.fontsManagerOpen,shouldDisplay:!0},o={itemName:"my_uploads_images",itemLabel:"MY_UPLOADS_MY_IMAGES_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"IMAGE"),shouldDisplay:!0},i={itemName:"my_uploads_video",itemLabel:"MY_UPLOADS_MY_VIDEOS_LINK_LABEL",onClick:s.isOpen("se_mediaplayer")?this.mediaManagerOpen.bind(this,"VIDEO"):this.mediaManagerManage.bind(this,"VIDEO"),shouldDisplay:!0},n={itemName:"my_uploads_single_tracks",itemLabel:"MY_UPLOADS_MY_MUSIC_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"MUSIC"),shouldDisplay:!this.isWixMusic()},a={itemName:"my_uploads_wix_music",itemLabel:"MY_UPLOADS_MUSIC_PRO_LINK_LABEL",onClick:this.mediaManagerManage.bind(this,"MUSIC_PRO"),shouldDisplay:this.isWixMusic()},r={itemName:"my_uploads_docs",itemLabel:"MY_UPLOADS_MY_DOCUMENT_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"DOCUMENT"),shouldDisplay:!0},l=[e,o,i,n,a,r];return s.isOpen("changeMyUploadOrder")&&(l=[o,i,e,r,n,a]),t.filter(l,"shouldDisplay")},render:n})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Electric Darkness",videoId:"video/11062b_6a134fc09ea34833a17d295e295ab517",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:6,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"#0AFCFC",colorOverlayOpacity:.2}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Particles",videoId:"video/11062b_03c50f8fe4a34cc297a984e483a282ef",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#02B0AD",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rain Clouds",videoId:"video/11062b_8e792646ca71495b96677c20e27e9122",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427758",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.4,imageOverlay:""}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Deep Sea Waves",videoId:"video/11062b_f1fbf8b243e942a692e564fac5382513",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427890",name:"bisgtock"}},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Swaying Palms",videoId:"video/11062b_d013b164dadb47ec8e746ab178aacfbb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:29,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v51654467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"In the Office",videoId:"video/11062b_6743da5900054f1f8e69f53302930a6a",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"color_11",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Winter Sports",videoId:"video/11062b_14ca44a138d942f78374f7751ac5942f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:31,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD19_13_002&vD187_89_019&vD116_16_121&vD116_16_117&vD116_16_051&v17A041_676",name:"Dissolve&Dissolve&Dissolve&Dissolve&Dissolve&Dissolve"}},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Water Drop",videoId:"video/11062b_830709c744404d6ea7a10dcfd88e3a48",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:15,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v81193529",name:"bigstock"}},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Submerged",videoId:"video/11062b_64ae2a899006496dac01c2e81fac97f1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:24,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427800",name:"bisgtock"}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#439CE6",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Road Trip",videoId:"video/11062b_1c6001b9888a4ba89939a510eee406d1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD330_2_176",name:"dissolve"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#8AEDFF",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sparkling Water",videoId:"video/11062b_7bb9944945af4723ad2aefa5caed46a4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47421608",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rolling Tide",videoId:"video/11062b_f0d5e0c342cc49dca298de0225d2247c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428379",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Vintage Gramophone",videoId:"video/11062b_bd026287ff784f5198fbfdbbbbba2489",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768873",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rainforest Canopy",videoId:"video/11062b_7488edba38234bd69b0603ad498efdf5",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:35,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50652950",name:"bigstock"}},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Snowfall",videoId:"video/11062b_7124ff06fc56498d96722413f5f4846f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i2800",name:"pexels"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"City Park",videoId:"video/11062b_ed5fd19d3b3c4a979ecfd7aa035320eb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56}}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dogs in the Park",videoId:"video/11062b_dadf974a47664e5cb42f939b7f17bec8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"House Cat",videoId:"video/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D9B79C",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tropical Light",videoId:"video/11062b_af392b5325e7416eb2d8b6f9b1b3c634",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i158598041",name:"shutterstock"}},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Urban View",videoId:"video/11062b_3e2f37c297534f9ead156265242fbca8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49780622&v493478872&v49737086&v318347",name:"bigstock&bigstock&bigstock&clipcanvas"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Light Spots",videoId:"video/11062b_2042bb7351284f0f982e4787d37415e6",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFF269",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Particles",videoId:"video/11062b_155feccf8d494b18b70adcd7716b6646",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:50,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFCC00",colorOverlayOpacity:.5,imageOverlay:""}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sunflowers",videoId:"video/11062b_7fb923cf2d6748e195e980d74c4059f2",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i145590430",name:"shutterstock"}},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Meadow",videoId:"video/11062b_84f0c9aa252b4b2ab1114febc012eacb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i144673559",name:"shutterstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Lakeside",videoId:"video/11062b_10927dd4d14046e4ac23f51f0a5448b3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i205250962",name:"shutterstock"}},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Paradise Serenity",videoId:"video/11062b_46d3e749db4d4169987b00279493eaa7",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i152767760",name:"shutterstock"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Miami Beach",videoId:"video/11062b_75ff30e8c38545348bad91473b78ab7c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i100070693",name:"shutterstock"}},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D41746",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Cotton Candy",videoId:"video/11062b_808b40c463104f22943c284c625d31c3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:4,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#E31B22",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink and Water",videoId:"video/11062b_74ef3d923f9b451492d3ed9278991873",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768402",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink Splash",videoId:"video/11062b_aa1eeb25fbd3484dbde611d71d7c5747",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428268",name:"bisgtock"}},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Moon Jellyfish",videoId:"video/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50790908",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Jellyfish",videoId:"video/11062b_ea61c0ecc8b34ecd942c42470507e640",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440688",name:"bigstock"}},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spaceman",videoId:"video/11062b_fcd00d59140f45d5b2295fe8a4c17edb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},opacity:1,duration:25,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i111095258&i241509286",name:"shutterstock&shutterstock"}},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Crystal Glass",videoId:"video/11062b_58249d8a53aa452492e328c962b036e9",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440709",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#5C3B1B",colorOverlayOpacity:.4}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spinning Record",videoId:"video/11062b_0f1e951461494c1894d86c9ab85a11cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v560888",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Gears",videoId:"video/11062b_d9801124f3cb4deca350acfd66b547cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768483",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.05,imageOverlay:""}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Classical Compilation",videoId:"video/11062b_35727d5e825d405bbb007bc615000a15",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:19,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v51653993&v795016&v639989&v249088&v527322",name:"bigstock&clipcanvas&clipcanvas&clipcanvas&clipcanvas"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#ffffff",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Illustrator",videoId:"video/11062b_ebcab620e7584e1693f939e597be3777",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tiger",videoId:"video/11062b_6ceb80744f45401caf9eb666caeb9887",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49350467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Subway",videoId:"video/11062b_8b85f288687943b59677b4e3e56ef8f8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:3,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v342278662",name:"pexels"}},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.45,imageOverlay:""}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Shapes Gray",videoId:"video/11062b_d2398715eb2e43348e6907b6b3383815",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Forest Clouds",videoId:"video/11062b_2e77c1d1a7d84393becbcecd189fe80e",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:25,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440175",name:"bisgtock"}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Metronome",videoId:"video/11062b_80a0d0745a884541ae8fae22c02c9e74",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49780622",name:"bigstock"}},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#ffffff",colorOverlayOpacity:.25}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Melting Ice",videoId:"video/11062b_9480d9d800bd4bda938057d5ac1ebc42",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428211",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Street Sports",videoId:"video/11062b_b3ee9353cba84f2fba11b18497edd49c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:27,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD26_7_556&vD26_7_549&vD26_7_021&vD200_3_014&vD187_87_017",name:"dissolve&dissolve&dissolve&dissolve&dissolve"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_9dd9479cdafd4871b1944d50caa91db0.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Mist Over the Bridge",videoId:"video/11062b_66b9234563324488b85be02dcf1db183",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v523546",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Flowing Viscous Liquid",videoId:"video/11062b_9f421918574743b48202cb0dacbd77d4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428877",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dance Studio",videoId:"video/11062b_58d9b7991aa04b99a4f1580a1efc4f7f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:34,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6}}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Gray Waterfall",videoId:"video/11062b_18eee1c4914c4ef79687cd68f3cf6990",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:3,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49347887",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:4,height:6},colorOverlay:"color_11",colorOverlayOpacity:.5}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Falling shapes White",videoId:"video/11062b_2ed9e9ea388343a59c387bccf3539098",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D5D4D6",colorOverlayOpacity:.35,imageOverlay:""}}]}),define("rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Electric Darkness",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Clouds",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Deep Sea Waves",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Swaying Palms",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"In the Office",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Winter Sports",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Water Drop",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Submerged",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Road Trip",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sparkling Water",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rolling Tide",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vintage Gramophone",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rainforest Canopy",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Snowfall",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"City Park",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dogs in the Park",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"House Cat",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Light",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Urban View",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Light Spots",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Particles",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sunflowers",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Meadow",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lakeside",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Paradise Serenity",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Miami Beach",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cotton Candy",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink and Water",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink Splash",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Moon Jellyfish",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Jellyfish",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spaceman",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Crystal Glass",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spinning Record",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Gears",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Classical Compilation",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Illustrator",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tiger",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Subway",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Shapes Gray",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Forest Clouds",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metronome",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Melting Ice",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Street Sports",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mist Over the Bridge",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flowing Viscous Liquid",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dance Studio",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gray Waterfall",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Falling shapes White",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}}]}),define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt",["react","lodash","baseUI","baseUILib","util","panels","uiAnimations","backgroundPresets"],function(e,t,o,i,n,a,r,s){"use strict";return function(){function t(){var t=this.getData(),l=this.getCurrentSubPanel(),c=this.getEditorAPI().isMobileEditor(),p=n.backgroundPanelUtils;return e.createElement(a.frames.leftPanelFrame,{className:"bg-panel",panelName:this.props.panelName,label:this.getTranslation("TITLE"),panelIndex:this.props.panelIndex,panelClass:"bg-panel",helpId:c?"f0d8190e-e2da-48be-9f44-7ecff4518a82":"f11a3bb9-cff0-46d4-92ff-cc8cd9d30468",onContextMenu:function(e,t,o,i,n){n.preventDefault()}.bind(this,t,l,c,p)},function(t,i,n,a){var s=this.getMediaType(t.ref);return e.createElement("div",{className:"bg-panel-top"},e.createElement("div",{className:"bg-panel-preview",onContextMenu:function(e,t,o,i,n,a){a.preventDefault()}.bind(this,t,i,n,a,s)},e.createElement("div",{className:"bg-panel-preview-media",style:this.getCurrentColor(t)}),e.createElement("div",{ref:"previewMedia",className:"bg-panel-preview-media",style:this.getCurrentMedia(t)}),e.createElement("div",{className:"bg-panel-preview-overlay",style:a.getOverlayStyle(t.ref,this.getEditorAPI())}),e.createElement("div",{className:"bg-panel-preview-buttons"},s!==this.mediaTypes.COLOR?e.createElement(o.tooltip,{disabled:!!this.getCurrentSubPanel(),value:this.getSettingTranslation(s),alignment:"top",className:"control-tooltip-small",key:"settings-tooltip"},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(r.rotatePartAnimation,{selector:".gear-wheel",play:this.isSettingsPanelOpen()},e.createElement(o.toggle,{name:"settings-icon",label:this.getSettingsButtonTranslation(s),valueLink:this.toggleSubPanel(s),labelAfterSymbol:!0})))):null,s===this.mediaTypes.VIDEO?e.createElement(o.tooltip,{key:"video-controls",id:"video-play-tooltip",disabled:this.isPlayBtnTooltipDisabled(s),alignment:"top",className:"control-tooltip-small",value:this.getPlayBtnTranslation()},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(o.toggle,{name:"play-video",disabled:this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS,valueLink:this.toggleVideoPlayback(this.isVideoPlaying())}),this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS?e.createElement(o.preloader,{key:"play-spinner"}):null)):null),s===this.mediaTypes.IMAGE?e.createElement("div",{onClick:function(e,t,o,i,n,a){this.replaceColor(a,e)}.bind(this,t,i,n,a,s),className:"bg-panel-preview-color",style:this.getCurrentColor(t),key:"bg-fold"},e.createElement(o.symbol,{name:"fold-clipart"})):null),e.createElement("div",{className:"bg-panel-top-actions"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{className:"default bg-panel-action-btn",label:"BGPP_PANEL_COLOR_BUTTON",symbolName:"color-btn",onClick:function(e,t,o,i,n,a){this.changeColor(a,e)}.bind(this,t,i,n,a,s)})),e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:function(e,t,o,i,n){this.changeMedia(this.mediaTypes.IMAGE)}.bind(this,t,i,n,a,s),className:"default bg-panel-action-btn",symbolName:"image-btn",label:"BGPP_PANEL_IMAGE_BUTTON"})),e.createElement(o.tooltip,{disabled:!n,value:"BGPP_PANEL_VIDEO_BUTTON_MOBILE_TOOLTIP",alignment:"top",className:"control-tooltip-small"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:function(e,t,o,i,n){o||this.changeMedia(this.mediaTypes.VIDEO)}.bind(this,t,i,n,a,s),disabled:n,className:"default bg-panel-action-btn",symbolName:"video-btn",label:"BGPP_PANEL_VIDEO_BUTTON"})))))}.apply(this,[t,l,c,p]),e.createElement(i.CustomScroll,{addScrolledClass:!0},e.createElement("div",{className:"bg-panel-preset-list"},e.createElement("div",{className:"bg-panel-preset-list-sections sections","data-tooltip-bounds":"true"},e.createElement(s,this.getPresetsProps())))),e.createElement("div",{className:"bg-panel-bottom"},e.createElement(o.button2,{label:"BGPP_PANEL_APPLY_TO_OTHER_BUTTON",onClick:function(e,t,o,i){this.handleApplyToOtherClick()}.bind(this,t,l,c,p),disabled:this.isOnePager(),className:"default"})))}return t.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel",["reactDOM","create-react-class","lodash","core","baseUI","util","color","panelUtils","stateManagement","rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt"],function(e,t,o,i,n,a,r,s,l,c,p,d){"use strict";function u(e,t,o){var i=e.documentServices.pages.getPrimaryPageId();e.store.dispatch(I("bg_panel_last_media_path_"+i,{type:t,path:o.path}))}function m(e,t){var o=e.documentServices.pages.getPrimaryPageId(),i=t===b.VIDEO?"bg_video_settings_data_changed_":"bg_image_settings_data_changed_";e.store.dispatch(I(i+o,!1)),e.store.dispatch(I("bg_video_settings_pattern_state_"+o,!1))}var g=a.bgPanelBiEvents,f=a.imageTransform,h=a.backgroundPanelUtils,b=h.getMediaTypes(),y={IMAGE_SETTINGS:"rEditor.panels.bgImageSettingsPanel",VIDEO_SETTINGS:"rEditor.panels.bgVideoSettingsPanel",APPLY:"rEditor.panels.backgroundApplyPanel"},v={APPLY_PANEL:"applyPanel",IMAGE_PANEL:"imagePanel",VIDEO_PANEL:"videoPanel",PRESET:"preset",MEDIA:"media",REMOVE:"remove",COLOR:"color"},S={BG_PRESETS:"bg_presets",BG_COLOR_PICKER:"bg_color_picker",BG_MEDIA_MANAGER_WIXVIDEO:"bg_media_manager_video",BG_MEDIA_MANAGER_IMAGE:"bg_media_manager_image",BG_IMAGE_SETTINGS:"bg_image_settings",BG_VIDEO_SETTINGS:"bg_video_settings"},P={TITLE:{mobile:"BGPP_PANEL_HEADER_MOBILE_TITLE",desktop:"BGPP_PANEL_HEADER_DSKTOP_TITLE"}},E={Image:"BGPP_PANEL_IMAGE_SETTINGS_BUTTON",WixVideo:"BGPP_PANEL_VIDEO_SETTINGS_BUTTON"},C={IN_PROCESS:"in_process",PLAYING_PREVIEW:"playing_preview",IDLE:"idle",NO_VIDEO:"no_video"},T={id:"SITE_BACKGROUND"},I=l.userPreferences.logic.setSessionUserPreferences,_=l.userPreferences.selectors.getSessionUserPreferences;return t({displayName:"backgroundPanel",mixins:[i.mixins.editorAPIMixin,a.blockOuterScrollMixin,s.linkColorPickerMixin],panelBoundingRect:{},mediaTypes:b,getMediaType:h.getMediaType,subPanels:y,videoReadyStates:null,componentDidMount:function(){this.panelBoundingRect=e.findDOMNode(this).getBoundingClientRect(),this.registerPlayerState(),this.markMobileDataDuplications()},componentWillUnmount:function(){this.closeSubPanel(this.getCurrentSubPanel()),this.unregisterPlayerState(),this.pauseVideo();var e=this.getData().ref;g.changedBackgroundBiEvent(this.getEditorAPI(),i.bi.events.backgroundPanel.panel_background_changed,e,this.biEventsParams)},getInitialState:function(){return this.videoReadyStates=C,this.biEventsParams={origin:null,presetIndex:null},{readyState:this.videoReadyStates.NO_VIDEO,playbackState:"waiting",isVideoPlaying:!1,videoReadyState:this.videoReadyStates.IDLE}},componentDidUpdate:function(){this.getVideoReadyState()===this.videoReadyStates.IDLE&&n.tooltipManager.hide("video-play-tooltip")},registerPlayerState:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.documentServices.media.mediaState.register("bg_panel",T,this.handlePlayerStateChange):e.pages.background.video.registerToPlayingChange(this.playingStatusChanged)},unregisterPlayerState:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.documentServices.media.mediaState.unregister("bg_panel",T):e.pages.background.video.unregisterToPlayingChange(this.playingStatusChanged)},handlePlayerStateChange:function(e){e.playbackState===this.state.playbackState&&e.mediaReadyState===this.state.readyState||this.setState({playbackState:e.playbackState,readyState:e.mediaReadyState})},previewVideo:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.components.behaviors.execute(T,"play"):e.pages.background.video.play()},pauseVideo:function(){var e=this.getEditorAPI();e.getPreviewMode()||(o.get(e,["media","mediaState"])?e.components.behaviors.execute(T,"stop"):e.pages.background.video.pause())},isVideoPlaying:function(){var e=this.getEditorAPI();return o.get(e,["media","mediaState"])?"playing"===this.state.playbackState:e.pages.background.video.isPlaying()},getVideoReadyState:function(){var e=this.getEditorAPI();return o.get(e,["media","mediaState"])?this.state.readyState:e.pages.background.video.getReadyState()},playingStatusChanged:function(){this.forceUpdate()},videoReadyStateChanged:function(){this.forceUpdate()},linkedBackgroundColor:function(e,t,o){return{value:t[o].replace(/[\{\}]/g,""),requestChange:function(i){t[o]=/color_/.test(i)?"{"+i+"}":i,this.biEventsParams.origin=S.BG_COLOR_PICKER,this.onRequestChange(e)}.bind(this)}},getCurrentSubPanel:function(){var e=this.getEditorAPI().getOpenPanels(),t=o.find(e,function(e){return o.includes(y,e.name)});return t&&t.name},isSettingsPanelOpen:function(){var e=this.getCurrentSubPanel();return e===y.IMAGE_SETTINGS||e===y.VIDEO_SETTINGS},closeSubPanel:function(e){var t=this.getEditorAPI();e&&t.panelManager.closePanelByName(e)},getData:function(e){return h.getBackgroundData(this.getEditorAPI(),e)},onRequestChange:function(e,t,o){var i=this.getEditorAPI(),n=i.getDeviceType();o=o||i.pages.getPrimaryPageId(),function(e,t,o){(function(t,o){return e.homePage.get()===o})(0,o)&&!t.ref.mediaRef&&(t.ref.id=a.guidUtils.getUniqueId(o,"_")+"_bg")}(i,e,o);h.handleMobileDataChange(n,e,i,o,function(e){return l.userPreferences.selectors.getSessionUserPreferences(e)(i.store.getState())},function(e,t){return i.store.dispatch(l.userPreferences.logic.setSessionUserPreferences(e,t))}),i.pages.background.update(o,e,n),this.undoHandler(t),this.state.isVideoPlaying&&(this.pauseVideo(),this.setState({isVideoPlaying:!1}))},undoHandler:function(e){var t=this.getEditorAPI(),i=o.values(v);o.includes(i,e)&&t.history.add("background panel - "+e)},toggleSubPanel:function(e){var t=this.getCurrentSubPanel();return{value:t&&t!==this.subPanels.APPLY,requestChange:function(){var t=e===this.mediaTypes.VIDEO?this.subPanels.VIDEO_SETTINGS:this.subPanels.IMAGE_SETTINGS;this.toggleSubPanelChange(t)}.bind(this)}},toggleSubPanelChange:function(e){e===this.getCurrentSubPanel()?this.closeSubPanel(e):this.openSubPanel(e)},openSubPanel:function(e){var t=this.getEditorAPI();!function(e,t,n){e===y.APPLY?g.applyToOtherClick(t,i.bi.events.backgroundPanel.panel_apply_to_other_pages_click):n.origin=S["BG_"+o.invert(y)[e].toUpperCase()]}(e,t,this.biEventsParams);var n=this.getSubPanelProps();t.panelManager.openPanel(e,n,!0)},getSubPanelProps:function(e){return{requestChange:this.onRequestChange,undoHandler:this.undoHandler,undoOrigins:v,getData:this.getData,panelName:e,top:this.panelBoundingRect.top,left:this.panelBoundingRect.left+this.panelBoundingRect.width+15,width:290}},getCurrentMedia:function(e){var t={},i=void 0,n=void 0;if(e.ref.mediaRef){i=this.getMediaType(e.ref)===this.mediaTypes.IMAGE?e.ref.mediaRef:e.ref.mediaRef.posterImageRef,n=h.isSmallerFromContainer(i.width,i.height,600,600)?f.fittingTypes.TILE:f.fittingTypes.SCALE_TO_FILL;var r=h.getImageDisplayData(n,e.ref.alignType,i.uri,i.width,i.height,352,184);t.backgroundImage="url("+a.url.joinURL(h.MEDIA_URL_PREFIX,r.uri)+")",t.opacity=i.opacity,o.assign(t,r.css.container)}return o.assign(t,this.getCurrentColor(e)),t},getCurrentColor:function(e){return{backgroundColor:h.getColorValue(this.getEditorAPI(),e.ref.color)}},toggleVideoPlayback:function(e){return{value:e,requestChange:function(e){e?this.previewVideo():this.pauseVideo()}.bind(this)}},replaceColor:function(e,t){this.setColorPicker(e,t,this.colorPickerPanelHandleReplace,!0)},changeColor:function(e,t){var o=!t.ref.mediaRef;this.setColorPicker(e,t,this.colorPickerPanelHandleChange,o)},setColorPicker:function(e,t,o,i){var n=i?t.ref.color.replace(/[\[\{\}\]]/g,""):"noColor",a={top:e.clientY,left:e.clientX};this.openColorPicker(o,n,!0,a,i,!0)},colorPickerPanelHandleReplace:function(e){this.closeSubPanel(this.getCurrentSubPanel());var t=this.getData();/color_/.test(e)?t.ref.color="{"+e+"}":/rgba/.test(e)?t.ref.color=new r(e).hexString():t.ref.color=e,this.biEventsParams.origin=S.BG_COLOR_PICKER,this.onRequestChange(t)},colorPickerPanelHandleChange:function(e){this.closeSubPanel(this.getCurrentSubPanel());var t=this.getData();t.ref.mediaRef&&(t.ref.mediaRef=null,m(this.getEditorAPI(),b.VIDEO),m(this.getEditorAPI(),b.IMAGE),h.clearOverlayData(t),this.undoHandler(v.REMOVE)),/color_/.test(e)?t.ref.color="{"+e+"}":/rgba/.test(e)?t.ref.color=new r(e).hexString():t.ref.color=e,this.biEventsParams.origin=S.BG_COLOR_PICKER,this.onRequestChange(t)},selectPreset:function(e,t,i){var a=this.getData(),r=this.getEditorAPI();n.tooltipManager.hideAll(),this.closeSubPanel(this.getCurrentSubPanel()),o.assign(e,o.omit(a,"ref")),e.path&&u(r,this.getMediaType(e.ref),{path:e.path}),delete e.path,delete e.presetIndex,m(r,b.VIDEO),m(r,b.IMAGE),this.biEventsParams={presetIndex:i,origin:S.BG_PRESETS},this.onRequestChange(e,v.PRESET)},onMediaManagerCallback:function(e,t,o){if(t){var i=void 0,n=void 0,a=this.getEditorAPI(),r=this.getData();u(a,e,o),e===this.mediaTypes.VIDEO?(i=h.getVideoBackgroundObject(t,o),function(e,t){e.ref.scrollType="fixed";var o=t.documentServices.pages.getPrimaryPageId();_("bg_video_settings_data_changed_"+o)(t.store.getState())||h.clearOverlayData(e)}(r,a),m(a,b.IMAGE),n=i.posterImageRef,r.ref.scrollType="fixed"):e===this.mediaTypes.IMAGE&&(function(e,t,o){var i=o.documentServices.pages.getPrimaryPageId();_("bg_image_settings_data_changed_"+i)(o.store.getState())&&(e.opacity=t.ref.mediaRef&&t.ref.mediaRef.opacity||1),h.clearOverlayData(t)}(i=h.getImageBackgroundObject(t,o),r,a),m(a,b.VIDEO),n=i);var s=h.isSmallerFromContainer(n.width,n.height,600,600),l=void 0;l=e===this.mediaTypes.IMAGE&&s?f.fittingTypes.LEGACY_BG_FIT_AND_TILE:f.fittingTypes.SCALE_TO_FILL,r.ref.fittingType=l,r.ref.alignType=f.alignTypes.CENTER,r.ref.mediaRef=i,this.biEventsParams.origin=S["BG_MEDIA_MANAGER_"+e.toUpperCase()],this.onRequestChange(r,v.MEDIA)}},openMediaManager:function(e,t){if(e){var o=this.getEditorAPI(),i=o.mediaServices.mediaManager,n=void 0,r=function(e){var t=e.documentServices.pages.getPrimaryPageId();return _("bg_panel_last_media_path_"+t)(e.store.getState())||{}}(o),s=r.type===e?r.path||"":"";e===this.mediaTypes.IMAGE?n=i.categories.BG_IMAGE:e===this.mediaTypes.VIDEO&&(n=i.categories.BG_VIDEO),this.closeSubPanel(this.getCurrentSubPanel()),i.open(n,{callback:t,path:s,translation:{submitButton:a.translate("MMGR_submitbutton_background_uploads_change")}})}},changeMedia:function(e){this.openMediaManager(e,this.onMediaManagerCallback.bind(this,e))},closePanel:function(){this.getEditorAPI().panelManager.closePanel(this.props.panelName)},getTranslation:function(e){var t=this.getEditorAPI().getDeviceType();return a.translate(P[e][t])},getSettingsButtonTranslation:function(e){return E[e]},handleApplyToOtherClick:function(){this.isOnePager()||this.toggleSubPanelChange(this.subPanels.APPLY)},isOnePager:function(){return 1===this.getEditorAPI().documentServices.pages.getPageIdList().length},markMobileDataDuplications:function(){var e=this.getEditorAPI(),t=this.getData("mobile").ref.id;if(!_("bg_panel_mobile_data_duplications_"+t)(e.store.getState())){for(var o=e.documentServices.pages.getPrimaryPageId(),n=0,a=e.documentServices.pages.getPagesData(),r=0;r<a.length;r++)a[r].id!==o&&a[r].pageBackgrounds.mobile.ref.id===t&&n++;e.store.dispatch(I("bg_panel_mobile_data_duplications_"+t,{count:n})),n&&g.mobileDataDuplicationError(this.getEditorAPI(),i.bi.errors.BG_MOBILE_DATA_DUPLICATION_ERROR)}},isPlayBtnTooltipDisabled:function(){return this.getVideoReadyState()===this.videoReadyStates.IDLE},getPlayBtnTranslation:function(){var e="",t=this.getVideoReadyState();return t===this.videoReadyStates.PLAYING_PREVIEW?e="BGPP_PANEL_VIDEO_PLAYBACK_PREVIEW_READY_TOOLTIP":t===this.videoReadyStates.IN_PROCESS&&(e="BGPP_PANEL_VIDEO_PLAYBACK_NOT_READY_TOOLTIP"),e},getSettingTranslation:function(e){var t="";return e===this.mediaTypes.IMAGE?t="BGPP_PANEL_IMAGE_SETTINGS_BUTTON_TOOLTIP":e===this.mediaTypes.VIDEO&&(t="BGPP_PANEL_VIDEO_SETTINGS_BUTTON_TOOLTIP"),t},getPresetsProps:function(){return{desktopPresets:c,mobilePresets:p,title:a.translate("BGPP_PANEL_SELECTED_SECTION_TITLE"),infoTooltip:"BGPP_PANEL_SELECTED_SECTION_TOOLTIP",onSelectPreset:this.selectPreset,columns:4}},render:function(){return d.apply(this)}})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","experiment"],function(e,t,o,i,n,a,r){"use strict";return function(){function n(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}function s(){var s=this.props.getData();return e.createElement(a.frames.bgSubPanelFrame,n({helpId:"54c7eb1c-a6c7-46c9-9261-96eecf3bb0eb",className:"background-image-settings-panel background-sub-panel",label:"BGPP_SETTINGS_IMAGE_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement(i.CustomScroll,{},e.createElement("div",{className:"bg-image-settings-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement(o.slider,{valueLink:this.linkedBackgroundOpacityData(s,s.ref.mediaRef,"opacity"),label:"BGPP_SETTINGS_IMAGE_OPACITY_TITLE",min:0,max:100,step:1}),e.createElement(i.Divider,{long:!0}),e.createElement("div",{className:"color-picker-input-wrapper"},e.createElement(o.colorPickerInput,n({label:"BGPP_SETTINGS_IMAGE_BG_COLOR_TITLE",ref:"bgColorPickerInput",className:"label-left",valueLink:this.linkedBackgroundColor(s,s.ref,"color")},this.getColorPickerProps()))),!this.getEditorAPI().isMobileEditor()||r.isOpen("se_mobileBgFixed")?e.createElement("div",{key:"scrollTypeRadiosDivider"},e.createElement(i.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TITLE",infoText:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TOOLTIP"}),e.createElement(i.Divider,{long:!0}),e.createElement(o.thumbnails,{maxThumbsPerRow:"3",className:"with-labels scroll-type-thumbs",options:this.getEffectsThumbOptions(),valueLink:this.linkedBackgroundScrollType(s)})):null,e.createElement(i.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_LAYOUT_SECTION_TITLE"}),e.createElement(i.Divider,{long:!0}),e.createElement.apply(this,[o.dropDown.select,{valueLink:this.linkedBackgroundFittingType(s),label:"BGPP_SETTINGS_IMAGE_FITTING_TITLE"},t.map(this.getFittingOptions(s.ref.scrollType),function(t,i,n){return e.createElement(o.dropDown.option,{key:"fittingTypeOption"+n,value:i.value},i.label)}.bind(this,s))]),e.createElement(i.Divider,{long:!0}),e.createElement(o.alignment,{options:o.commonData.ALIGNMENT_MODES_XY,valueLink:this.linkedBackgroundAlignType(s),label:"BGPP_SETTINGS_IMAGE_ALIGN_TITLE"}))))}return s.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel",["core","create-react-class","prop-types","lodash","util","panelUtils","rEditor/bi/bi","stateManagement","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt","experiment"],function(e,t,o,i,n,a,r,s,l,c){"use strict";function p(e){var t=e.documentServices.pages.getPrimaryPageId();e.store.dispatch(s.userPreferences.logic.setSessionUserPreferences("bg_image_settings_data_changed_"+t,!0))}var d=n.backgroundPanelUtils,u=n.imageTransform.fittingTypes,m=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:u.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:u.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:u.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:u.LEGACY_BG_FIT_AND_TILE},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:u.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:u.LEGACY_BG_FIT_AND_TILE_VERTICAL}],g=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:u.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_STRETCH",value:u.STRETCH},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:u.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:u.LEGACY_BG_FIT_AND_TILE}],f=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:u.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:u.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:u.LEGACY_BG_FIT_AND_TILE}],h=i.transform([{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:u.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:u.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:u.LEGACY_BG_FIT_AND_TILE_VERTICAL}],function(e,t){e[t.value]=t},{}),b=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",symbolName:"thumb-none"},{value:"parallax",label:"BGPP_SETTINGS_IMAGE_SCROLL_PARALLAX",symbolName:"scroll-fx-site-bg-parallax"},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",symbolName:"scroll-fx-site-bg-freeze"}],y=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",symbolName:"thumb-none"},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",symbolName:"scroll-fx-site-bg-freeze"}],v=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:u.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:u.LEGACY_BG_FIT_AND_TILE}],S=[u.LEGACY_BG_FIT_AND_TILE,u.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,u.LEGACY_BG_FIT_AND_TILE_VERTICAL],P={opacity:1,fittingType:u.SCALE_TO_FILL,alignType:"center",scrollType:"scroll"};return t({displayName:"bgImageSettingsPanel",mixins:[e.mixins.editorAPIMixin,a.linkColorPickerMixin],childContextTypes:{reportUIChange:o.func},getInitialState:function(){return this.lastScrollingType=null,{}},shouldComponentUpdate:function(e){var t=this.getEditorAPI(),o=e.getData();return!(!o.ref.mediaRef||"Image"!==o.ref.mediaRef.type)||(t.panelManager.closePanelByName(e.panelName),!1)},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(e){"slider"===e&&this.props.undoHandler(this.props.undoOrigins.IMAGE_PANEL)},linkedBackgroundAlignType:function(e){return{value:i.get(e,["ref","alignType"])||P.alignType,requestChange:function(t){i.set(e,["ref","alignType"],t),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),p(this.getEditorAPI())}.bind(this)}},linkedBackgroundScrollType:function(e){var t=i.get(e,["ref","scrollType"])||P.scrollType;return{value:t,requestChange:function(o){o!==t&&this.getEditorAPI().bi.event(r.events.BG_IMAGE_SETTINGS_PANEL_SCROLL_EFFECT,{scroll_type:o}),"parallax"===o?i.set(e,["ref","fittingType"],this.getFittingTypeForParallax(e)):"fixed"===o&&this.getEditorAPI().isMobileEditor()&&i.set(e,"mediaSizing","viewport"),i.set(e,["ref","scrollType"],o),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),p(this.getEditorAPI())}.bind(this)}},linkedBackgroundFittingType:function(e){var t=i.get(e,["ref","fittingType"])||P.fittingType,o=i.get(e,"mediaSizing","viewport");return{value:t===u.SCALE_TO_FILL&&"document"===o?u.STRETCH:t,requestChange:function(t){var o=t,n="viewport";this.getEditorAPI().isMobileEditor()&&t===u.STRETCH&&(n="document",o=u.SCALE_TO_FILL),i.set(e,["ref","fittingType"],o),i.set(e,"mediaSizing",n),this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),p(this.getEditorAPI())}.bind(this)}},linkedBackgroundOpacityData:function(e,t,o){var i=void 0===t[o]?P[o]:t[o];return i*=100,{value:i,requestChange:function(i){i/=100,t[o]=i,this.props.requestChange(e),p(this.getEditorAPI())}.bind(this)}},linkedBackgroundColor:function(e,t,o){return{value:t[o].replace(/[\{\}]/g,""),requestChange:function(i){t[o]=/color_/.test(i)?"{"+i+"}":i,this.props.requestChange(e),p(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{useMouseEvent:!0,colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:!0}},getFittingOptions:function(e){return"parallax"===e?v:this.getEditorAPI().isMobileEditor()&&c.isOpen("se_mobileBgFixed")?this.getFittingMobileOptions():m},getFittingMobileOptions:function(){var e="scroll"===i.get(this.props.getData(),["ref","scrollType"])?g:f,t=i.get(this.props.getData(),["ref","fittingType"]),o=h[t];return o?i.union(e,[o]):e},getEffectsThumbOptions:function(){return this.getEditorAPI().isMobileEditor()?y:b},getFittingTypeForParallax:function(e){var t=e.ref.fittingType,o=e.ref.mediaRef,n=u.LEGACY_BG_FIT_AND_TILE,a=u.SCALE_TO_FILL,r=d.isSmallerFromContainer(o.width,o.height,600,600);return i.includes(S,t)||r&&t!==a?n:a},render:l})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","util"],function(e,t,o,i,n,a,r){"use strict";return function(){function n(){var n=this.props.getData(),s=r.translate;return e.createElement(a.frames.bgSubPanelFrame,function(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}({helpId:"7f54f04e-6e0b-4f73-96e2-6c98dd28e822",className:"background-video-settings-panel background-sub-panel",label:"BGPP_SETTINGS_VIDEO_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement(i.CustomScroll,{},e.createElement("div",{className:"bg-video-settings-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement("div",{className:"background-video-patterns-control"},e.createElement(o.thumbnails,{radioType:"class",valueLink:this.linkedPatternOption(n,n.ref.imageOverlay),maxThumbsPerRow:"4",title:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_TITLE",options:this.thumbPatternOptions}),n.ref.imageOverlay?e.createElement(o.buttonsGroup,{className:"overlay-pattern-btn-group",valueLink:this.applyInversePattern(n,n.ref.imageOverlay),options:this.getInvertPatternOption(),key:"inversePattern"}):null),e.createElement(i.Divider,{long:!0}),e.createElement(i.Composites.ToggleSwitch,{},e.createElement(i.ToggleSwitch,{value:this.applyOverlayColor(n).value,label:"BGPP_SETTINGS_VIDEO_OVERLAY_COLOR_TITLE",onChange:this.applyOverlayColor(n).requestChange})),this.isColorOverlay(n)?e.createElement(i.Divider,{long:!1,key:"color-picker-input-divider"}):null,this.isColorOverlay(n)?e.createElement(o.colorPickerInputWithOpacity,t.assign({},{ref:"bgColorPickerInput",key:"color-picker-input",label:"BGPP_SETTINGS_VIDEO_COLOR_OPACITY_TITLE",valueLink:this.linkColorWithOpacity(n,n.ref)},this.getColorPickerProps())):null,e.createElement(i.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_VIDEO_PLAYBACK_SECTION_TITLE"}),this.getEditorAPI().isDesktopEditor()?e.createElement(i.Divider,{long:!0,key:"whptoDividerImageDesc"}):null,e.createElement.apply(this,[o.dropDown.select,{valueLink:this.linkedBackgroundData(n,n.ref.mediaRef,"playbackSpeed"),label:r.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_TITLE"),shouldTranslate:!1},t.map(this.getPlaybackOptions(),function(t,i,n,a){return e.createElement(o.dropDown.option,{key:"playbackOption"+a,value:n.value},n.label,"\n                \n            ")}.bind(this,n,s))]),e.createElement(i.Divider,{long:!0}),e.createElement(i.Composites.ToggleSwitch,{},e.createElement(i.ToggleSwitch,{value:this.linkedBackgroundData(n,n.ref.mediaRef,"loop").value,label:"BGPP_SETTINGS_VIDEO_LOOP_TITLE",onChange:this.linkedBackgroundData(n,n.ref.mediaRef,"loop").requestChange})))))}return n.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel",["create-react-class","prop-types","core","lodash","panelUtils","util","stateManagement","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt"],function(e,t,o,i,n,a,r,s){"use strict";function l(e,t){var o=e.documentServices.pages.getPrimaryPageId();e.store.dispatch(r.userPreferences.logic.setSessionUserPreferences("bg_video_settings_pattern_state_"+o,t))}function c(e){var t=e.documentServices.pages.getPrimaryPageId();e.store.dispatch(r.userPreferences.logic.setSessionUserPreferences("bg_video_settings_data_changed_"+t,!0))}function p(e){return e===m}for(var d=[{value:null,className:"v-overlay-pat-0-icon"},{value:"",className:"v-overlay-pat-1-icon"},{value:"",className:"v-overlay-pat-2-icon"},{value:"",className:"v-overlay-pat-3-icon"},{value:"",className:"v-overlay-pat-4-icon"},{value:"",className:"v-overlay-pat-5-icon"},{value:"",className:"v-overlay-pat-6-icon"},{value:"",className:"v-overlay-pat-7-icon"}],u=[{uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},{uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},{uri:"0da768_361994b0f154464682a0aaf9724471cc.png",width:56,height:56},{uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},{uri:"0da768_2729bfbce3874276a7dd057098f93949.png",width:6,height:6},{uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},{uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3}],m=[{uri:"0da768_5810e2bd76f64c77a67904ad2b073444.png",width:6,height:6},{uri:"0da768_46b55443eb984c0eacfbdcb1b67a2b7b.png",width:6,height:6},{uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},{uri:"0da768_95dbd595356148718d5876246a20fe90.png",width:256,height:256},{uri:"0da768_0ffcd1b0986d43b4aaa061b8b17d4040.png",width:6,height:6},{uri:"0da768_0c0d2dc79bc14f6b8275c3b72fec1ab6.png",width:4,height:6},{uri:"0da768_09a75bbb10944eafb4539206b6a3c615.png",width:3,height:3}],g=0;g<u.length;g++)u[g].type="Image",m[g].type="Image";var f=[{value:.25,label:"0.25x"},{value:.5,label:"0.50x"},{value:1,label:a.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_NORMAL")},{value:1.25,label:"1.25x"},{value:1.5,label:"1.50x"},{value:2,label:"2.00x"}],h=[{value:!1,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_DARKER"},{value:!0,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_LIGHTER"}],b={loop:!0,uri:null,colorOverlay:"#ffffff",colorOverlayOpacity:.2,scrollType:"scroll",playbackSpeed:1};return e({displayName:"bgVideoSettingsPanel",mixins:[o.mixins.editorAPIMixin,n.linkColorPickerMixin],propTypes:{getData:t.func,undoHandler:t.func,requestChange:t.func,undoOrigins:t.shape({VIDEO_PANEL:t.object})},childContextTypes:{reportUIChange:t.func},getInitialState:function(){this.lastColor="",this.lastColorOpacity=null;var e=this.props.getData();return this.currentPatterns=function(e,t){if(!e.ref.imageOverlay){var o=t.documentServices.pages.getPrimaryPageId();return r.userPreferences.selectors.getSessionUserPreferences("bg_video_settings_pattern_state_"+o)(t.store.getState())?m:u}return i.find(u,{uri:e.ref.imageOverlay.uri})?u:m}(e,this.getEditorAPI()),this.patternState=p(this.currentPatterns),this.thumbPatternOptions=this.fillThumbPatternOptions(this.currentPatterns),null},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(e){"slider"===e.toLowerCase()&&this.props.undoHandler(this.props.undoOrigins.VIDEO_PANEL)},linkedPatternOption:function(e,t){return{value:t&&t.uri||null,requestChange:function(t){if(t){var o=i.find(this.currentPatterns,{uri:t});this.patternState=p(this.currentPatterns),e.ref.imageOverlay=e.ref.imageOverlay||{},i.assign(e.ref.imageOverlay,o)}else e.ref.imageOverlay=null;l(this.getEditorAPI(),this.patternState),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),c(this.getEditorAPI())}.bind(this)}},applyInversePattern:function(e,t){return{value:this.patternState,requestChange:function(o){var n=i.findIndex(this.currentPatterns,{uri:t.uri});this.currentPatterns=o?m:u,this.fillThumbPatternOptions(this.currentPatterns),i.assign(e.ref.imageOverlay,this.currentPatterns[n]),this.patternState=o,l(this.getEditorAPI(),o),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),c(this.getEditorAPI())}.bind(this)}},isColorOverlay:function(e){return!i.isEmpty(e.ref.colorOverlay)&&i.isNumber(e.ref.colorOverlayOpacity)},applyOverlayColor:function(e){return{value:this.isColorOverlay(e),requestChange:function(t){t?(e.ref.colorOverlay=this.lastColor?this.lastColor:e.ref.color,e.ref.colorOverlayOpacity=i.isNumber(this.lastColorOpacity)?this.lastColorOpacity:b.colorOverlayOpacity):(this.lastColor=e.ref.colorOverlay,this.lastColorOpacity=e.ref.colorOverlayOpacity,e.ref.colorOverlay="",e.ref.colorOverlayOpacity=0),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),c(this.getEditorAPI())}.bind(this)}},linkColorWithOpacity:function(e,t){return{value:{color:t.colorOverlay.replace(/[\{\}]/g,""),alpha:t.colorOverlayOpacity},requestChange:function(o){t.colorOverlay=/color_/.test(o.color)?"{"+o.color+"}":o.color,t.colorOverlayOpacity=o.alpha,this.props.requestChange(e),c(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:!0,useMouseEvent:!0,enableHistory:!0}},shouldComponentUpdate:function(e){var t=e.getData(),o=this.getEditorAPI();return!(!t.ref.mediaRef||"WixVideo"!==t.ref.mediaRef.type)||(o.panelManager.closePanelByName(e.panelName),!1)},linkedBackgroundData:function(e,t,o){return{value:t&&void 0!==t[o]?t[o]:b[o],requestChange:function(i){t[o]=i,this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),c(this.getEditorAPI())}.bind(this)}},getPlaybackOptions:function(){return f},fillThumbPatternOptions:function(e){return i.forEach(e,function(t,o){d[o+1].value=e[o].uri}),d},getInvertPatternOption:function(){return h},render:s})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(e,t,o,i,n,a){"use strict";return function(){return function(){var r=this.props.page,s=this.initialBgData,l=this.getCurrentPageData(),c=this.getEditorAPI();return e.createElement("div",{className:t(this.getItemClassNames(r)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("label",{className:"item-label"},s?e.createElement(i.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentPage(),labelAfterSymbol:!0}):null,s?e.createElement("span",{className:"page-preview",key:"page-preview",style:this.getBgImageUrl(this.state.checked?l:s)},this.getMediaType(this.state.checked?l.ref:this.initialBgData.ref)===this.mediaTypes.VIDEO?e.createElement("div",{key:"page-preview-video-controls",className:"page-preview-video-controls"},e.createElement(o.symbol,{name:"bgVideoIndicator"})):null):null,e.createElement("span",{className:"page-name"},r.label),r.pageData&&c.pages.isHomePage(r.pageData.id)?e.createElement(n.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,r.pageData&&a.utils.tpaTypeUtils.isTPA(r.pageData)&&!a.utils.tpaTypeUtils.isTPASpecialPage(c,r.pageData)?e.createElement(n.symbol,{name:"actionButtonSpecialPages",key:"isTpaPage"}):null,r.pageData&&a.utils.blogTypeUtils.isBlogSectionPage(c,r.pageData)?e.createElement(n.symbol,{name:"actionButtonBlogPages",key:"isBlogPage"}):null,r.type.isLink?e.createElement(n.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,r.type.isDropdown?e.createElement(n.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,r.isVisible?null:e.createElement(n.symbol,{name:"pageItemHideIcon",key:"isHidden"})))}.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem",["react","create-react-class","prop-types","core","lodash","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt"],function(e,t,o,i,n,a,r){"use strict";var s=a.imageTransform,l=a.backgroundPanelUtils,c=l.getMediaTypes();return t({mixins:[i.mixins.editorAPIMixin,e.addons.LinkedStateMixin],displayName:"bgApplyPanelPageItem",propTypes:{page:o.object.isRequired,itemBgData:o.object,currentPageBgData:o.object,valueLink:o.func,currentPageId:o.string,isCurrentPage:o.bool,isSubMenu:o.bool,isSubMenuLast:o.bool},mediaTypes:c,getInitialState:function(){return this.initialBgData=this.props.itemBgData,{checked:this.isCurrentPage()}},componentWillReceiveProps:function(e){this.isValueChanged(e)&&this.setState({checked:e.valueLink.value})},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.page.pageData.id,this.initialBgData)},handleToggleChanged:function(e){this.setState({checked:e},this.componentStateChanged)},shouldComponentUpdate:function(e,t){return!this.isCurrentPage()&&(this.isCheckedStateChanged(t)||this.isValueChanged(e))},isValueChanged:function(e){return null!==e.valueLink.value&&this.props.valueLink.value!==e.valueLink.value},isCheckedStateChanged:function(e){return e.checked!==this.state.checked},isCurrentPage:function(){return this.props.isCurrentPage},getItemClassNames:function(e){return{"bg-apply-panel-item":!0,"item-hidden":!e.isVisible,"current-page":this.isCurrentPage(),"item-first-level":!this.props.isSubMenu,"item-second-level":this.props.isSubMenu,"item-second-level-last":this.props.isSubMenuLast,"item-is-page":e.type.isPage}},getMediaType:function(e){return l.getMediaType(e)},getCurrentPageData:function(){return this.props.currentPageBgData},getBgImageUrl:function(e){var t={backgroundColor:l.getColorValue(this.getEditorAPI(),e.ref.color)},o=this.getMediaType(e.ref);if(o!==c.COLOR){var i=o===c.IMAGE?e.ref.mediaRef:e.ref.mediaRef.posterImageRef,r=l.isSmallerFromContainer(i.width,i.height,50,35),p=l.getImageDisplayData(r?s.fittingTypes.TILE:s.fittingTypes.SCALE_TO_FILL,e.ref.alignType,i.uri,i.width,i.height,50,35);t.backgroundImage="url("+a.url.joinURL(l.MEDIA_URL_PREFIX,p.uri)+")",n.assign(t,p.css.container)}return t},render:r})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem","symbols"],function(e,t,o,i,n,a,r,s){"use strict";return function(){function i(o,i,n){return e.createElement("li",{key:"page"+n},e.createElement(r,t.assign({},{valueLink:this.pagesStateChange(),ref:"page"+n},this.getPagesProps(i))),i.items&&i.items.length?e.createElement.apply(this,["ul",{key:"pageItems"},t.map(i.items,function(o,i,n,a,s){return e.createElement("li",{key:"page"+n+"subPage"+s},e.createElement(r,t.assign({},{valueLink:this.pagesStateChange(),ref:"page"+n+"subPage"+s},this.getSubPagesProps(a,s,i.items.length-1))))}.bind(this,o,i,n))]):null)}function s(){var r=this.props.getData();return e.createElement(a.frames.bgSubPanelFrame,function(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}({helpId:"18df7de7-066e-49e6-b005-f01c72d4f680",className:"bg-apply-panel background-sub-panel",label:"BGPP_SETTINGS_APLLY_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement("div",{className:"bg-apply-panel-wrapper"},e.createElement("div",{className:"bg-apply-panel-description"},"\n            ",o.translate("BGPP_SETTINGS_APLLY_PANEL_DESCRIPTION"),"\n        "),e.createElement("div",{className:"bg-apply-panel-all"},e.createElement(n.Checkbox,{labelAfterSymbol:!0,value:this.state.markAllPagesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,label:"BGPP_SETTINGS_APLLY_TO_ALL"})),e.createElement(n.CustomScroll,{},e.createElement("div",{className:"bg-apply-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement.apply(this,["ul",{className:"bg-apply-panel-scrollbox-list"},t.map(this.siteMenuItems,i.bind(this,r))])))))}return s.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel",["react","create-react-class","lodash","util","core","pagesMenu","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt"],function(e,t,o,i,n,a,r){"use strict";function s(e,t,i,n){return t=t||[],o.forEach(e,o.bind(function(e){if(e.pageData&&(t.push(e),o.includes(i,e.pageData.id))){var a=this.getEditorAPI().mainMenu.convertPagesDataListToMenuItemsList(d.getSpecialPagesListBySectionPageOrBySibling(this.getEditorAPI(),e.pageData),n);s.call(this,a,t,i,n)}s.call(this,e.items,t,i,n)},this)),o.uniqBy(t,"id")}function l(e){var t=e.pages.dynamicPages.getMenuItems();return o.flatMap(t,"items")}function c(e,t){var o=e.getDeviceType();return e.documentServices.pages.background.get(t,o)}function p(e,t,o){var i=o.getDeviceType(),n=o.documentServices.pages.background.get(t,i);return e.ref.mediaRef&&n.ref.mediaRef&&e.ref.mediaRef.type===n.ref.mediaRef.type?(e.ref.mediaRef.id=n.ref.mediaRef.id,"WixVideo"===e.ref.mediaRef.type&&(e.ref.mediaRef.posterImageRef.id=n.ref.mediaRef.posterImageRef.id,e.ref.imageOverlay&&(e.ref.imageOverlay.id=n.ref.imageOverlay&&n.ref.imageOverlay.id))):e.ref.mediaRef?(delete e.ref.mediaRef.id,"WixVideo"===e.ref.mediaRef.type&&(delete e.ref.mediaRef.posterImageRef.id,e.ref.imageOverlay&&delete e.ref.imageOverlay.id)):(e.ref.mediaRef=null,e.ref.colorOverlay="",e.ref.imageOverlay=null,e.ref.scrollType="scroll"),e.ref.id=n.ref.id,e}var d=a.specialPages.menuLogic,u=i.bgPanelBiEvents;return t({displayName:"backgroundApplyPanel",mixins:[n.mixins.editorAPIMixin,i.draggableMixin,e.addons.LinkedStateMixin],getInitialState:function(){return this.selectedItems=[],this.appliedPages=[],this.currentPageId=this.getEditorAPI().documentServices.pages.getPrimaryPageId(),this.currentPageBgData=c(this.getEditorAPI(),this.currentPageId),this.siteMenuItems=this.getTrimmedMenuItems(),this.flatSitePages=this.getFlatPagesList(),this.itemsProps=this.getItemsProps(),{markAllPagesDisplay:!1,indeterminate:!1}},shouldComponentUpdate:function(e,t){return this.state.markAllPagesDisplay!==t.markAllPagesDisplay||this.state.indeterminate!==t.indeterminate||this.appliedPages.length>0},updatePages:function(){!function(e,t,i,n){var a=void 0;o.forEach(n,function(n){a=n.checked?p(o.cloneDeep(i),n.pageId,t):p(o.cloneDeep(n.originalPageBgData),n.pageId,t),e.requestChange(a,null,n.pageId)}),n.length>0&&e.undoHandler(e.undoOrigins.APPLY_PANEL)}(this.props,this.getEditorAPI(),this.currentPageBgData,this.appliedPages),this.appliedPages=[]},componentWillUnmount:function(){u.applyToOtherClosed(this.getEditorAPI(),n.bi.events.backgroundPanel.panel_apply_to_other_pages_ok,{all_pages_selected:(this.flatSitePages.length===this.selectedItems.length+1).toString(),num_unselected_pages:this.flatSitePages.length-this.selectedItems.length,num_selected_pages:this.selectedItems.length})},handleSelectAllChange:function(e){o.forEach(this.itemsProps,o.bind(function(t){var i=t.page.pageData.id;i!==this.currentPageId&&(e?o.includes(this.selectedItems,i)||(this.selectedItems.push(i),this.appliedPages.push({checked:e,originalPageBgData:t.itemBgData,pageId:i})):o.includes(this.selectedItems,i)&&(o.pull(this.selectedItems,i),this.appliedPages.push({checked:e,originalPageBgData:t.itemBgData,pageId:i})))},this)),this.setState({markAllPagesDisplay:e,indeterminate:!1},this.updatePages)},pagesStateChange:function(){var e=null;return this.flatSitePages.length===this.selectedItems.length+1&&(e=!0),0===this.selectedItems.length&&(e=!1),{value:e,requestChange:function(e,t,i){e&&t!==this.currentPageId?o.includes(this.selectedItems,t)||this.selectedItems.push(t):o.pull(this.selectedItems,t),this.appliedPages.push({checked:e,originalPageBgData:i,pageId:t});var n=this.flatSitePages.length===this.selectedItems.length+1,a=!n&&this.selectedItems.length>0;if(n!==this.state.markAllPagesDisplay||a!==this.state.indeterminate){var r={markAllPagesDisplay:n,indeterminate:a};this.setState(r,this.updatePages)}else this.updatePages()}.bind(this)}},getFlatPagesList:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPagesData(),o=e.mainMenu.getMenuItemsTreeForMainMenu(t);o=o.concat(l(this.getEditorAPI()));var i=d.getSectionPagesIds(e,t),n=e.documentServices.mainMenu.getMenu();return s.call(this,o,[],i,n)},getTrimmedMenuItems:function(){var e=this.getMenuItemsTreeWithPagesOnly();return function(e,t){var i=!1,a=t.documentServices.mainMenu.getMenu(),r=t.documentServices.pages.getPagesData(),s=d.getSectionPagesIds(t,r),l=void 0;o.forEach(e,function(e){var c=void 0;if(e.pageData&&o.includes(s,e.pageData.id)){if(c=n.utils.tpaTypeUtils.isTPA(e.pageData),i&&c)return;l=t.mainMenu.convertPagesDataListToMenuItemsList(d.getSpecialPagesListBySectionPageOrBySibling(t,e.pageData,r),a),e.items=e.items.concat(l),c&&(i=!0)}})}(e,this.getEditorAPI()),e=e.concat(l(this.getEditorAPI()))},buildDynamicPagesIdsMap:function(){var e={},t=this.getEditorAPI().documentServices.routers.get.all();return o.forOwn(t,function(t){o.forOwn(t.pages,function(t){e[t]=!0})}),e},getMenuItemsTreeWithPagesOnly:function(){var e=this.getEditorAPI(),t=this.buildDynamicPagesIdsMap();return e.mainMenu.extendMenuItemsTreeWithPageData(e.documentServices.pages.getPagesData(),function(o,i){return i&&!d.isSpecialPage(e,i,t)||!i&&o.items.length>0})},getItemsProps:function(){var e=[];return o.forEach(this.flatSitePages,o.bind(function(t){e.push({page:t,currentPageId:this.currentPageId,currentPageBgData:this.currentPageBgData,itemBgData:c(this.getEditorAPI(),t.pageData.id),isCurrentPage:this.currentPageId===(t.type.isPage&&t.pageData.id)})},this)),e},getPagesProps:function(e){var t=o.find(this.itemsProps,{page:{id:e.id}});return t||(t={page:e}),t},getSubPagesProps:function(e,t,i){var n=o.find(this.itemsProps,{page:{id:e.id}});return n.isSubMenu=!0,n.isSubMenuLast=t===i,n},render:r})}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple.rt",["react","lodash","baseUI","panels"],function(e,t,o,i){"use strict";return function(){return e.createElement(i.frames.focusPanelFrame,{panelName:this.props.panelName,width:"1210",height:"90%",shouldHideHeader:!0,className:"site-settings-panel"},e.createElement("iframe",{ref:"siteSettingsFrame",width:"100%",height:"100%",src:this.getSettingsIframeUrl(),frameBorder:"0"}),e.createElement(o.preloader,{className:t({hidden:!this.state.showLoader}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}))}}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple",["reactDOM","create-react-class","prop-types","util","core","lodash","rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple.rt"],function(e,t,o,i,n,a,r){"use strict";function s(t){e.findDOMNode(this.refs.siteSettingsFrame).contentWindow.postMessage(JSON.stringify(t),"*")}function l(e,t){s.call(this,{isValid:t,callId:e.callId})}var c={CLOSE:"CLOSE",OPEN_HELP:"OPEN_HELP",SET_METATAGS:"SET_METATAGS",VALIDATE_METATAGS:"VALIDATE_METATAGS",GET_METATAGS:"GET_METATAGS",NOTIFY_SITENAME_CHANGED:"NOTIFY_SITENAME_CHANGED"},p=["https://www.wix.com","http://www.wix.com"];return t({displayName:"siteSettingsPanel",render:r,mixins:[n.mixins.editorAPIMixin],propTypes:{tab:o.string,referrer:o.string},getInitialState:function(){return{showLoader:!0}},getDefaultProps:function(){return{tab:"overview"}},componentWillMount:function(){window.addEventListener("message",this.handlePostMessage,!1)},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage,!1)},componentDidMount:function(){e.findDOMNode(this.refs.siteSettingsFrame).addEventListener("load",this.hideLoader)},handlePostMessage:function(e){var t=this.getEditorAPI();if(a.includes(p,e.origin)&&!a.isEmpty(e.data)&&a.isString(e.data))try{this.hideLoader();var o=JSON.parse(e.data);(function(e){return a.isObject(e)&&!a.isEmpty(e.action)&&a.isString(e.action)})(o)&&function(e,t){switch(e.action){case c.GET_METATAGS:s.call(this,{payload:t.documentServices.seo.headTags.get(),callId:e.callId});break;case c.SET_METATAGS:t.documentServices.seo.headTags.set(e.value,a.noop,a.noop);break;case c.VALIDATE_METATAGS:t.documentServices.seo.headTags.clientSideValidation(e.value,l.bind(this,e,!0),l.bind(this,e,!1));break;case c.NOTIFY_SITENAME_CHANGED:t.siteName.set(e.value);break;case c.CLOSE:this.props.close();break;case c.OPEN_HELP:this.props.openHelpCenter()}}.call(this,o,t)}catch(o){t.documentServices.bi.error(n.bi.errors.SITE_SETTINGS_JSON_PARSE_ERROR,{dsc:'message: "'+o.message+'" data: "'+e.data+'"',errscp:this.constructor.displayName})}},getSettingsIframeUrl:function(){var e=this.getEditorAPI(),t=i.serviceTopology.baseDomain,o=e.documentServices.generalInfo.getMetaSiteId(),n=this.props.referrer?"&referrer="+this.props.referrer:"";return"https://"+t+"/my-account/sites/"+o+"/site-settings/"+this.props.tab+"/?mode=editor-dialog"+n},hideLoader:function(){this.state.showLoader&&this.setState({showLoader:!1})}})}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel",["higherOrderComponents","rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple"],function(e,t){"use strict";return e.panelFrame(t)}),define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt",["react","lodash","baseUI","panels","util"],function(e,t,o,i,n){"use strict";return function(){return e.createElement(i.frames.focusPanelFrame,{panelName:this.props.panelName,title:"Editor Version Info",frameClassName:"editorVersionInfoPanel"},e.createElement("div",{className:"content"},e.createElement("div",{className:"row"},e.createElement("label",{},"Editor Version:"),e.createElement("span",{},this.getEditorVersion())),e.createElement("div",{className:"row"},e.createElement("label",{},"Viewer Version:"),e.createElement("span",{},this.getViewerVersion()))),e.createElement("div",{className:"panel-footer"},e.createElement(o.button,{type:"button",shouldTranslate:!1,label:"OK",className:"done-button",onClick:this.close})))}}),define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel",["lodash","create-react-class","core","util","jquery","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt"],function(e,t,o,i,n,a){"use strict";function r(e){return e.split("/").pop()||"unknown"}return t({displayName:"editorVersionInfoPanel",panelName:"editorVersionInfoPanel",mixins:[o.mixins.editorAPIMixin],getEditorVersion:function(){return r(e.get(i,"editorModel.editorBase",""))},getViewerVersion:function(){return r(e.get(n("#preview")[0],"contentWindow.siteModel.santaBase"))},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:a})}),define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt",["react","lodash","panels","baseUI","baseUILib","util","symbols"],function(e,t,o,i,n,a,r){"use strict";return function(){return function(){var i=this.getEditorAPI().addPanelInfra.designPanelLiveComponentSection;return e.createElement(o.frames.confirmationPanelFrame,{panelName:this.props.panelName,className:"apply-style-panel",onConfirm:this.onConfirm,onCancel:this.onCancel,shouldHideHeader:!0,confirmLabel:"COPY_DESIGN_APPLY",ref:"frame",cancelLabel:"COPY_DESIGN_APPLY_CANCEL"},e.createElement("header",{className:"save-publish-panel-header"},e.createElement("button",{className:"close",onClick:this.close},e.createElement(r.symbol,{name:"headerCloseButton"})),e.createElement("button",{className:"help",onClick:this.openHelpCenter,key:"help"},"?"),e.createElement("span",{className:"title"},a.translate("COPY_DESIGN_TITLE")),e.createElement("span",{className:"subtitle"},a.translate("COPY_DESIGN_DESCRIPTION_LINE1"))),e.createElement("div",{className:"panel-content"},e.createElement("div",{className:"current-style-container container-wrapper"},e.createElement("div",{className:"current-style-header header"},e.createElement("span",{className:"text"},a.translate("COPY_DESIGN_LABEL_LEFT"))),e.createElement("div",{className:"current-style comp-container"},e.createElement(i,this.getSelectedCompProps()))),e.createElement("div",{className:"applied-styles-container container-wrapper"},this.getThemeAndPersonalizeStylesToRender().length>0?e.createElement("div",{key:"applyStyleHeader",className:"applied-styles-header header"},e.createElement("span",{className:"text"}," ",a.translate("COPY_DESIGN_LABEL_RIGHT"))):null,e.createElement(n.CustomScroll,{},e.createElement("div",{className:"comp-themed-styles comp-container"},this.getThemeAndPersonalizeStylesToRender().length>0?e.createElement(i,t.assign({},{key:"appliesStylesLiveSections"},this.getThemeAndPersonalizeStylesProps())):null,0===this.getThemeAndPersonalizeStylesToRender().length?e.createElement("div",{className:"empty-styles",key:"emptyStylesKey"},e.createElement(r.symbol,{name:"nothingToEditASP"}),e.createElement("div",{className:"empty-style-text text"},a.translate("COPY_DESIGN_EMPTY_LABEL"))):null)))))}.apply(this,[])}}),define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel",["create-react-class","lodash","core","rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt","experiment"],function(e,t,o,i,n){"use strict";function a(e){return m[e]&&m[e].compOverrideType?m[e].compOverrideType:e}function r(e,i,n,r,u,g){var f={additionalBehaviours:{iconEnabledForComps:[],infoIcon:"none",labelMode:"none"},help:{hide:!0},categoryId:n.substring(n.lastIndexOf(".")+1),hide:!1,id:i,onClick:g,onItemDrag:function(){},parentType:"ADD_PANEL",props:{compTypes:a(n),horizontalMargin:l,verticalMargin:s,scaleProportion:{x:m[n]&&m[n].scale?m[n].scale:c,y:m[n]&&m[n].scale?m[n].scale:c}},showSectionHeader:!1,stylesForSection:r,additionalScaling:1,selectedItemKey:u,getAdditionalElementProps:function(i){var n=function(e,i){var n=e.style||e.styleId;return t.isString(n)&&(n=o.styleManager.getStyleById(i.theme,i.components,n)),n}(i,e),a={};return t.includes(p,n.skin)?(a.text="DESIGN_LABEL_NO_COLOR",a.className="design-panel-transparent-skin-item"):t.includes(d,n.skin)&&(a.text="Design_Label_No_Frame",a.className="design-panel-no-frame-skin-item"),a}};return m[n]&&m[n].maxFontSize&&(f.props.maxFontSize=m[n].maxFontSize),f}var s=30,l=20,c=1,p=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"],d=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"],u=["wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.PaginatedGridGallery"],m={"wysiwyg.viewer.components.HeaderContainer":{scale:.5},"wysiwyg.viewer.components.FooterContainer":{scale:.5},"wysiwyg.viewer.components.ScreenWidthContainer":{scale:.5},"mobile.core.components.Page":{compOverrideType:"pageContainer"},"wysiwyg.viewer.components.Video":{scale:.5},"wysiwyg.viewer.components.VerticalLine":{maxFontSize:10},"wysiwyg.viewer.components.FiveGridLine":{maxFontSize:10},fiveGridLineFullWidth:{maxFontSize:10},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.AudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.menus.DropDownMenu":{maxFontSize:15},"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":{maxFontSize:15},"wysiwyg.viewer.components.SiteButton":{maxFontSize:22},"mobile.core.components.Container":{scale:.5},"core.components.Container":{scale:.5},"core.components.ContainerOBC":{scale:.5},"wysiwyg.viewer.components.BgImageStrip":{scale:.5},"wysiwyg.viewer.components.ContactForm":{scale:.5},"wysiwyg.viewer.components.DynamicContactForm":{scale:.5},"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":{scale:.5},"wysiwyg.viewer.components.GoogleMap":{scale:.5},"wysiwyg.viewer.components.WPhoto":{scale:.5},"wysiwyg.viewer.components.MatrixGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SlideShowGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SliderGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.PaginatedGridGallery":{scale:.25,maxFontSize:12}},g={"mobile.core.components.Container":["core.components.Container","core.components.ContainerOBC"],"core.components.Container":["mobile.core.components.Container","core.components.ContainerOBC"],"core.components.ContainerOBC":["mobile.core.components.Container","core.components.Container"]};return e({displayName:"applyStylePanel",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return{selectedItems:[]}},close:function(){var e=this.getEditorAPI();e.panelManager.closePanelByName(this.props.panelName);var t=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:t.id,component_type:e.components.getType(t)})},onCancel:function(){var e=this.getEditorAPI(),t=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:t.id,component_type:e.components.getType(t)})},onConfirm:function(){var e=this.getEditorAPI(),i=e.components.style.getId(this.props.selectedComp),a=e.components.getType(this.props.selectedComp),r=o.styleManager.getStyleById(e.theme,e.components,i),s=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_APPLY,{num_of_styles_chosen:this.state.selectedItems.length,component_id:s.id,component_type:e.components.getType(s)}),t.forEach(this.state.selectedItems,function(i){var s=i.split("."),l=s[s.length-1],c=l.substring(l.indexOf("_")+1),p=o.styleManager.getStyleById(e.theme,e.components,c),d=[p],u=o.styleManager.getDuplicateToStyleList(e.theme,e.components,p,a);t.forEach(g[a],function(t){var i=o.styleManager.getDuplicateToStyleList(e.theme,e.components,p,t,g[a]);u=u.concat(i)}),n.isOpen("se_studioCopyDesign")&&(u=t.filter(u,{styleType:"custom"})),d=d.concat(u),t.forEach(d,function(t){var o={skin:r.skin,style:r.style,type:t.type};e.theme.styles.update(t.id,o)})})},getSelectedCompProps:function(){var e=this.getEditorAPI(),o=this.props.selectedComp,i=e.components.getType(o);return r(e,"selectedComp"+o.id,i,[{styleId:e.components.style.getId(o),compType:a(i)}],this.state.selectedItems,t.noop)},getThemeAndPersonalizeStylesProps:function(){var e=this.getEditorAPI(),t=this.props.selectedComp;return r(e,"themeAndMyForComp"+t.id,e.components.getType(t),this.themeAndPersonalizedStylesToRender?this.themeAndPersonalizedStylesToRender:this.getThemeAndPersonalizeStylesToRender(),this.state.selectedItems,this.updateListOfStyleToUpdate)},getThemeAndPersonalizeStylesToRender:function(){if(this.themeAndPersonalizedStylesToRender)return this.themeAndPersonalizedStylesToRender;var e=this.getEditorAPI(),i=this.props.selectedComp,r=e.components.getType(i),s=e.components.style.getId(i),l=o.styleManager.getStyleById(e.theme,e.components,s),c=[];c=function(e,i){return t.filter(e,function(e){var n=o.styleManager.getStyleById(i.theme,i.components,e);return!t.includes(d,n.skin)})}(c=n.isOpen("se_studioCopyDesign")?function(e,i){var n=t.union([i],g[i]),a=t.map(n,function(i){return t.map(o.styleManager.getThemedStyleForComp(e.theme,e.components,i),"id")});return t(a).union().flatten().value()}(e,r):t.includes(u,r)?function(e,i){var n=t.map(o.styleManager.getUniqueCustomStyleList(e.theme,e.components,i),"id");return g[i]&&t.forEach(g[i],function(i){var a=t.map(o.styleManager.getUniqueCustomStyleList(e.theme,e.components,i),"id");n=n.concat(a)}),n}(e,r):function(e,i){var n=t.map(o.styleManager.getUniqueStyleList(e.theme,e.components,i),"id");return g[i]&&t.forEach(g[i],function(i){var a=t.map(o.styleManager.getUniqueStyleList(e.theme,e.components,i),"id");n=n.concat(a)}),n}(e,r),e);var p=[];return t.forEach(c,function(t){var i=o.styleManager.getStyleById(e.theme,e.components,t),c=t!==s&&!o.styleManager.isEqualWithoutTypeConsideration(i,l);(n.isOpen("se_studioCopyDesign")||c)&&p.push({compType:a(r),styleId:t})}),this.themeAndPersonalizedStylesToRender=p,p},updateListOfStyleToUpdate:function(e,i,n,a){var r=t.clone(this.state.selectedItems),s=a.split("."),l=s[s.length-1],c=l.substring(l.indexOf("_")+1),p=t.includes(r,a);p?t.remove(r,function(e){return e===a}):r.push(a);var d=this.props.selectedComp,u=this.getEditorAPI();u.bi.event(o.bi.events.applyStyle.COPY_STYLE_CHOOSE_STYLES_TO_REPLACE_CLICK,{style_id:c,status:!p,component_id:d.id,component_type:u.components.getType(d)}),this.setState({selectedItems:r})},openHelpCenter:function(){var e=this.getEditorAPI(),t={panel_name:this.props.panelName,component:e.selection.getSelectedComponentType(),origin:o.constants.BI.HELP.ORIGIN.PANEL,learn_more:!1};e.panelManager.openHelpCenter("b853c294-8ff1-418f-b4d2-29d7b59a85c3",null,t)},render:i})}),define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt",["react","lodash","util","baseUI","baseUILib","compPanels","helpIds"],function(e,t,o,i,n,a,r){"use strict";return function(){return e.createElement(a.compPanelFrame,t.assign({},{contentClass:"box-slide-show-manage-slides-panel",title:"Regular_Slideshow_Slides_Title",helpId:r.EXTERNAL.BOX_SLIDE_SHOW_MANAGE_SLIDES},this.getFrameProps()),e.createElement(n.SortByDragList,{selectable:!0,value:this.getSlides(),selectItem:this.selectSlide,menuActionsOverrides:this.getMenuActionsOverrides(),enableEditValue:!1,enableSetAsDefault:!1,labelValidator:o.validate.notEmptyString,labelInvalidMessage:"Box_slide_show_slides_invalid_slide_name",itemMoved:this.moveSlide,duplicateItem:this.duplicateSlide,deleteItem:this.deleteSlide,itemChanged:this.changeSlideName}),e.createElement("div",{className:"button-wrapper"},e.createElement(i.button,{className:"mainButton",label:"Regular_Slideshow_Slides_Add_Duplicate_Slide",onClick:this.duplicateCurrentSlide}),e.createElement(i.button,{className:"secondaryButton btn-text",label:"Regular_Slideshow_Slides_Add_New_Slide",onClick:this.addNewSlide})))}}),define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel",["create-react-class","lodash","util","core","compPanels","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt"],function(e,t,o,i,n,a,r){"use strict";function s(){return this.getEditorAPI().components.getDefaultBiParams(this.props.selectedComponent)}function l(e,t,o){var i={id:t.id,label:function(e,t){return e.components.data.get(t)[d]}(e,t),pointer:t};return i.id===o.id&&(i.selected=!0),i}function c(e,o,i){var n=p.getAllSlides(e,o);return t.map(n,function(t){return l(e,t,i)})}var p=a.utils.boxSlideShowUtils,d="title";return e({displayName:"boxSlideShowManageSlidesPanel",mixins:[n.compPanelMixin,o.translationMixin],getInitialState:function(){var e=p.findCurrentSlide(this.getEditorAPI(),this.props.selectedComponent);return this.isCurrentlyInOperation=!1,{selectedSlide:e}},componentWillMount:function(){this.slides=this.getSlides()},componentWillUpdate:function(e,t){this.slides=c(this.getEditorAPI(),this.props.selectedComponent,t.selectedSlide)},componentWillReceiveProps:function(e){this.slides=c(this.getEditorAPI(),e.selectedComponent,this.state.selectedSlide);var o=p.findCurrentSlide(this.getEditorAPI(),e.selectedComponent);t.isEqual(o,this.state.selectedSlide)||this.setState({selectedSlide:o})},getSlides:function(){return c(this.getEditorAPI(),this.props.selectedComponent,this.state.selectedSlide)},getSelectedSlideItem:function(){return t.find(this.slides,{id:this.state.selectedSlide.id})},startOperation:function(){this.getEditorAPI().preventMouseDown(),this.isCurrentlyInOperation=!0},endOperation:function(){this.getEditorAPI().allowMouseDown(),this.isCurrentlyInOperation=!1},isInOperation:function(){return this.isCurrentlyInOperation},selectSlide:function(e,o){if(!this.isInOperation()){var n=this.getEditorAPI();this.startOperation(),this.setState({selectedSlide:e.pointer},function(){n.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:o},this.endOperation)}.bind(this)),p.hideQuickTip(n),p.identifyComponentsOutOfSlideshow(n,this.props.selectedComponent),n.bi.event(i.bi.events.boxSlideShow.SLIDES_NAVIGATION,t.assign({origin:"slideManager"},s.call(this)))}},moveSlide:function(e,o){if(e!==o&&!this.isInOperation()){var n=this.getEditorAPI(),a=t.findIndex(this.getSlides(),{selected:!0}),r=this.slides[e].pointer;n.components.arrangement.moveToIndex(r,o,!1),n.bi.event(i.bi.events.boxSlideShow.MANAGE_SLIDES_SLIDE_REORDERED,s.call(this)),n.documentServices.waitForChangesApplied(function(){var e=t.findIndex(this.getSlides(),{selected:!0});a!==e&&(this.startOperation(),n.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:e},this.endOperation))}.bind(this))}},addSlide:function(e,o){var i=this.getEditorAPI(),n=i.components.add(t.head(this.props.selectedComponent),e);i.components.arrangement.moveToIndex(n,o,!0),this.getEditorAPI().history.add("added a slide to slide show"),i.documentServices.waitForChangesApplied(function(){var e=l(i,n,this.state.selectedSlide);this.selectSlide(e,o)}.bind(this))},duplicateSlide:function(e,t){var o=this.getEditorAPI().components.serialize(e.pointer),i={curr_slide_title:o.data[d]};o.data[d]=this.translateTemplate("Regular_Slideshow_Slides_Copy_Slide_Label",i,this.getEditorAPI()),this.addSlide(o,t+1)},duplicateCurrentSlide:function(){var e=this.getSelectedSlideItem(),t=this.slides.length;this.duplicateSlide(e,t-1),this.getEditorAPI().bi.event(i.bi.events.boxSlideShow.MANAGE_SLIDES_DUPLICATE_CURRENT_SLIDE,s.call(this))},deleteSlide:function(e,t,o){var i=this;if(!(o.length<=1)){var n=this.getEditorAPI();n.components.remove(e.pointer).then(function(){n.history.add("removed a slide from slide show");var e=p.findCurrentSlide(n,i.props.selectedComponent);i.setState({selectedSlide:e})})}},changeSlideName:function(e){var t=e.label,o=this.getEditorAPI(),i={};i[d]=t,o.components.data.update(e.pointer,i)},addNewSlide:function(){var e=this.getEditorAPI(),t=this.getSelectedSlideItem(),o=e.components.serialize(t.pointer);o.components=[];var n=this.slides.length,a={curr_slide:n+1};o.data[d]=this.translateTemplate("Regular_Slideshow_Slides_New_Slide_Label",a,e),this.addSlide(o,n),e.bi.event(i.bi.events.boxSlideShow.MANAGE_SLIDES_ADD_NEW_SLIDE,s.call(this))},getMenuActionsOverrides:function(){return{toggleDefault:{enable:!1},toggleEditValue:{enable:!1},toggleEditLabel:{priority:3,label:o.translate("Regular_Slideshow_Slides_Rename")},duplicate:{priority:2,label:o.translate("Regular_Slideshow_Slides_Duplicate")},delete:{priority:1,label:o.translate("Regular_Slideshow_Slides_Delete"),enable:this.slides.length>1}}},render:r})}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(e,t,o,i,n,a){"use strict";return function(){return function(){var n=this.props.slide,a=this.getCurrentSlideData(),r=this.initialBgData;return e.createElement("div",{className:t(this.getItemClassNames(n)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("label",{className:"item-label"},r?e.createElement(i.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentSlide(),labelAfterSymbol:!0}):null,r?e.createElement("span",{className:"slide-preview",key:"slide-preview",style:this.getBgImageUrl(this.state.checked?a:r)},this.getMediaType(this.state.checked?a:r)===this.mediaTypes.VIDEO?e.createElement("div",{key:"slide-preview-video-controls",className:"slide-preview-video-controls"},e.createElement(o.symbol,{name:"bgVideoIndicator"})):null):null,e.createElement("span",{className:"slide-name"},this.props.slideTitle)))}.apply(this,[])}}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem",["react","create-react-class","prop-types","core","lodash","util","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt"],function(e,t,o,i,n,a,r){"use strict";var s=a.imageTransform,l=a.backgroundPanelUtils,c=l.getMediaTypes();return t({mixins:[i.mixins.editorAPIMixin,e.addons.LinkedStateMixin],displayName:"slideShowBgApplyPanelItem",propTypes:{slide:o.object.isRequired,slideTitle:o.string.isRequired,itemBgData:o.object,isCurrentSlide:o.bool,currentSlideBgData:o.object,valueLink:o.object},mediaTypes:c,getInitialState:function(){return this.origin=this.props.origin,this.initialBgData=this.props.itemBgData,{checked:this.isCurrentSlide()}},isCurrentSlide:function(){return this.props.isCurrentSlide},componentWillReceiveProps:function(e){this.isValueChanged(e)&&this.setState({checked:e.valueLink.value})},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.slide,this.initialBgData)},handleToggleChanged:function(e){this.setState({checked:e},this.componentStateChanged)},shouldComponentUpdate:function(e,t){return!this.isCurrentSlide()&&(this.isCheckedStateChanged(t)||this.isValueChanged(e))},isValueChanged:function(e){return null!==e.valueLink.value&&this.props.valueLink.value!==e.valueLink.value},isCheckedStateChanged:function(e){return e.checked!==this.state.checked},getItemClassNames:function(){return{"slideShow-apply-panel-item":!0,"current-slide":this.isCurrentSlide()}},getMediaType:function(e){return l.getMediaType(e)},getCurrentSlideData:function(){return this.props.currentSlideBgData},getBgStyleByBackgroundType:function(e){var t={backgroundColor:l.getColorValue(this.getEditorAPI(),e.color)},o=this.getMediaType(e);if(o!==c.COLOR){var i=o===c.IMAGE?e.mediaRef:e.mediaRef.posterImageRef,r=l.isSmallerFromContainer(i.width,i.height,50,35),p=l.getImageDisplayData(r?s.fittingTypes.TILE:s.fittingTypes.SCALE_TO_FILL,e.alignType,i.uri,i.width,i.height,50,35);t.backgroundImage="url("+a.url.joinURL(l.MEDIA_URL_PREFIX,p.uri)+")",n.assign(t,p.css.container)}return t},getBgImageUrl:function(e){var t=void 0;switch(this.origin){case"strip":case"box":t=this.getBgStyleByBackgroundType(e)}return t},render:r})}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem","helpIds"],function(e,t,o,i,n,a,r,s){"use strict";return function(){return e.createElement(a.frames.bgSubPanelFrame,function(e,o){var i=t.assign({},e,o);return e.hasOwnProperty("style")&&(i.style=t.defaults(i.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(i.className=o.className+" "+e.className),i}({helpId:s.EXTERNAL.BOX_SLIDE_SHOW_BG_APPLY,className:"slide-show-apply-panel",label:"Regular_Slideshow_Apply_Panel_Header_Title"},t.omit(this.props,"children")),e.createElement("div",{className:"slide-show-apply-panel-wrapper"},e.createElement("div",{className:"slide-show-apply-panel-description"},"\n            ",o.translate("Regular_Slideshow_Apply_Panel_Header_Description"),"\n        "),e.createElement("div",{className:"slide-show-apply-panel-all"},e.createElement(n.Checkbox,{label:"Regular_Slideshow_Apply_To_All",value:this.state.markAllSlidesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,labelAfterSymbol:!0})),e.createElement(n.CustomScroll,{},e.createElement("div",{className:"slide-show-apply-panel-scrollbox slide-show-settings-panel-scrollbox"},e.createElement.apply(this,["ul",{className:"slide-show-apply-panel-scrollbox-list"},t.map(this.allSlides,function(o,i){return e.createElement("li",{key:"slide"+i},e.createElement(r,t.assign({},{valueLink:this.slidesStateChange(),ref:"slide"+i},this.getSlideProps(o))))}.bind(this))])))))}}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel",["create-react-class","core","lodash","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt"],function(e,t,o,i,n){"use strict";function a(e,t){var o=t.originalSlideBgData;return e.mediaRef&&o.mediaRef&&e.mediaRef.type===o.mediaRef.type?(e.mediaRef.id=o.mediaRef.id,"WixVideo"===e.mediaRef.type&&(e.mediaRef.posterImageRef.id=o.mediaRef.posterImageRef.id,e.imageOverlay&&(e.imageOverlay.id=o.imageOverlay&&o.imageOverlay.id))):e.mediaRef?(delete e.mediaRef.id,"WixVideo"===e.mediaRef.type&&(delete e.mediaRef.posterImageRef.id,e.imageOverlay&&delete e.imageOverlay.id)):(e.mediaRef=null,e.colorOverlay="",e.imageOverlay=null),e.id=o.id,e}var r=i.utils.boxSlideShowUtils;return e({displayName:"slideShowBgApplyPanel",mixins:[t.mixins.editorAPIMixin],getAllSlides:function(){var e=this.getEditorAPI();return r.getAllSlides(e,e.selection.getSelectedComponents())},getInitialState:function(){var e=this.getEditorAPI();return this.selectedItems=[],this.appliedSlides=[],this.origin=this.props.origin,this.currentSlide=r.findCurrentSlide(e,e.selection.getSelectedComponents()),this.currentSlideBgData=this.getSlideBgData(this.currentSlide),this.allSlides=this.getAllSlides(),this.itemsProps=this.getItemsProps(),{markAllSlidesDisplay:!1,indeterminate:!1}},getSlideBgData:function(e){var t=this.getEditorAPI();switch(this.origin){case"strip":case"box":return t.components.design.get(e).background}},shouldComponentUpdate:function(e,t){return this.state.markAllSlidesDisplay!==t.markAllSlidesDisplay||this.state.indeterminate!==t.indeterminate||this.appliedSlides.length>0},handleSelectAllChange:function(e){o.forEach(this.itemsProps,o.bind(function(t){var i=t.slide,n=i.id;n!==this.currentSlide.id&&(e?o.includes(this.selectedItems,n)||(this.selectedItems.push(n),this.appliedSlides.push({checked:e,originalSlideBgData:t.itemBgData,slide:i})):o.includes(this.selectedItems,n)&&(o.pull(this.selectedItems,n),this.appliedSlides.push({checked:e,originalSlideBgData:t.itemBgData,slide:i})))},this)),this.setState({markAllSlidesDisplay:e,indeterminate:!1},this.updateSlides)},getItemsProps:function(){var e=[],t=this.getEditorAPI();return o.forEach(this.allSlides,o.bind(function(o){e.push({slide:o,slideTitle:t.components.data.get(o).title,currentSlideBgData:this.currentSlideBgData,itemBgData:this.getSlideBgData(o),isCurrentSlide:this.currentSlide.id===o.id})},this)),e},getSlideProps:function(e){var t=o.find(this.itemsProps,{slide:{id:e.id}});return t.origin=this.origin,t},updateSlides:function(){var e=this.getEditorAPI();!function(e,t,i,n){var r=void 0;o.forEach(t,function(t){switch(r=t.checked?a(o.cloneDeep(e),t):a(o.cloneDeep(t.originalSlideBgData),t),n){case"strip":case"box":!function(e,t,o){o.components.design.update(t,{background:e})}(r,t.slide,i)}})}(this.currentSlideBgData,this.appliedSlides,e,this.origin);var i=o.assign({total_slides:this.getAllSlides().length,num_selected_slides:this.appliedSlides.length,all_slides_selected:this.state.markAllSlidesDisplay},e.components.getDefaultBiParams(e.selection.getSelectedComponents()));e.bi.event(t.bi.events.boxSlideShow.APPLY_ON_OTHER_SLIDES_SELECTED_SLIDES,i),this.appliedSlides=[]},slidesStateChange:function(){var e=null;return this.allSlides.length===this.selectedItems.length+1&&(e=!0),0===this.selectedItems.length&&(e=!1),{value:e,requestChange:function(e,t,i){var n=t.id;e&&n!==this.currentSlide.id?o.includes(this.selectedItems,n)||this.selectedItems.push(n):o.pull(this.selectedItems,n),this.appliedSlides.push({checked:e,originalSlideBgData:i,slide:t});var a=this.allSlides.length===this.selectedItems.length+1,r=!a&&this.selectedItems.length>0;if(a!==this.state.markAllSlidesDisplay||r!==this.state.indeterminate){var s={markAllSlidesDisplay:a,indeterminate:r};this.setState(s,this.updateSlides)}else this.updateSlides()}.bind(this)}},render:n})}),define("rEditor/rootComps/panels/panels",["rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel","rEditor/rootComps/panels/pagesAndPopupsPanel","rEditor/rootComps/panels/myMediaPanel","rEditor/rootComps/panels/backgroundPanel/backgroundPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel","rEditor/rootComps/panels/siteSettings/siteSettingsPanel","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel","rEditor/rootComps/panels/applyStylePanel/applyStylePanel","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem"],function(e,t,o,i,n,a,r,s,l,c,p,d,u){"use strict";return{pagesAndPopupsPanel:t,myMediaPanel:o,backgroundPanel:i,bgImageSettingsPanel:n,bgVideoSettingsPanel:a,backgroundApplyPanel:r,siteSettingsPanel:s,popup:{overlaySettingsPanel:e},editorVersionInfoPanel:l,applyStylePanel:c,boxSlideShowManageSlidesPanel:p,slideShowBgApplyPanel:d,slideShowBgApplyPanelItem:u}}),define("rEditor/rootComps/mixins/rootCompsMixins",["rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin"],function(e,t){"use strict";return{hiddenableMixin:e,keepInViewportMixin:t}}),define("rEditor",["rEditor/rootComps/editorMain","rEditor/rootComps/editor","rEditor/rootComps/panels/panels","rEditor/app/EditorAPI","rEditor/rootComps/mixins/rootCompsMixins","rEditor/rootComps/gfpp/gfppModel"],function(e,t,o,i,n,a){"use strict";return{editorMain:e,editorComp:t,panels:o,EditorAPI:i,mixins:n,gfppModel:a}});
//# sourceMappingURL=rEditor.min.js.map